

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Base module &mdash; k1lib  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="k1lib.cli module" href="cli/index.html" />
    <link rel="prev" title="k1lib library" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> k1lib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Base module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#context-managers">Context managers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#higher-order-functions">Higher order functions</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cli/index.html">k1lib.cli module</a></li>
<li class="toctree-l1"><a class="reference internal" href="callbacks/index.html">k1lib.callbacks module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="kdata.html">k1lib.kdata module</a></li>
<li class="toctree-l1"><a class="reference internal" href="eqn.html">k1lib.eqn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="fmt.html">k1lib.fmt module</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphEqn.html">k1lib.graphEqn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="imports.html">k1lib.imports module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mo.html">k1lib.mo module</a></li>
<li class="toctree-l1"><a class="reference internal" href="knn.html">k1lib.knn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedule.html">k1lib.schedule module</a></li>
<li class="toctree-l1"><a class="reference internal" href="selector.html">k1lib.selector module</a></li>
<li class="toctree-l1"><a class="reference internal" href="viz.html">k1lib.viz module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="monkey.html">Monkey patched classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelogs.html">Changelogs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">k1lib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Base module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/base.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="base-module">
<h1>Base module<a class="headerlink" href="#base-module" title="Permalink to this headline">¶</a></h1>
<dl class="py attribute">
<dt id="k1lib.settings">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">settings</span></code><a class="headerlink" href="#k1lib.settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>This is actually an object of type <a class="reference internal" href="#k1lib.Settings" title="k1lib.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Settings:
- displayCutoff     = 50                                                      ​cutoff length when displaying a Settings object
- svgScale          = 0.7                                                     ​default svg scales for clis that displays graphviz graphs
- wd                = /home/kelvin/repos/labs/k1lib/docs                      ​default working directory, will get from `os.getcwd()`. Will update using `os.chdir()` automatically when changed
- cancelRun_newLine = True                                                    ​whether to add a new line character at the end of the cancel run/epoch/batch message
- startup           = &lt;Settings&gt;                                              ​these settings have to be applied like this: `import k1lib; k1lib.settings.startup.or_patch = False; from k1lib.imports import *` to ensure that the values are set
  - or_patch = True                                                           ​whether to remove __or__() method from numpy array and pandas data frame and series. This would make cli operations with them a lot more pleasant, but also means you have to convert numpy floats to normal floats before doing a bitwise or to it
- cli               = &lt;Settings&gt;                                              ​from k1lib.cli module
  - jit           = True                                                      ​whether to enable automatic JIT compilation of cli tools. See `fastF` for more details
  - defaultDelim  =                                                           ​default delimiter used in-between columns when creating tables. Defaulted to tab character.
  - defaultIndent =                                                           ​default indent used for displaying nested structures
  - strict        = False                                                     ​turning it on can help you debug stuff, but could also be a pain to work with
  - inf           = inf                                                       ​infinity definition for many clis. Here because you might want to temporarily not loop things infinitely
  - quiet         = False                                                     ​whether to mute extra outputs from clis or not
  - arrayTypes    = (&lt;class &#39;torch.Tensor&#39;&gt;, &lt;class &#39;numpy.ndarray&#39;&gt;)         ​default array types used to accelerate clis
  - smooth        = 10                                                        ​default smooth amount, used in utils.smooth
  - atomic        = &lt;Settings&gt;                                                ​classes/types that are considered atomic and specified cli tools should never try to iterate over them
    - baseAnd = (&lt;class &#39;numbers.Number&#39;&gt;, &lt;class &#39;numpy.number...            ​used by BaseCli.__and__
    - deref   = (&lt;class &#39;numbers.Number&#39;&gt;, &lt;class &#39;numpy.number...            ​used by deref
  - bio           = &lt;Settings&gt;                                                ​from k1lib.cli.bio module
    - blast      = None                                                       ​location of BLAST database
    - go         = None                                                       ​location of gene ontology file (.obo)
    - so         = None                                                       ​location of sequence ontology file
    - lookupImgs = True                                                       ​sort of niche. Whether to auto looks up extra gene ontology relationship images
    - phred      = !&quot;#$%&amp;&#39;()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJ                 ​Phred quality score
  - sam           = &lt;Settings&gt;                                                ​from k1lib.cli.sam module
    - flags  = [&#39;PAIRED&#39;, &#39;PROPER_PAIR&#39;, &#39;UNMAP&#39;, &#39;MUNMAP&#39;, &#39;R...             ​list of flags
    - header = &lt;Settings&gt;                                                     ​sam headers
      - short = [&#39;qname&#39;, &#39;flag&#39;, &#39;rname&#39;, &#39;pos&#39;, &#39;mapq&#39;, &#39;ciga...            ​
      - long  = [&#39;Query template name&#39;, &#39;Flags&#39;, &#39;Reference seq...            ​
- eqn               = &lt;Settings&gt;                                              ​from k1lib.eqn module
  - spaceBetweenValueSymbol = True                                            ​
  - eqnPrintExtras          = True                                            ​
- mo                = &lt;Settings&gt;                                              ​from k1lib.mo module
  - overOctet = False                                                         ​whether to allow making bonds that exceeds the octet rule
</pre></div>
</div>
<p>Also, this is exposed automatically, so something like this works:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span><span class="o">.</span><span class="n">svgScale</span> <span class="o">=</span> <span class="mf">0.6</span>
</pre></div>
</div>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Learner</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Object" title="k1lib.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Object</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Range" title="k1lib.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Range</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Domain" title="k1lib.Domain"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Domain</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.AutoIncrement" title="k1lib.AutoIncrement"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.AutoIncrement</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Wrapper" title="k1lib.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Wrapper</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Every" title="k1lib.Every"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Every</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.RunOnce" title="k1lib.RunOnce"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.RunOnce</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.MaxDepth" title="k1lib.MaxDepth"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.MaxDepth</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.MovingAvg" title="k1lib.MovingAvg"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.MovingAvg</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Absorber" title="k1lib.Absorber"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Absorber</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Settings" title="k1lib.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Settings</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.UValue" title="k1lib.UValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.UValue</span></code></a></p></li>
</ul>
<dl class="py class">
<dt id="k1lib.Learner">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">Learner</span></code><a class="reference internal" href="_modules/k1lib/_learner.html#Learner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Learner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.Learner.model">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">model</span></code><a class="headerlink" href="#k1lib.Learner.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this to change the model to run</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.data">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">data</span></code><a class="headerlink" href="#k1lib.Learner.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this to change the data (list of 2 dataloader) to run against.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.opt">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">opt</span></code><a class="headerlink" href="#k1lib.Learner.opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this to change the optimizer. If you’re making your own
optimizers, beware to follow the PyTorch’s style guide as there are callbacks
that modifies optimizer internals while training like
<a class="reference internal" href="schedule.html#k1lib.schedule.ParamScheduler" title="k1lib.schedule.ParamScheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.schedule.ParamScheduler</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.cbs">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cbs</span></code><a class="headerlink" href="#k1lib.Learner.cbs" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="callbacks/index.html#k1lib.callbacks.callbacks.Callbacks" title="k1lib.callbacks.callbacks.Callbacks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callbacks</span></code></a> object. Initialized to
include all the common callbacks. You can set a new one if you want to.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.css">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">css</span></code><a class="headerlink" href="#k1lib.Learner.css" title="Permalink to this definition">¶</a></dt>
<dd><p>The css selector string. Set this to select other parts of the network.
After setting, you can access the selector like this: <code class="code docutils literal notranslate"><span class="pre">l.selector</span></code></p>
<p>See also: <a class="reference internal" href="selector.html#k1lib.selector.ModuleSelector" title="k1lib.selector.ModuleSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModuleSelector</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.lossF">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">lossF</span></code><a class="headerlink" href="#k1lib.Learner.lossF" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this to specify a loss function.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.evaluate">
<code class="sig-name descname"><span class="pre">evaluate</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_learner.html#Learner.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Learner.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to visualize quickly how the network is doing. Undefined by default,
just placed here as a convention, so you have to do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Learner</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">xbs</span><span class="p">,</span> <span class="n">ybs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Recorder</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">xbs</span><span class="p">),</span> <span class="n">torch</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">ys</span><span class="p">))</span>
<span class="n">l</span><span class="o">.</span><span class="n">evaluate</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">evaluate</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.__call__">
<code class="sig-name descname"><span class="pre">__call__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.Learner.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes just a small batch. Convenience method to query how the network is
doing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xb</strong> – x batch</p></li>
<li><p><strong>yb</strong> – y batch. If specified, return (y, loss), else return y alone</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.load">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">load</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.Learner.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> from a file. See also: <a class="reference internal" href="#k1lib.Learner.save" title="k1lib.Learner.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fileName</strong> – if empty, then will prompt for file name</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batches</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.Learner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Main run function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epochs</strong> – number of epochs to run. 1 epoch is the length of the dataset</p></li>
<li><p><strong>batches</strong> – if set, then cancels the epoch after reaching the specified batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.sample">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">sample</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib._learner.Learner</span><a class="headerlink" href="#k1lib.Learner.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an example learner, just for simple testing stuff anywhere. The
network tries to learn the function y=x. Only bare minimum callbacks are included.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Learner.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.Learner.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves this <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> to file. See also: <a class="reference internal" href="#k1lib.Learner.load" title="k1lib.Learner.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>. Does not
save the <code class="docutils literal notranslate"><span class="pre">data</span></code> object, because that’s potentially very big.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fileName</strong> – if empty, then will save as “learner-0.pth”, with 0
changeable to avoid conflicts. If resave this exact <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a>, then
use the old name generated before</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.Object">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">Object</span></code><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Object" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Convenience class that acts like <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.defaultdict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a>. You
can use it like a normal object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Object</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="p">)</span> <span class="c1"># outputs &quot;3&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> output is pretty nice too:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;__main__.Object&#39;&gt;, with attrs:
- b
</pre></div>
</div>
<p>You can instantiate it from a dict:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Object</span><span class="o">.</span><span class="n">fromDict</span><span class="p">({</span><span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">c</span><span class="p">)</span> <span class="c1"># outputs &quot;4&quot;</span>
</pre></div>
</div>
<p>And you can specify a default value, just like defaultdict:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Object</span><span class="p">()</span><span class="o">.</span><span class="n">withAutoDeclare</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[])</span>
<span class="n">a</span><span class="o">.</span><span class="n">texts</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;factorio&quot;</span><span class="p">,</span> <span class="s2">&quot;world of warcraft&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># outputs &quot;factorio&quot;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Default values only work with variables that don’t start with an
underscore “_”.</p>
</div>
<p>Treating it like defaultdict is okay too:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Object</span><span class="p">()</span><span class="o">.</span><span class="n">withAutoDeclare</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[])</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;movies&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dune&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">movies</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># outputs &quot;dune&quot; </span>
</pre></div>
</div>
<dl class="py method">
<dt id="k1lib.Object.fromDict">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fromDict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_dict</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Object.fromDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Object.fromDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object with attributes from a dictionary</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Object.state">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">state</span></code><a class="headerlink" href="#k1lib.Object.state" title="Permalink to this definition">¶</a></dt>
<dd><p>Essentially <code class="docutils literal notranslate"><span class="pre">__dict__</span></code>, but only outputs the fields you
defined. If your framework intentionally set some attributes, those
will be reported too, so beware</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Object.withAutoDeclare">
<code class="sig-name descname"><span class="pre">withAutoDeclare</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaultValueGenerator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Object.withAutoDeclare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Object.withAutoDeclare" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets this Object up so that if a field doesn’t
exist, it will automatically create it with a
default value.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Object.withRepr">
<code class="sig-name descname"><span class="pre">withRepr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_repr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Object.withRepr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Object.withRepr" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify output of <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code>. Legacy code. You can just
monkey patch it instead.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.Range">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">Range</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A range of numbers. It’s just 2 numbers really: start and stop</p>
<p>This is essentially a convenience class to provide a nice, clean
abstraction and to eliminate errors. You can transform values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">toUnit</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="c1"># returns 0.3</span>
<span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">fromUnit</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="c1"># returns 13</span>
<span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">toRange</span><span class="p">(</span><span class="n">Range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">13</span><span class="p">)</span> <span class="c1"># returns 17</span>
</pre></div>
</div>
<p>You can also do random math operations on it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">Range</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">43</span><span class="p">)</span> <span class="c1"># returns True</span>
<span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="o">==</span> <span class="o">~</span><span class="n">Range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># returns True</span>
</pre></div>
</div>
<dl class="py method">
<dt id="k1lib.Range.__getitem__">
<code class="sig-name descname"><span class="pre">__getitem__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>0 for start, 1 for stop</p>
<p>You can also pass in a <a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">slice</span></code></a> object, in which case, a range subset
will be returned. Code kinda looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">)[</span><span class="n">index</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new Range.</p>
<p>There are different <code class="docutils literal notranslate"><span class="pre">__init__</span></code> functions for many situations:</p>
<ul class="simple">
<li><p>Range(2, 11.1): create range [2, 11.1]</p></li>
<li><p>Range(15.2): creates range [0, 15.2]</p></li>
<li><p>Range(Range(2, 3)): create range [2, 3]. This serves as sort of a catch-all</p></li>
<li><p>Range(slice(2, 5, 2)): creates range [2, 5]. Can also be a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a></p></li>
<li><p>Range(slice(2, -1), 10): creates range [2, 9]</p></li>
<li><p>Range([1, 2, 7, 5]): creates range [1, 5]. Can also be a tuple</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.fixOrder">
<code class="sig-name descname"><span class="pre">fixOrder</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib._baseClasses.Range</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.fixOrder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.fixOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>If start greater than stop, switch the 2, else do nothing</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.intIter">
<code class="sig-name descname"><span class="pre">intIter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.intIter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.intIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns integers within this Range</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.toUnit">
<code class="sig-name descname"><span class="pre">toUnit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.toUnit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.toUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts x from current range to [0, 1] range. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">toUnit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># will return 0.375, as that is (5-2)/(10-2)</span>
</pre></div>
</div>
<p>You can actually pass in a lot in place of x:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">toUnit</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="c1"># will be [0.5, 0.3, 0.6]. Can also be a tuple</span>
<span class="n">r</span><span class="o">.</span><span class="n">toUnit</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> <span class="c1"># will be slice(0.5, 0.6). Can also be a range, or Range</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the last case, if <code class="docutils literal notranslate"><span class="pre">start</span></code> is None, it gets defaulted to 0, and
if <code class="docutils literal notranslate"><span class="pre">end</span></code> is None, it gets defaulted to 1</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.fromUnit">
<code class="sig-name descname"><span class="pre">fromUnit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.fromUnit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.fromUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts x from [0, 1] range to this range. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">fromUnit</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="c1"># will return 3</span>
</pre></div>
</div>
<p>x can be a lot of things, see <a class="reference internal" href="#k1lib.Range.toUnit" title="k1lib.Range.toUnit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toUnit()</span></code></a> for more</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.toRange">
<code class="sig-name descname"><span class="pre">toRange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_range</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">k1lib._baseClasses.Range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.toRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.toRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts x from current range to another range. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">toRange</span><span class="p">(</span><span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span> <span class="c1"># will return 60</span>
</pre></div>
</div>
<p>x can be a lot of things, see <a class="reference internal" href="#k1lib.Range.toUnit" title="k1lib.Range.toUnit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toUnit()</span></code></a> for more.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.fromRange">
<code class="sig-name descname"><span class="pre">fromRange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_range</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">k1lib._baseClasses.Range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.fromRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.fromRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse of <a class="reference internal" href="#k1lib.Range.toRange" title="k1lib.Range.toRange"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toRange()</span></code></a>, effectively.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.range_">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">range_</span></code><a class="headerlink" href="#k1lib.Range.range_" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> object with start and stop values
rounded off</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.slice_">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">slice_</span></code><a class="headerlink" href="#k1lib.Range.slice_" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">slice</span></code></a> object with start and stop values
rounded off</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.proportionalSlice">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">proportionalSlice</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r1Slice</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)"><span class="pre">slice</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">k1lib._baseClasses.Range</span><span class="p"><span class="pre">,</span> </span><span class="pre">k1lib._baseClasses.Range</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.proportionalSlice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.proportionalSlice" title="Permalink to this definition">¶</a></dt>
<dd><p>Slices r1 and r2 proportionally. Best to explain using an
example. Let’s say you have 2 arrays created from a time-dependent
procedure like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">b</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">t</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">t</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">t</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="c1"># returns (34, 20)</span>
</pre></div>
</div>
<p>a and b are of different lengths, but you want to plot both from 30%
mark to 50% mark (for a, it’s elements 10 -&gt; 17, for b it’s 6 -&gt; 10),
as they are time-dependent. As you can probably tell, to get the indicies
10, 17, 6, 10 is messy. So, you can do something like this instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">Range</span><span class="o">.</span><span class="n">proportionalSlice</span><span class="p">(</span><span class="n">Range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)),</span> <span class="n">Range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)),</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">17</span><span class="p">))</span>
</pre></div>
</div>
<p>This will return the Ranges [10, 17] and [5.88, 10]</p>
<p>Then, you can plot both of them side by side like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">range_</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">r1</span><span class="o">.</span><span class="n">slice_</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">r2</span><span class="o">.</span><span class="n">range_</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">r2</span><span class="o">.</span><span class="n">slice_</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.bound">
<code class="sig-name descname"><span class="pre">bound</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><span class="pre">range</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)"><span class="pre">slice</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><span class="pre">range</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)"><span class="pre">slice</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.bound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.bound" title="Permalink to this definition">¶</a></dt>
<dd><p>If input range|slice’s stop and start is missing, then use this
range’s start and stop instead.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Range.copy">
<code class="sig-name descname"><span class="pre">copy</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.Range.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.Domain">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">Domain</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">ranges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dontCheck</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.Domain.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">ranges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dontCheck</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ranges</strong> – each element is a <a class="reference internal" href="#k1lib.Range" title="k1lib.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">Range</span></code></a>, although any format will be fine as this selects for that</p></li>
<li><p><strong>dontCheck</strong> – don’t sanitize inputs, intended to boost perf internally only</p></li>
</ul>
</dd>
</dl>
<p>A domain is just an array of <a class="reference internal" href="#k1lib.Range" title="k1lib.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">Range</span></code></a> that represents what intervals on
the real number line is chosen. Some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inf</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span> <span class="c1"># shorthand for infinity</span>
<span class="n">Domain</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mf">7.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 3) U [5, 7.5)&quot;</span>
<span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 8)&quot; as overlaps are merged</span>
<span class="o">-</span><span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># represents &quot;(-inf, 2) U [3, inf)&quot;, so essentially R - d, with R being the set of real numbers</span>
<span class="o">-</span><span class="n">Domain</span><span class="p">([</span><span class="o">-</span><span class="n">inf</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># represents &quot;[3, inf)&quot;</span>
<span class="n">Domain</span><span class="o">.</span><span class="n">fromInts</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="c1"># represents &quot;[2, 4) U [6, 7)&quot;</span>
</pre></div>
</div>
<p>You can also do arithmetic on them, and check “in” oeprator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Domain</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 3) U [4, 5)&quot;</span>
<span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Domain</span><span class="p">([</span><span class="mf">2.9</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 5)&quot;, also merges overlaps</span>
<span class="mi">3</span> <span class="ow">in</span> <span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># returns False</span>
<span class="mi">2</span> <span class="ow">in</span> <span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># returns True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Domain.fromInts">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fromInts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">ints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain.fromInts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain.fromInts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new <a class="reference internal" href="#k1lib.Domain" title="k1lib.Domain"><code class="xref py py-class docutils literal notranslate"><span class="pre">Domain</span></code></a> which has ranges [i, i+1] for each
int given.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Domain.copy">
<code class="sig-name descname"><span class="pre">copy</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.Domain.intIter">
<code class="sig-name descname"><span class="pre">intIter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain.intIter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain.intIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields ints in all ranges of this domain. If first range’s domain
is <span class="math notranslate nohighlight">\((-\inf, a)\)</span>, then starts at the specified integer</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.AutoIncrement">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">AutoIncrement</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialValue</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#AutoIncrement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.AutoIncrement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.AutoIncrement.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialValue</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#AutoIncrement.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.AutoIncrement.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new AutoIncrement object. Every time the object is called
it gets incremented by 1 automatically. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">AutoIncrement</span><span class="p">()</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns 0</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns 1</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns 2</span>
<span class="n">a</span><span class="o">.</span><span class="n">value</span> <span class="c1"># returns 2</span>
<span class="n">a</span><span class="o">.</span><span class="n">value</span> <span class="c1"># returns 2</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns 3</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">AutoIncrement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;cluster_&quot;</span><span class="p">)</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns &quot;cluster_0&quot;</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns &quot;cluster_1&quot;</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns &quot;cluster_2&quot;</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns &quot;cluster_0&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – if specified, then will wrap around to 0 when hit this number</p></li>
<li><p><strong>prefix</strong> – if specified, will yield strings with specified prefix</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.AutoIncrement.random">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">random</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib._baseClasses.AutoIncrement</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#AutoIncrement.random"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.AutoIncrement.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new AutoIncrement object that has a random integer initial value</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.AutoIncrement.value">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">value</span></code><a class="headerlink" href="#k1lib.AutoIncrement.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value as-is, without auto incrementing it</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.AutoIncrement.__call__">
<code class="sig-name descname"><span class="pre">__call__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#AutoIncrement.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.AutoIncrement.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Increments internal counter, and return it.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.Wrapper">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">Wrapper</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Wrapper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.Wrapper.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Wrapper.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Wrapper.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a wrapper for some value and get it by calling it.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Wrapper</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mf">1e7</span><span class="p">))))</span>
<span class="c1"># returns [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="n">a</span><span class="p">()[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<p>This exists just so that Jupyter Lab’s contextual help won’t automatically
display the (possibly humongous) value. Could be useful if you want to pass a
value by reference everywhere like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Wrapper</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">f</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="n">o</span><span class="p">()</span> <span class="c1"># returns 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="k1lib.Wrapper.value">
<code class="sig-name descname"><span class="pre">value</span></code><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#k1lib.Wrapper.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal value of this <a class="reference internal" href="#k1lib.Wrapper" title="k1lib.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wrapper</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.Every">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">Every</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Every"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Every" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.Every.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Every.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Every.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True every interval.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Every</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns True</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Every.__call__">
<code class="sig-name descname"><span class="pre">__call__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Every.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Every.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True or False based on internal count.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Every.value">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">value</span></code><a class="headerlink" href="#k1lib.Every.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.RunOnce">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">RunOnce</span></code><a class="reference internal" href="_modules/k1lib/_baseClasses.html#RunOnce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.RunOnce" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.RunOnce.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#RunOnce.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.RunOnce.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns False first time only.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">RunOnce</span><span class="p">()</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns True</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns True</span>
<span class="n">r</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns True</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns True</span>
</pre></div>
</div>
<p>May be useful in situations like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ro</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">RunOnce</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ro</span><span class="o">.</span><span class="n">done</span><span class="p">():</span> <span class="k">return</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">x</span>
        <span class="k">return</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">x</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># returns 9</span>
<span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># returns 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.RunOnce.done">
<code class="sig-name descname"><span class="pre">done</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#RunOnce.done"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.RunOnce.done" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this has been called once before.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.RunOnce.revert">
<code class="sig-name descname"><span class="pre">revert</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#RunOnce.revert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.RunOnce.revert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.MaxDepth">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">MaxDepth</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxDepth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MaxDepth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MaxDepth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.MaxDepth.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxDepth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MaxDepth.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MaxDepth.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience utility to check for graph max depth.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span><span class="p">:</span> <span class="n">f</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">enter</span><span class="p">())</span>
<span class="c1"># prints &quot;0\n1\n2\n3&quot;</span>
<span class="n">f</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">MaxDepth</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Of course, this might look unpleasant to the end user, so this is more
likely for internal tools.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.MaxDepth.enter">
<code class="sig-name descname"><span class="pre">enter</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib._baseClasses.MaxDepth</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MaxDepth.enter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MaxDepth.enter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.MovingAvg">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">MovingAvg</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initV</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MovingAvg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MovingAvg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.MovingAvg.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initV</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MovingAvg.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MovingAvg.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothes out sequential data using momentum.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">MovingAvg</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">a</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="c1"># returns 4.8, because 0.9*5 + 0.1*3 = 4.8</span>
<span class="n">a</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="c1"># returns 4.62</span>
</pre></div>
</div>
<p>Difference between normal and debias modes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span> <span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">op</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">MovingAvg</span><span class="p">(</span><span class="n">debias</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">a</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">MovingAvg</span><span class="p">(</span><span class="n">debias</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">a</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s2">&quot;Signal&quot;</span><span class="p">,</span> <span class="s2">&quot;Normal&quot;</span><span class="p">,</span> <span class="s2">&quot;Debiased&quot;</span><span class="p">])</span>
</pre></div>
</div>
<img alt="_images/movingAvg.png" src="_images/movingAvg.png" />
<p>As you can see, normal mode still has the influence of the initial value at
0 and can’t rise up fast, whereas the debias mode will ignore the initial
value and immediately snaps to the first saved value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initV</strong> – initial value</p></li>
<li><p><strong>alpha</strong> – number in [0, 1]. Basically how much to keep old value?</p></li>
<li><p><strong>debias</strong> – whether to debias the initial value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.Absorber">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">Absorber</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initDict</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Creates an object that absorbes every operation done on it. Could be
useful in some scenarios:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ab</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Absorber</span><span class="p">()</span>
<span class="c1"># absorbs all operations done on the object</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">ab</span><span class="p">[::</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1"># returns transformed tensor of size [2, 3]</span>
<span class="n">ab</span><span class="o">.</span><span class="n">ab_operate</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>Another:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ab</span> <span class="o">=</span> <span class="n">Absorber</span><span class="p">()</span>
<span class="n">ab</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">50</span>
<span class="c1"># returns [0, 1, -50, 3, 4]</span>
<span class="n">ab</span><span class="o">.</span><span class="n">ab_operate</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span>
</pre></div>
</div>
<p>Because this object absorbs every operation done on it, you have to be gentle with
it, as any unplanned disturbances might throw your code off. Best to create a new
one on the fly, and pass them immediately to functions, because if you’re in a
notebook environment like Jupyter, it might poke at variables.</p>
<p>For extended code example that utilizes this, check over <a class="reference internal" href="cli/index.html#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.modifier.op</span></code></a>
source code.</p>
<dl class="py method">
<dt id="k1lib.Absorber.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initDict</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new Absorber.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>initDict</strong> – initial variables to set, as setattr operation is normally absorbed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.ab_operate">
<code class="sig-name descname"><span class="pre">ab_operate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_operate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_operate" title="Permalink to this definition">¶</a></dt>
<dd><p>Special method to actually operate on an object and get the result. Not
absorbed. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 6</span>
<span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">ab_operate</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.ab_fastF">
<code class="sig-name descname"><span class="pre">ab_fastF</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_fastF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_fastF" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a function that operates on the input (just like <a class="reference internal" href="#k1lib.Absorber.ab_operate" title="k1lib.Absorber.ab_operate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ab_operate()</span></code></a>),
but much faster, suitable for high performance tasks. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Absorber</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">ab_fastF</span><span class="p">()</span>
<span class="c1"># returns 6</span>
<span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.ab_int">
<code class="sig-name descname"><span class="pre">ab_int</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">int(ab)</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.ab_float">
<code class="sig-name descname"><span class="pre">ab_float</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">float(ab)</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.ab_str">
<code class="sig-name descname"><span class="pre">ab_str</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">str(ab)</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.ab_len">
<code class="sig-name descname"><span class="pre">ab_len</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_len"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">len(ab)</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Absorber.ab_contains">
<code class="sig-name descname"><span class="pre">ab_contains</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">in</span> <span class="pre">ab</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.Settings">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">Settings</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.Settings.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Settings.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Settings.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new settings object. Basically fancy version of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s2">&quot;42&quot;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="n">s</span><span class="o">.</span><span class="n">a</span> <span class="c1"># returns 3</span>
<span class="n">s</span><span class="o">.</span><span class="n">b</span> <span class="c1"># returns &quot;42&quot;</span>
<span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="c1"># returns 8</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c1"># prints nested settings nicely</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Settings.context">
<code class="sig-name descname"><span class="pre">context</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Settings.context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Settings.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager to temporarily modify some settings. Applies
to all sub-settings. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s2">&quot;42&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">8</span><span class="p">))</span>
<span class="k">with</span> <span class="n">s</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">s</span><span class="o">.</span><span class="n">a</span> <span class="c1"># returns 4</span>
    <span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="c1"># returns 20</span>
<span class="n">s</span><span class="o">.</span><span class="n">a</span> <span class="c1"># returns 3</span>
<span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="c1"># returns 8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.Settings.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">docs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">k1lib._baseClasses.Settings</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib._baseClasses.Settings</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Settings.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Settings.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Long way to add a variable. Advantage of this is that you can slip in extra
documentation for the variable. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;some docs&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c1"># displays the extra docs</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cb</strong> – callback that takes in (settings, new value) if any property changes</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.UValue">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">UValue</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.UValue.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new “uncertain value”, which has a mean and a standard
deviation. You can then do math operations on them as normal, and the
propagation errors will be automatically calculated for you. Make sure to
run the calculation multiple times as the mean and std values fluctuates by
a little run-by-run. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns UValue(mean=4.7117, std=3.4736) object</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">()</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also instantiate from an existing list/numpy array/pytorch tensor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns UValue(mean=24.5, std=14.58) object</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="o">.</span><span class="n">fromSeries</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
</pre></div>
</div>
<p>You can also do arbitrary complex math operations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns UValue(mean=0.5544, std=0.4871)</span>
<span class="p">(</span><span class="mi">20</span> <span class="o">+</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">())</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">)</span>
<span class="c1"># same as above, but takes longer to run!</span>
<span class="p">(</span><span class="mi">20</span> <span class="o">+</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">())</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">)</span>
</pre></div>
</div>
<p>I suggest you to make your arbitrary function out of numpy’s operations,
as those are a fair bit faster than regular Python.</p>
<p>If you have a list of <a class="reference internal" href="#k1lib.UValue" title="k1lib.UValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">UValue</span></code></a>, and want to plot them with error
bars, then you can do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">)</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">y</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()));</span>
</pre></div>
</div>
<p>There are several caveats however:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>First is the problem of theoretically vs actually sample a
distribution. Let’s see an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns theoretical value UValue(mean=8000.0, std=1200.0) -&gt; 8000.0 ± 1200.0</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">**</span> <span class="mi">3</span>
<span class="c1"># prints out actual mean and std value of (8064.1030, 1204.3529)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span> <span class="o">**</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">a</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
</pre></div>
</div>
<p>So far so good. However, let’s create some uncertainty in “3”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns theoretical value UValue(mean=8000.0, std=23996.0) -&gt; 10000.0 ± 20000.0</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">**</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># prints out actual mean and std value of (815302.8750, 27068828.), but is very unstable and changes a lot</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span> <span class="o">**</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">a</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
</pre></div>
</div>
<p>Woah, what happens here? The actual mean and std values are
completely different from the theoretical values. This is
mainly due to UValue(3) has some outlier values large enough
to boost the result up multiple times. Even removing 1% of
values on either end of the spectrum does not quite work. So,
becareful to interpret these uncertainty values, and in some
case the theoretical estimates from math are actually very
unstable and will not be observed in real life.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Then there’s the problem of each complex operation, say <code class="docutils literal notranslate"><span class="pre">(v*2+3)/5</span></code>
will be done step by step, meaning <code class="docutils literal notranslate"><span class="pre">a=v*2</span></code> mean and std will be
calculated first, then ignoring the calculated sample values and just
go with the mean and std, sample a bunch of values from there and calculate
<code class="docutils literal notranslate"><span class="pre">a+3</span></code> mean and std. Rinse and repeat. This means that these 2 statements
may differ by a lot:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out (0.15867302766786406, 0.12413313456900205)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span> <span class="n">sq</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">sq</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">sq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">y</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>

<span class="c1"># returns UValue(mean=0.081577, std=0.32757) -&gt; 0.1 ± 0.3</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="n">sq</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">sq</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="n">sq</span><span class="p">)</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">)</span>
</pre></div>
</div>
<p>Why this weird function? It converts from a single nice hump into multiple
complex humps. Anyway, this serves to demonstrate that the result from the
<code class="docutils literal notranslate"><span class="pre">calculate</span> <span class="pre">-&gt;</span> <span class="pre">get</span> <span class="pre">mean,</span> <span class="pre">std</span> <span class="pre">-&gt;</span> <span class="pre">sample</span> <span class="pre">from</span> <span class="pre">new</span> <span class="pre">distribution</span> <span class="pre">-&gt;</span> <span class="pre">calculate</span></code>
process might be different from just calculating from start to end and then
get the mean and std.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Lastly, you might have problems when using the same UValue multiple times in
an expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">UValue</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">*</span> <span class="mi">2</span> <span class="c1"># has mean 20, std 2</span>
<span class="n">a</span> <span class="o">+</span> <span class="n">a</span> <span class="c1"># has mean 20, std 1.4</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.sample">
<code class="sig-name descname"><span class="pre">sample</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a sample <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+git37eb315 ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> representative of this
uncertain value. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns tensor([-5.1095,  3.3117, -2.5759,  ..., -2.5810, -1.8131,  1.8339])</span>
<span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">()</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.fromSeries">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fromSeries</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unbiased</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.fromSeries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.fromSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <a class="reference internal" href="#k1lib.UValue" title="k1lib.UValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">UValue</span></code></a> from a bunch of numbers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> – can be a list of numbers, numpy array or PyTorch tensor</p></li>
<li><p><strong>unbiased</strong> – if True, Bessel’s correction will be used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.fromBounds">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fromBounds</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.fromBounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.fromBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <a class="reference internal" href="#k1lib.UValue" title="k1lib.UValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">UValue</span></code></a> from min and max values.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns UValue(mean=2.5, std=0.5)</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="o">.</span><span class="n">fromBounds</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.exact">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">exact</span></code><a class="headerlink" href="#k1lib.UValue.exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this UValue is exact or not</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.test">
<code class="sig-name descname"><span class="pre">test</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns how many sigma a particular value is.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.f">
<code class="sig-name descname"><span class="pre">f</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.f"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.f" title="Permalink to this definition">¶</a></dt>
<dd><p>Covered in <a class="reference internal" href="#k1lib.UValue.__init__" title="k1lib.UValue.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> docs</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.bounds">
<code class="sig-name descname"><span class="pre">bounds</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns (mean-std, mean+std)</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.combine">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">combine</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines multiple UValues into 1.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1"># both returns 6.0 ± 1.4</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span> <span class="o">|</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="o">.</span><span class="n">combine</span><span class="p">()</span>
</pre></div>
</div>
<p>This will sample each UValue by default 1000 times, put them into a
single series and get a UValue from that. Why not just take the
average instead? Because the standard deviation will be less, and
will not actually reflect the action of combining UValues together:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 6.0 ± 0.7, which is narrower than expected</span>
<span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.UValue.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickly plots a histogram of the distribution.
Possible to plot multiple histograms in 1 plot.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.wrapMod">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">wrapMod</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moduleName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#wrapMod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.wrapMod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.wrapMod.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moduleName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#wrapMod.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.wrapMod.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps around a module, and only suggest symbols in __all__ list
defined inside the module. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">randomModule</span>
<span class="n">randomModule</span> <span class="o">=</span> <span class="n">wrapMod</span><span class="p">(</span><span class="n">randomModule</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – the imported module</p></li>
<li><p><strong>moduleName</strong> – optional new module name for elements (their __module__ attr)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="context-managers">
<h2>Context managers<a class="headerlink" href="#context-managers" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#k1lib.captureStdout" title="k1lib.captureStdout"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.captureStdout</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.ignoreWarnings" title="k1lib.ignoreWarnings"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.ignoreWarnings</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.timer" title="k1lib.timer"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.timer</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.attrContext" title="k1lib.attrContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.attrContext</span></code></a></p></li>
</ul>
<dl class="py class">
<dt id="k1lib.captureStdout">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">captureStdout</span></code><a class="reference internal" href="_modules/k1lib/_context.html#captureStdout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.captureStdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Captures every print() statement. Taken from <a class="reference external" href="https://stackoverflow.com/questions/16571150/how-to-capture-stdout-output-from-a-python-function-call">https://stackoverflow.com/questions/16571150/how-to-capture-stdout-output-from-a-python-function-call</a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">captureStdout</span><span class="p">()</span> <span class="k">as</span> <span class="n">outer</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;something&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">captureStdout</span><span class="p">()</span> <span class="k">as</span> <span class="n">inner</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;inside inner&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;else&quot;</span><span class="p">)</span>
<span class="c1"># prints &quot;[&#39;something&#39;, &#39;else&#39;]&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outer</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="c1"># prints &quot;[&#39;inside inner&#39;]&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that internally, this replaces <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.stdout" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> as <a class="reference external" href="https://docs.python.org/3/library/io.html#io.StringIO" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.StringIO</span></code></a>, so
might not work property if you have fancy <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> stuff going on. Also,
carriage return (<code class="docutils literal notranslate"><span class="pre">\r</span></code>) will erase the line, so multi-line overlaps might not
show up correctly.</p>
<p>If you wish to still print stuff out, you can do something
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">captureStdout</span><span class="p">()</span> <span class="k">as</span> <span class="n">out</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span> <span class="c1"># gets captured</span>
    <span class="n">out</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;def&quot;</span><span class="p">)</span> <span class="c1"># not captured, will actually print out</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.ignoreWarnings">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">ignoreWarnings</span></code><a class="reference internal" href="_modules/k1lib/_context.html#ignoreWarnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.ignoreWarnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager to ignore every warning.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">ignoreWarnings</span><span class="p">():</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;some random stuff&quot;</span><span class="p">)</span> <span class="c1"># will not show anything</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.timer">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">timer</span></code><a class="reference internal" href="_modules/k1lib/_context.html#timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Times generic code.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span>
<span class="c1"># prints out float close to 1.1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">())</span>
</pre></div>
</div>
<p>The with- statement will actually return a <a class="reference internal" href="#k1lib.Wrapper" title="k1lib.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wrapper</span></code></a> with value
None. The correct time will be deposited into it after the code block ends.</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.attrContext">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">attrContext</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_context.html#attrContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.attrContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily sets variable’s attribute to something else.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="p">)</span> <span class="c1"># prints &quot;3&quot;</span>
<span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">attrContext</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">c</span><span class="p">)</span> <span class="c1"># prints &quot;4 5&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">c</span><span class="p">)</span> <span class="c1"># prints &quot;3 None&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>These exceptions are used within <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> to cancel things early on.
If you raise <a class="reference internal" href="#k1lib.CancelBatchException" title="k1lib.CancelBatchException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CancelBatchException</span></code></a> while passing through the model,
the <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> will catch it, run cleanup code (including checkpoint
<code class="docutils literal notranslate"><span class="pre">endBatch</span></code> ), then proceeds as usual.</p>
<p>If you raise something more major, like <a class="reference internal" href="#k1lib.CancelRunException" title="k1lib.CancelRunException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CancelRunException</span></code></a>,
<a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> will first catch it at batch level, run clean up code, then
rethrow it. <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> will then recatch it at the epoch level, run
clean up code, then rethrow again. Same deal at the run level.</p>
<dl class="py exception">
<dt id="k1lib.CancelRunException">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">CancelRunException</span></code><a class="reference internal" href="_modules/k1lib/_learner.html#CancelRunException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.CancelRunException" title="Permalink to this definition">¶</a></dt>
<dd><p>Used in core training loop, to skip the run entirely</p>
</dd></dl>

<dl class="py exception">
<dt id="k1lib.CancelEpochException">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">CancelEpochException</span></code><a class="reference internal" href="_modules/k1lib/_learner.html#CancelEpochException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.CancelEpochException" title="Permalink to this definition">¶</a></dt>
<dd><p>Used in core training loop, to skip to next epoch</p>
</dd></dl>

<dl class="py exception">
<dt id="k1lib.CancelBatchException">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">CancelBatchException</span></code><a class="reference internal" href="_modules/k1lib/_learner.html#CancelBatchException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.CancelBatchException" title="Permalink to this definition">¶</a></dt>
<dd><p>Used in core training loop, to skip to next batch</p>
</dd></dl>

</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="k1lib.textToHtml">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">textToHtml</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><a class="reference internal" href="_modules/k1lib/_basics.html#textToHtml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.textToHtml" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a string so that it looks the same on browsers
as in <cite>print()</cite></p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.clearLine">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">clearLine</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#clearLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.clearLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a character that clears the current line</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.isNumeric">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">isNumeric</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><a class="reference internal" href="_modules/k1lib/_basics.html#isNumeric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.isNumeric" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether object is actually a number</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.close">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether 2 values are really close to each other</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.patch">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">patch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_class</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><span class="pre">type</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">docs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#patch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Patches a function to a class/object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_class</strong> – object to patch function. Can also be a type</p></li>
<li><p><strong>name</strong> – name of patched function, if different from current</p></li>
<li><p><strong>docs</strong> – docs of patched function. Can be object with defined __doc__ attr</p></li>
<li><p><strong>static</strong> – whether to wrap this inside <code class="xref py py-class docutils literal notranslate"><span class="pre">staticmethod</span></code> or not</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified function just before patching</p>
</dd>
</dl>
<p>Intended to be used like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">methA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;inside methA&quot;</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">methB</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;inside methB&quot;</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">methB</span><span class="p">()</span> <span class="c1"># returns &quot;inside methB&quot;</span>
</pre></div>
</div>
<p>You can do <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> attributes like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s2">&quot;propC&quot;</span><span class="p">)</span>
<span class="nd">@property</span>
<span class="k">def</span> <span class="nf">propC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_propC</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s2">&quot;propC&quot;</span><span class="p">)</span>
<span class="nd">@propC</span><span class="o">.</span><span class="n">setter</span>
<span class="k">def</span> <span class="nf">propC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_propC</span> <span class="o">=</span> <span class="n">value</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">();</span> <span class="n">a</span><span class="o">.</span><span class="n">propC</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
<span class="n">a</span><span class="o">.</span><span class="n">propC</span> <span class="c1"># returns &quot;abc&quot;</span>
</pre></div>
</div>
<p>The attribute name unfortunately has to be explicitly declared, as I can’t
really find a way to extract the original name. You can also do static
methods like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">static</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">staticD</span><span class="p">(</span><span class="n">arg1</span><span class="p">):</span> <span class="k">return</span> <span class="n">arg1</span>

<span class="n">A</span><span class="o">.</span><span class="n">staticD</span><span class="p">(</span><span class="s2">&quot;def&quot;</span><span class="p">)</span> <span class="c1"># returns &quot;def&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="k1lib.wraps">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">wraps</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ogF</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#wraps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.wraps" title="Permalink to this definition">¶</a></dt>
<dd><p>Kinda like <code class="xref py py-meth docutils literal notranslate"><span class="pre">functools.wraps()</span></code>, but don’t update __annotations__.</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.squeeze">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">squeeze</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_list</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><span class="pre">tuple</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+git37eb315 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#squeeze"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.squeeze" title="Permalink to this definition">¶</a></dt>
<dd><p>If list only has 1 element, returns that element, else returns original
list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hard</strong> – If True, then if list/tuple, filters out None, and takes the first
element out even if that list/tuple has more than 1 element</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="k1lib.raiseEx">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">raiseEx</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ex</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><span class="pre">Exception</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#raiseEx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.raiseEx" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises a specific exception. May be useful in lambdas</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.numDigits">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">numDigits</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><a class="reference internal" href="_modules/k1lib/_basics.html#numDigits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.numDigits" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of digits/characters of this number/object</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.limitLines">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">limitLines</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><a class="reference internal" href="_modules/k1lib/_basics.html#limitLines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.limitLines" title="Permalink to this definition">¶</a></dt>
<dd><p>If input string is too long, truncates it and adds ellipsis</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.limitChars">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">limitChars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#limitChars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.limitChars" title="Permalink to this definition">¶</a></dt>
<dd><p>If input string is too long, truncates to first <cite>limit</cite> characters of the first line</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.showLog">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">showLog</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loggerName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#showLog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.showLog" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out logs of a particular logger at a particular level</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.beep">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">beep</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#beep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.beep" title="Permalink to this definition">¶</a></dt>
<dd><p>Plays a beeping sound, may be useful as notification for long-running tasks</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.dontWrap">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">dontWrap</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#dontWrap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.dontWrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Don’t wrap horizontally when in a notebook. Normally, if you’re
displaying something long, like the output of <code class="docutils literal notranslate"><span class="pre">print('a'*1000)</span></code> in a notebook,
it will display it in multiple lines. This may be undesirable, so this solves
that by displaying some HTML with css styles so that the notebook doesn’t wrap.</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.debounce">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">debounce</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wait</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threading</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#debounce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.debounce" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that will postpone a function’s execution until after
<code class="docutils literal notranslate"><span class="pre">wait</span></code> seconds have elapsed since the last time it was invoked. Taken
from <a class="reference external" href="https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Events.html">ipywidgets</a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">k1lib</span><span class="o">,</span> <span class="nn">time</span><span class="p">;</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">debounce</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">global</span> <span class="n">value</span><span class="p">;</span> <span class="n">value</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">);</span> <span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="c1"># prints &quot;0&quot;</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.7</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="c1"># prints &quot;9&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wait</strong> – wait time in seconds</p></li>
<li><p><strong>threading</strong> – if True, use multiple threads, else just use async stuff</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="k1lib.scaleSvg">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">scaleSvg</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">svg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><a class="reference internal" href="_modules/k1lib/_basics.html#scaleSvg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.scaleSvg" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales an svg xml string by some amount.</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.pValue">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">pValue</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zScore</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#pValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.pValue" title="Permalink to this definition">¶</a></dt>
<dd><p>2-sided p value of a particular z score. Requires <a class="reference external" href="https://docs.scipy.org/doc/scipy/index.html#module-scipy" title="(in SciPy v1.8.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.now">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">now</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#now"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.now" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for returning a simple time
string, with timezone and whatnot.</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.sameStorage">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">sameStorage</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#sameStorage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.sameStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether 2 (<code class="xref py py-class docutils literal notranslate"><span class="pre">np.ndarray</span></code> or <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+git37eb315 ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>)
has the same storage or not. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="c1"># returns True</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">sameStorage</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
<span class="c1"># returns True</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">sameStorage</span><span class="p">(</span><span class="n">a</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span> <span class="n">a</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
<span class="n">returns</span> <span class="n">false</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">sameStorage</span><span class="p">(</span><span class="n">a</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<p>All examples above should work with PyTorch tensors as well.</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.perlin3d">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">perlin3d</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">shape=(100</span></em>, <em class="sig-param"><span class="pre">100</span></em>, <em class="sig-param"><span class="pre">100)</span></em>, <em class="sig-param"><span class="pre">res=(2</span></em>, <em class="sig-param"><span class="pre">2</span></em>, <em class="sig-param"><span class="pre">2)</span></em>, <em class="sig-param"><span class="pre">tileable=(False</span></em>, <em class="sig-param"><span class="pre">False</span></em>, <em class="sig-param"><span class="pre">False)</span></em>, <em class="sig-param"><span class="pre">interpolant=&lt;function</span> <span class="pre">interpolant&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_perlin.html#perlin3d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.perlin3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a 3D numpy array of perlin noise. Not my code! All credits go
to the author of this library: <a class="reference external" href="https://github.com/pvigier/perlin-numpy">https://github.com/pvigier/perlin-numpy</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> – The shape of the generated array (tuple of three ints).
This must be a multiple of res.</p></li>
<li><p><strong>res</strong> – The number of periods of noise to generate along each
axis (tuple of three ints). Note shape must be a multiple
of res.</p></li>
<li><p><strong>tileable</strong> – If the noise should be tileable along each axis
(tuple of three bools). Defaults to (False, False, False).</p></li>
<li><p><strong>interpolant</strong> – The interpolation function, defaults to
t*t*t*(t*(t*6 - 15) + 10).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A numpy array of shape shape with the generated noise.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If shape is not a multiple of res.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="k1lib.graph">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">graph</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for creating a new graphviz Graph. See also: <a class="reference internal" href="#k1lib.digraph" title="k1lib.digraph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">digraph()</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.digraph">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">digraph</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#digraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.digraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for creating a new graphviz Digraph.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">graph</span><span class="p">()</span>
<span class="n">g</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="c1"># displays arrows from &quot;a&quot; to &quot;b&quot; and &quot;a&quot; to &quot;c&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="higher-order-functions">
<h2>Higher order functions<a class="headerlink" href="#higher-order-functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="k1lib.polyfit">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">polyfit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/k1lib/_higher.html#polyfit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.polyfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a function that approximate <span class="math notranslate nohighlight">\(f(x) = y\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deg</strong> – degree of the polynomial of the returned function</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="k1lib.derivative">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">derivative</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/k1lib/_higher.html#derivative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the derivative of a function.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">df</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># returns roughly 6 </span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="k1lib.optimize">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">optimize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><a class="reference internal" href="_modules/k1lib/_higher.html#optimize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Given <span class="math notranslate nohighlight">\(f(x) = 0\)</span>, solves for x using Newton’s method with initial value
<cite>v</cite>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span>
<span class="c1"># returns 1.4142 (root 2)</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="c1"># returns -1.4142 (negative root 2)</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Interestingly, for some reason, result of this is more accurate than <a class="reference internal" href="#k1lib.derivative" title="k1lib.derivative"><code class="xref py py-meth docutils literal notranslate"><span class="pre">derivative()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.inverse">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">inverse</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/k1lib/_higher.html#inverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the inverse of a function.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="n">fInv</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">inverse</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="c1"># returns roughly 3</span>
<span class="n">fInv</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The inverse function takes a long time to run, so don’t use this
where you need lots of speed. Also, as you might imagine, the
inverse function isn’t really airtight. Should work well with
monotonic functions, but all bets are off with other functions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="k1lib.integral">
<code class="sig-prename descclassname"><span class="pre">k1lib.</span></code><code class="sig-name descname"><span class="pre">integral</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_range</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">k1lib._baseClasses.Range</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><a class="reference internal" href="_modules/k1lib/_higher.html#integral"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrates a function over a range.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="c1"># returns roughly 9</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p>There is also the cli <a class="reference internal" href="cli/index.html#k1lib.cli.modifier.integrate" title="k1lib.cli.modifier.integrate"><code class="xref py py-class docutils literal notranslate"><span class="pre">integrate</span></code></a>
which has a slightly different api.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="cli/index.html" class="btn btn-neutral float-right" title="k1lib.cli module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="k1lib library" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Quang Ho.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>