<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Base module &mdash; k1lib  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="k1lib.cli module" href="cli/index.html" />
    <link rel="prev" title="k1lib library" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> k1lib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Base module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#k1lib.settings"><code class="docutils literal notranslate"><span class="pre">k1lib.settings</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#classes">Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.Learner"><code class="docutils literal notranslate"><span class="pre">Learner</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.model"><code class="docutils literal notranslate"><span class="pre">Learner.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.data"><code class="docutils literal notranslate"><span class="pre">Learner.data</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.opt"><code class="docutils literal notranslate"><span class="pre">Learner.opt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.cbs"><code class="docutils literal notranslate"><span class="pre">Learner.cbs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.css"><code class="docutils literal notranslate"><span class="pre">Learner.css</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.lossF"><code class="docutils literal notranslate"><span class="pre">Learner.lossF</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.evaluate"><code class="docutils literal notranslate"><span class="pre">Learner.evaluate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.__call__"><code class="docutils literal notranslate"><span class="pre">Learner.__call__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.load"><code class="docutils literal notranslate"><span class="pre">Learner.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.run"><code class="docutils literal notranslate"><span class="pre">Learner.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.sample"><code class="docutils literal notranslate"><span class="pre">Learner.sample()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Learner.save"><code class="docutils literal notranslate"><span class="pre">Learner.save()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.Object"><code class="docutils literal notranslate"><span class="pre">Object</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Object.fromDict"><code class="docutils literal notranslate"><span class="pre">Object.fromDict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Object.state"><code class="docutils literal notranslate"><span class="pre">Object.state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Object.withAutoDeclare"><code class="docutils literal notranslate"><span class="pre">Object.withAutoDeclare()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Object.withRepr"><code class="docutils literal notranslate"><span class="pre">Object.withRepr()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.Range"><code class="docutils literal notranslate"><span class="pre">Range</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.__getitem__"><code class="docutils literal notranslate"><span class="pre">Range.__getitem__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.__init__"><code class="docutils literal notranslate"><span class="pre">Range.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.fixOrder"><code class="docutils literal notranslate"><span class="pre">Range.fixOrder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.intIter"><code class="docutils literal notranslate"><span class="pre">Range.intIter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.toUnit"><code class="docutils literal notranslate"><span class="pre">Range.toUnit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.fromUnit"><code class="docutils literal notranslate"><span class="pre">Range.fromUnit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.toRange"><code class="docutils literal notranslate"><span class="pre">Range.toRange()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.fromRange"><code class="docutils literal notranslate"><span class="pre">Range.fromRange()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.range_"><code class="docutils literal notranslate"><span class="pre">Range.range_</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.slice_"><code class="docutils literal notranslate"><span class="pre">Range.slice_</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.proportionalSlice"><code class="docutils literal notranslate"><span class="pre">Range.proportionalSlice()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.bound"><code class="docutils literal notranslate"><span class="pre">Range.bound()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.copy"><code class="docutils literal notranslate"><span class="pre">Range.copy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Range.__invert__"><code class="docutils literal notranslate"><span class="pre">Range.__invert__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.Domain"><code class="docutils literal notranslate"><span class="pre">Domain</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Domain.__init__"><code class="docutils literal notranslate"><span class="pre">Domain.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Domain.fromInts"><code class="docutils literal notranslate"><span class="pre">Domain.fromInts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Domain.copy"><code class="docutils literal notranslate"><span class="pre">Domain.copy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Domain.intIter"><code class="docutils literal notranslate"><span class="pre">Domain.intIter()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.AutoIncrement"><code class="docutils literal notranslate"><span class="pre">AutoIncrement</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.AutoIncrement.__init__"><code class="docutils literal notranslate"><span class="pre">AutoIncrement.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.AutoIncrement.random"><code class="docutils literal notranslate"><span class="pre">AutoIncrement.random()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.AutoIncrement.value"><code class="docutils literal notranslate"><span class="pre">AutoIncrement.value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.AutoIncrement.__call__"><code class="docutils literal notranslate"><span class="pre">AutoIncrement.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.Wrapper"><code class="docutils literal notranslate"><span class="pre">Wrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Wrapper.__init__"><code class="docutils literal notranslate"><span class="pre">Wrapper.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Wrapper.value"><code class="docutils literal notranslate"><span class="pre">Wrapper.value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Wrapper.__ror__"><code class="docutils literal notranslate"><span class="pre">Wrapper.__ror__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.Every"><code class="docutils literal notranslate"><span class="pre">Every</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Every.__init__"><code class="docutils literal notranslate"><span class="pre">Every.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Every.__call__"><code class="docutils literal notranslate"><span class="pre">Every.__call__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Every.value"><code class="docutils literal notranslate"><span class="pre">Every.value</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.RunOnce"><code class="docutils literal notranslate"><span class="pre">RunOnce</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.RunOnce.__init__"><code class="docutils literal notranslate"><span class="pre">RunOnce.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.RunOnce.done"><code class="docutils literal notranslate"><span class="pre">RunOnce.done()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.RunOnce.revert"><code class="docutils literal notranslate"><span class="pre">RunOnce.revert()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.MaxDepth"><code class="docutils literal notranslate"><span class="pre">MaxDepth</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.MaxDepth.__init__"><code class="docutils literal notranslate"><span class="pre">MaxDepth.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.MaxDepth.enter"><code class="docutils literal notranslate"><span class="pre">MaxDepth.enter()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.MovingAvg"><code class="docutils literal notranslate"><span class="pre">MovingAvg</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.MovingAvg.__init__"><code class="docutils literal notranslate"><span class="pre">MovingAvg.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.Absorber"><code class="docutils literal notranslate"><span class="pre">Absorber</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.__init__"><code class="docutils literal notranslate"><span class="pre">Absorber.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.ab_solidify"><code class="docutils literal notranslate"><span class="pre">Absorber.ab_solidify()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.ab_operate"><code class="docutils literal notranslate"><span class="pre">Absorber.ab_operate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.ab_fastF"><code class="docutils literal notranslate"><span class="pre">Absorber.ab_fastF()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.__ror__"><code class="docutils literal notranslate"><span class="pre">Absorber.__ror__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.__invert__"><code class="docutils literal notranslate"><span class="pre">Absorber.__invert__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.ab_int"><code class="docutils literal notranslate"><span class="pre">Absorber.ab_int()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.ab_float"><code class="docutils literal notranslate"><span class="pre">Absorber.ab_float()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.ab_str"><code class="docutils literal notranslate"><span class="pre">Absorber.ab_str()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.ab_len"><code class="docutils literal notranslate"><span class="pre">Absorber.ab_len()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Absorber.ab_contains"><code class="docutils literal notranslate"><span class="pre">Absorber.ab_contains()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.Settings"><code class="docutils literal notranslate"><span class="pre">Settings</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Settings.__init__"><code class="docutils literal notranslate"><span class="pre">Settings.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Settings.context"><code class="docutils literal notranslate"><span class="pre">Settings.context()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.Settings.add"><code class="docutils literal notranslate"><span class="pre">Settings.add()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.UValue"><code class="docutils literal notranslate"><span class="pre">UValue</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.sample"><code class="docutils literal notranslate"><span class="pre">UValue.sample()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.fromSeries"><code class="docutils literal notranslate"><span class="pre">UValue.fromSeries()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.fromBounds"><code class="docutils literal notranslate"><span class="pre">UValue.fromBounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.exact"><code class="docutils literal notranslate"><span class="pre">UValue.exact</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.test"><code class="docutils literal notranslate"><span class="pre">UValue.test()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.f"><code class="docutils literal notranslate"><span class="pre">UValue.f()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.bounds"><code class="docutils literal notranslate"><span class="pre">UValue.bounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.combine"><code class="docutils literal notranslate"><span class="pre">UValue.combine()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.plot"><code class="docutils literal notranslate"><span class="pre">UValue.plot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.UValue.__init__"><code class="docutils literal notranslate"><span class="pre">UValue.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.wrapMod"><code class="docutils literal notranslate"><span class="pre">wrapMod</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#k1lib.wrapMod.__init__"><code class="docutils literal notranslate"><span class="pre">wrapMod.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#context-managers">Context managers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.captureStdout"><code class="docutils literal notranslate"><span class="pre">captureStdout</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.capturePlt"><code class="docutils literal notranslate"><span class="pre">capturePlt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.ignoreWarnings"><code class="docutils literal notranslate"><span class="pre">ignoreWarnings</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.timer"><code class="docutils literal notranslate"><span class="pre">timer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.attrContext"><code class="docutils literal notranslate"><span class="pre">attrContext</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.CancelRunException"><code class="docutils literal notranslate"><span class="pre">CancelRunException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.CancelEpochException"><code class="docutils literal notranslate"><span class="pre">CancelEpochException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.CancelBatchException"><code class="docutils literal notranslate"><span class="pre">CancelBatchException</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.isNumeric"><code class="docutils literal notranslate"><span class="pre">isNumeric()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.patch"><code class="docutils literal notranslate"><span class="pre">patch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.wraps"><code class="docutils literal notranslate"><span class="pre">wraps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.squeeze"><code class="docutils literal notranslate"><span class="pre">squeeze()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.raiseEx"><code class="docutils literal notranslate"><span class="pre">raiseEx()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.numDigits"><code class="docutils literal notranslate"><span class="pre">numDigits()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.limitLines"><code class="docutils literal notranslate"><span class="pre">limitLines()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.limitChars"><code class="docutils literal notranslate"><span class="pre">limitChars()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.showLog"><code class="docutils literal notranslate"><span class="pre">showLog()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.beep"><code class="docutils literal notranslate"><span class="pre">beep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.dontWrap"><code class="docutils literal notranslate"><span class="pre">dontWrap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.debounce"><code class="docutils literal notranslate"><span class="pre">debounce()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.scaleSvg"><code class="docutils literal notranslate"><span class="pre">scaleSvg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.pValue"><code class="docutils literal notranslate"><span class="pre">pValue()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.now"><code class="docutils literal notranslate"><span class="pre">now()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.pushNotification"><code class="docutils literal notranslate"><span class="pre">pushNotification()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.dep"><code class="docutils literal notranslate"><span class="pre">dep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.ticks"><code class="docutils literal notranslate"><span class="pre">ticks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.perlin3d"><code class="docutils literal notranslate"><span class="pre">perlin3d()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.graph"><code class="docutils literal notranslate"><span class="pre">graph()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.digraph"><code class="docutils literal notranslate"><span class="pre">digraph()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#higher-order-functions">Higher order functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.polyfit"><code class="docutils literal notranslate"><span class="pre">polyfit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.derivative"><code class="docutils literal notranslate"><span class="pre">derivative()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.optimize"><code class="docutils literal notranslate"><span class="pre">optimize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.inverse"><code class="docutils literal notranslate"><span class="pre">inverse()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#k1lib.integral"><code class="docutils literal notranslate"><span class="pre">integral()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cli/index.html">k1lib.cli module</a></li>
<li class="toctree-l1"><a class="reference internal" href="callbacks/index.html">k1lib.callbacks module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="k1a.html">k1lib._k1a module</a></li>
<li class="toctree-l1"><a class="reference internal" href="k1ui.html">k1lib.k1ui module</a></li>
<li class="toctree-l1"><a class="reference internal" href="eqn.html">k1lib.eqn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="fmt.html">k1lib.fmt module</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphEqn.html">k1lib.graphEqn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="imports.html">k1lib.imports module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mo.html">k1lib.mo module</a></li>
<li class="toctree-l1"><a class="reference internal" href="knn.html">k1lib.knn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="p5.html">k1lib.p5 module</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedule.html">k1lib.schedule module</a></li>
<li class="toctree-l1"><a class="reference internal" href="selector.html">k1lib.selector module</a></li>
<li class="toctree-l1"><a class="reference internal" href="serve.html">k1lib.serve module</a></li>
<li class="toctree-l1"><a class="reference internal" href="viz.html">k1lib.viz module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="monkey.html">Monkey patched classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelogs.html">Changelogs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">k1lib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Base module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/base.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="base-module">
<h1>Base module<a class="headerlink" href="#base-module" title="Permalink to this heading"></a></h1>
<dl class="py attribute">
<dt class="sig sig-object py" id="k1lib.settings">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">settings</span></span><a class="headerlink" href="#k1lib.settings" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>This is actually an object of type <a class="reference internal" href="#k1lib.Settings" title="k1lib.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Settings:
- displayCutoff       = 50                                                    ​cutoff length when displaying a Settings object
- svgScale            = 0.7                                                   ​default svg scales for clis that displays graphviz graphs
- wd                  = /home/kelvin/repos/labs/k1lib/docs                    ​default working directory, will get from `os.getcwd()`. Will update using `os.chdir()` automatically when changed
- cancelRun_newLine   = True                                                  ​whether to add a new line character at the end of the cancel run/epoch/batch message
- pushNotificationKey = k-968979f2a1e9                                        ​API key for `k1lib.pushNotification()`. See docs of that for more info
- startup             = &lt;Settings&gt;                                            ​these settings have to be applied like this: `import k1lib; k1lib.settings.startup.or_patch = False; from k1lib.imports import *` to ensure that the values are set
  - init_ray = True                                                           ​whether to connect to ray&#39;s cluster accessible locally automatically
  - or_patch = &lt;Settings&gt;                                                     ​whether to patch __or__() method for several C-extension datatypes (numpy array, pandas data frame/series, etc). This would make cli operations with them a lot more pleasant, but might cause strange bugs. Haven&#39;t met them myself though
    - numpy  = True                                                           ​whether to patch numpy arrays
    - dict   = True                                                           ​whether to patch Python dict keys and items
    - pandas = True                                                           ​whether to patch pandas series
- cli                 = &lt;Settings&gt;                                            ​from k1lib.cli module
  - defaultDelim  =                                                           ​default delimiter used in-between columns when creating tables. Defaulted to tab character.
  - defaultIndent =                                                           ​default indent used for displaying nested structures
  - strict        = False                                                     ​turning it on can help you debug stuff, but could also be a pain to work with
  - inf           = inf                                                       ​infinity definition for many clis. Here because you might want to temporarily not loop things infinitely
  - quiet         = False                                                     ​whether to mute extra outputs from clis or not
  - arrayTypes    = (&lt;class &#39;torch.Tensor&#39;&gt;, &lt;class &#39;numpy.ndarray&#39;&gt;)         ​default array types used to accelerate clis
  - font          = /home/kelvin/ssd/data/fonts/Courier_Prime/Couri...        ​default font file. Best to use .ttf files, used by toPIL()
  - smooth        = 10                                                        ​default smooth amount, used in utils.smooth
  - atomic        = &lt;Settings&gt;                                                ​classes/types that are considered atomic and specified cli tools should never try to iterate over them
    - baseAnd  = (&lt;class &#39;numbers.Number&#39;&gt;, &lt;class &#39;numpy.number...           ​used by BaseCli.__and__
    - typeHint = (&lt;class &#39;numbers.Number&#39;&gt;, &lt;class &#39;numpy.number...           ​atomic types used for infering type of object for optimization passes
    - deref    = (&lt;class &#39;numbers.Number&#39;&gt;, &lt;class &#39;numpy.number...           ​used by deref
  - llvm          = &lt;Settings&gt;                                                ​settings related to LLVM-inspired optimizer `tOpt`. See more at module `k1lib.cli.typehint`
    - k1a = True                                                              ​utilize the supplementary C-compiled library automatically for optimizations
  - cat           = &lt;Settings&gt;                                                ​inp.cat() settings
    - chunkSize = 100000                                                      ​file reading chunk size for binary+chunk mode. Decrease it to avoid wasting memory and increase it to avoid disk latency
    - every     = &lt;Settings&gt;                                                  ​profiler print frequency
      - text   = 1000                                                         ​for text mode, will print every n lines
      - binary = 10                                                           ​for binary mode, will print every n 100000-byte blocks
  - RemoteFile    = &lt;Settings&gt;                                                ​inp.RemoteFile() settings, used in cat(), splitSeek() and the like
    - memoryLimit = 100000000                                                 ​if the internal cache exceeds this limit (in bytes), and randomAccess is False, then old downloaded chunks will be deleted
    - timeout     = 10                                                        ​seconds before terminating the remote request and retrying
    - retries     = 10                                                        ​how many times to retry sending the request before giving up
  - applyCl       = &lt;Settings&gt;                                                ​modifier.applyCl() settings
    - sudoTimeout = 300                                                       ​seconds before deleting the stored password for sudo commands
  - chem          = &lt;Settings&gt;                                                ​chemistry-related settings
    - imgSize = 200                                                           ​default image size used in toPIL() when drawing rdkit molecules
  - bio           = &lt;Settings&gt;                                                ​from k1lib.cli.bio module
    - blast      = None                                                       ​location of BLAST database
    - go         = None                                                       ​location of gene ontology file (.obo)
    - so         = None                                                       ​location of sequence ontology file
    - lookupImgs = True                                                       ​sort of niche. Whether to auto looks up extra gene ontology relationship images
    - phred      = !&quot;#$%&amp;&#39;()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJ                 ​Phred quality score
  - sam           = &lt;Settings&gt;                                                ​from k1lib.cli.sam module
    - flags  = [&#39;PAIRED&#39;, &#39;PROPER_PAIR&#39;, &#39;UNMAP&#39;, &#39;MUNMAP&#39;, &#39;R...             ​list of flags
    - header = &lt;Settings&gt;                                                     ​sam headers
      - short = [&#39;qname&#39;, &#39;flag&#39;, &#39;rname&#39;, &#39;pos&#39;, &#39;mapq&#39;, &#39;ciga...            ​
      - long  = [&#39;Query template name&#39;, &#39;Flags&#39;, &#39;Reference seq...            ​
- monkey              = &lt;Settings&gt;                                            ​monkey-patched settings

- fmt                 = &lt;Settings&gt;                                            ​from k1lib.fmt module
  - separator = True                                                          ​whether to have a space between the number and the unit
  - colors    = [&#39;#8dd3c7&#39;, &#39;#ffffb3&#39;, &#39;#bebada&#39;, &#39;#fb8072&#39;, &#39;#...            ​List of colors to cycle through in fmt.colors()
- k1ui                = &lt;Settings&gt;                                            ​docs related to k1ui java library
  - server = &lt;Settings&gt;                                                       ​server urls
    - http = http://localhost:9511                                            ​normal http server
    - ws   = ws://localhost:9512                                              ​websocket server
  - draw   = &lt;Settings&gt;                                                       ​drawing settings
    - trackHeight = 30                                                        ​Track&#39;s height in Recording visualization
    - pad         = 10                                                        ​Padding between tracks
- eqn                 = &lt;Settings&gt;                                            ​from k1lib.eqn module
  - spaceBetweenValueSymbol = True                                            ​
  - eqnPrintExtras          = True                                            ​
- mo                  = &lt;Settings&gt;                                            ​from k1lib.mo module
  - overOctet = False                                                         ​whether to allow making bonds that exceeds the octet rule
</pre></div>
</div>
<p>Also, this is exposed automatically, so something like this works:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span><span class="o">.</span><span class="n">svgScale</span> <span class="o">=</span> <span class="mf">0.6</span>
</pre></div>
</div>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Learner</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Object" title="k1lib.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Object</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Range" title="k1lib.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Range</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Domain" title="k1lib.Domain"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Domain</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.AutoIncrement" title="k1lib.AutoIncrement"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.AutoIncrement</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Wrapper" title="k1lib.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Wrapper</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Every" title="k1lib.Every"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Every</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.RunOnce" title="k1lib.RunOnce"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.RunOnce</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.MaxDepth" title="k1lib.MaxDepth"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.MaxDepth</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.MovingAvg" title="k1lib.MovingAvg"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.MovingAvg</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Absorber" title="k1lib.Absorber"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Absorber</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.Settings" title="k1lib.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Settings</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.UValue" title="k1lib.UValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.UValue</span></code></a></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="k1lib.Learner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">Learner</span></span><a class="reference internal" href="_modules/k1lib/_learner.html#Learner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Learner" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Learner.model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model</span></span><a class="headerlink" href="#k1lib.Learner.model" title="Permalink to this definition"></a></dt>
<dd><p>Set this to change the model to run</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Learner.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#k1lib.Learner.data" title="Permalink to this definition"></a></dt>
<dd><p>Set this to change the data (list of 2 dataloader) to run against.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Learner.opt">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">opt</span></span><a class="headerlink" href="#k1lib.Learner.opt" title="Permalink to this definition"></a></dt>
<dd><p>Set this to change the optimizer. If you’re making your own
optimizers, beware to follow the PyTorch’s style guide as there are callbacks
that modifies optimizer internals while training like
<a class="reference internal" href="schedule.html#k1lib.schedule.ParamScheduler" title="k1lib.schedule.ParamScheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.schedule.ParamScheduler</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Learner.cbs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cbs</span></span><a class="headerlink" href="#k1lib.Learner.cbs" title="Permalink to this definition"></a></dt>
<dd><p>The <a class="reference internal" href="callbacks/index.html#k1lib.callbacks.callbacks.Callbacks" title="k1lib.callbacks.callbacks.Callbacks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callbacks</span></code></a> object. Initialized to
include all the common callbacks. You can set a new one if you want to.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Learner.css">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">css</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#k1lib.Learner.css" title="Permalink to this definition"></a></dt>
<dd><p>The css selector string. Set this to select other parts of the network.
After setting, you can access the selector like this: <code class="code docutils literal notranslate"><span class="pre">l.selector</span></code></p>
<p>See also: <a class="reference internal" href="selector.html#k1lib.selector.ModuleSelector" title="k1lib.selector.ModuleSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModuleSelector</span></code></a></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Learner.lossF">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lossF</span></span><a class="headerlink" href="#k1lib.Learner.lossF" title="Permalink to this definition"></a></dt>
<dd><p>Set this to specify a loss function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Learner.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_learner.html#Learner.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Learner.evaluate" title="Permalink to this definition"></a></dt>
<dd><p>Function to visualize quickly how the network is doing. Undefined by default,
just placed here as a convention, so you have to do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Learner</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">xbs</span><span class="p">,</span> <span class="n">ybs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Recorder</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">xbs</span><span class="p">),</span> <span class="n">torch</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">ys</span><span class="p">))</span>
<span class="n">l</span><span class="o">.</span><span class="n">evaluate</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">evaluate</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Learner.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.Learner.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Executes just a small batch. Convenience method to query how the network is
doing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xb</strong> – x batch</p></li>
<li><p><strong>yb</strong> – y batch. If specified, return (y, loss), else return y alone</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Learner.load">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.Learner.load" title="Permalink to this definition"></a></dt>
<dd><p>Loads a <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> from a file. See also: <a class="reference internal" href="#k1lib.Learner.save" title="k1lib.Learner.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># this will load up learner in file &quot;skip1_128bs.pth&quot;</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">k1</span><span class="o">.</span><span class="n">Learner</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;skip1_128bs&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fileName</strong> – if empty, then will prompt for file name</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Learner.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batches</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.Learner.run" title="Permalink to this definition"></a></dt>
<dd><p>Main run function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epochs</strong> – number of epochs to run. 1 epoch is the length of the dataset</p></li>
<li><p><strong>batches</strong> – if set, then cancels the epoch after reaching the specified batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Learner.sample">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#k1lib.Learner" title="k1lib._learner.Learner"><span class="pre">Learner</span></a></span></span><a class="headerlink" href="#k1lib.Learner.sample" title="Permalink to this definition"></a></dt>
<dd><p>Creates an example learner, just for simple testing stuff anywhere. The
network tries to learn the function y=x. Only bare minimum callbacks are included.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Learner.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.Learner.save" title="Permalink to this definition"></a></dt>
<dd><p>Saves this <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> to file. See also: <a class="reference internal" href="#k1lib.Learner.load" title="k1lib.Learner.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>. Does not
save the <code class="docutils literal notranslate"><span class="pre">data</span></code> object, because that’s potentially very big. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="n">k1</span><span class="o">.</span><span class="n">Learner</span><span class="p">()</span>
<span class="c1"># saves learner to &quot;skip1_128bs.pth&quot; and model to &quot;skip1_128bs.model.pth&quot;</span>
<span class="n">l</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;skip1_128bs&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fileName</strong> – name to save file into</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.Object">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">Object</span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Object" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Convenience class that acts like <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.defaultdict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a>. You
can use it like a normal object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Object</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="p">)</span> <span class="c1"># outputs &quot;3&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> output is pretty nice too:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;__main__.Object&#39;&gt;, with attrs:
- b
</pre></div>
</div>
<p>You can instantiate it from a dict:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Object</span><span class="o">.</span><span class="n">fromDict</span><span class="p">({</span><span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">c</span><span class="p">)</span> <span class="c1"># outputs &quot;4&quot;</span>
</pre></div>
</div>
<p>And you can specify a default value, just like defaultdict:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Object</span><span class="p">()</span><span class="o">.</span><span class="n">withAutoDeclare</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[])</span>
<span class="n">a</span><span class="o">.</span><span class="n">texts</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;factorio&quot;</span><span class="p">,</span> <span class="s2">&quot;world of warcraft&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># outputs &quot;factorio&quot;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Default values only work with variables that don’t start with an
underscore “_”.</p>
</div>
<p>Treating it like defaultdict is okay too:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Object</span><span class="p">()</span><span class="o">.</span><span class="n">withAutoDeclare</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[])</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;movies&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dune&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">movies</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># outputs &quot;dune&quot; </span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Object.fromDict">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Object.fromDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Object.fromDict" title="Permalink to this definition"></a></dt>
<dd><p>Creates an object with attributes from a dictionary</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Object.state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a></em><a class="headerlink" href="#k1lib.Object.state" title="Permalink to this definition"></a></dt>
<dd><p>Essentially <code class="docutils literal notranslate"><span class="pre">__dict__</span></code>, but only outputs the fields you
defined. If your framework intentionally set some attributes, those
will be reported too, so beware</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Object.withAutoDeclare">
<span class="sig-name descname"><span class="pre">withAutoDeclare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaultValueGenerator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Object.withAutoDeclare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Object.withAutoDeclare" title="Permalink to this definition"></a></dt>
<dd><p>Sets this Object up so that if a field doesn’t
exist, it will automatically create it with a
default value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Object.withRepr">
<span class="sig-name descname"><span class="pre">withRepr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_repr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Object.withRepr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Object.withRepr" title="Permalink to this definition"></a></dt>
<dd><p>Specify output of <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code>. Legacy code. You can just
monkey patch it instead.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.Range">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">Range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A range of numbers. It’s just 2 numbers really: start and stop</p>
<p>This is essentially a convenience class to provide a nice, clean
abstraction and to eliminate errors. You can transform values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">toUnit</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="c1"># returns 0.3</span>
<span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">fromUnit</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="c1"># returns 13</span>
<span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">toRange</span><span class="p">(</span><span class="n">Range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">13</span><span class="p">)</span> <span class="c1"># returns 17</span>
</pre></div>
</div>
<p>You can also do random math operations on it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">Range</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">43</span><span class="p">)</span> <span class="c1"># returns True</span>
<span class="n">Range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="o">==</span> <span class="o">~</span><span class="n">Range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># returns True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.__getitem__" title="Permalink to this definition"></a></dt>
<dd><p>0 for start, 1 for stop</p>
<p>You can also pass in a <a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">slice</span></code></a> object, in which case, a range subset
will be returned. Code kinda looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">)[</span><span class="n">index</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new Range.</p>
<p>There are different <code class="docutils literal notranslate"><span class="pre">__init__</span></code> functions for many situations:</p>
<ul class="simple">
<li><p>Range(2, 11.1): create range [2, 11.1]</p></li>
<li><p>Range(15.2): creates range [0, 15.2]</p></li>
<li><p>Range(Range(2, 3)): create range [2, 3]. This serves as sort of a catch-all</p></li>
<li><p>Range(slice(2, 5, 2)): creates range [2, 5]. Can also be a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a></p></li>
<li><p>Range(slice(2, -1), 10): creates range [2, 9]</p></li>
<li><p>Range([1, 2, 7, 5]): creates range [1, 5]. Can also be a tuple</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.fixOrder">
<span class="sig-name descname"><span class="pre">fixOrder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#k1lib.Range" title="k1lib._baseClasses.Range"><span class="pre">Range</span></a></span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.fixOrder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.fixOrder" title="Permalink to this definition"></a></dt>
<dd><p>If start greater than stop, switch the 2, else do nothing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.intIter">
<span class="sig-name descname"><span class="pre">intIter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.11)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.intIter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.intIter" title="Permalink to this definition"></a></dt>
<dd><p>Returns integers within this Range</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.toUnit">
<span class="sig-name descname"><span class="pre">toUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.toUnit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.toUnit" title="Permalink to this definition"></a></dt>
<dd><p>Converts x from current range to [0, 1] range. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">toUnit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># will return 0.375, as that is (5-2)/(10-2)</span>
</pre></div>
</div>
<p>You can actually pass in a lot in place of x:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">toUnit</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="c1"># will be [0.5, 0.3, 0.6]. Can also be a tuple</span>
<span class="n">r</span><span class="o">.</span><span class="n">toUnit</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> <span class="c1"># will be slice(0.5, 0.6). Can also be a range, or Range</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the last case, if <code class="docutils literal notranslate"><span class="pre">start</span></code> is None, it gets defaulted to 0, and
if <code class="docutils literal notranslate"><span class="pre">end</span></code> is None, it gets defaulted to 1</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.fromUnit">
<span class="sig-name descname"><span class="pre">fromUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.fromUnit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.fromUnit" title="Permalink to this definition"></a></dt>
<dd><p>Converts x from [0, 1] range to this range. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">fromUnit</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="c1"># will return 3</span>
</pre></div>
</div>
<p>x can be a lot of things, see <a class="reference internal" href="#k1lib.Range.toUnit" title="k1lib.Range.toUnit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toUnit()</span></code></a> for more</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.toRange">
<span class="sig-name descname"><span class="pre">toRange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#k1lib.Range" title="k1lib._baseClasses.Range"><span class="pre">Range</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.toRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.toRange" title="Permalink to this definition"></a></dt>
<dd><p>Converts x from current range to another range. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">toRange</span><span class="p">(</span><span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span> <span class="c1"># will return 60</span>
</pre></div>
</div>
<p>x can be a lot of things, see <a class="reference internal" href="#k1lib.Range.toUnit" title="k1lib.Range.toUnit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toUnit()</span></code></a> for more.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.fromRange">
<span class="sig-name descname"><span class="pre">fromRange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#k1lib.Range" title="k1lib._baseClasses.Range"><span class="pre">Range</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.fromRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.fromRange" title="Permalink to this definition"></a></dt>
<dd><p>Reverse of <a class="reference internal" href="#k1lib.Range.toRange" title="k1lib.Range.toRange"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toRange()</span></code></a>, effectively.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Range.range_">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">range_</span></span><a class="headerlink" href="#k1lib.Range.range_" title="Permalink to this definition"></a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> object with start and stop values
rounded off</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Range.slice_">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">slice_</span></span><a class="headerlink" href="#k1lib.Range.slice_" title="Permalink to this definition"></a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">slice</span></code></a> object with start and stop values
rounded off</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.proportionalSlice">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">proportionalSlice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r1Slice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.11)"><span class="pre">slice</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.Range" title="k1lib._baseClasses.Range"><span class="pre">Range</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#k1lib.Range" title="k1lib._baseClasses.Range"><span class="pre">Range</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.proportionalSlice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.proportionalSlice" title="Permalink to this definition"></a></dt>
<dd><p>Slices r1 and r2 proportionally. Best to explain using an
example. Let’s say you have 2 arrays created from a time-dependent
procedure like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">b</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">t</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">t</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">t</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="c1"># returns (34, 20)</span>
</pre></div>
</div>
<p>a and b are of different lengths, but you want to plot both from 30%
mark to 50% mark (for a, it’s elements 10 -&gt; 17, for b it’s 6 -&gt; 10),
as they are time-dependent. As you can probably tell, to get the indicies
10, 17, 6, 10 is messy. So, you can do something like this instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">Range</span><span class="o">.</span><span class="n">proportionalSlice</span><span class="p">(</span><span class="n">Range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)),</span> <span class="n">Range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)),</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">17</span><span class="p">))</span>
</pre></div>
</div>
<p>This will return the Ranges [10, 17] and [5.88, 10]</p>
<p>Then, you can plot both of them side by side like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">range_</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">r1</span><span class="o">.</span><span class="n">slice_</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">r2</span><span class="o">.</span><span class="n">range_</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">r2</span><span class="o">.</span><span class="n">slice_</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.bound">
<span class="sig-name descname"><span class="pre">bound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.11)"><span class="pre">range</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.11)"><span class="pre">slice</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.11)"><span class="pre">range</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.11)"><span class="pre">slice</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.bound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.bound" title="Permalink to this definition"></a></dt>
<dd><p>If input range|slice’s stop and start is missing, then use this
range’s start and stop instead.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Range.__invert__">
<span class="sig-name descname"><span class="pre">__invert__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Range.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Range.__invert__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.Domain">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">Domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">ranges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dontCheck</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Domain.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">ranges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dontCheck</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ranges</strong> – each element is a <a class="reference internal" href="#k1lib.Range" title="k1lib.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">Range</span></code></a>, although any format will be fine as this selects for that</p></li>
<li><p><strong>dontCheck</strong> – don’t sanitize inputs, intended to boost perf internally only</p></li>
</ul>
</dd>
</dl>
<p>A domain is just an array of <a class="reference internal" href="#k1lib.Range" title="k1lib.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">Range</span></code></a> that represents what intervals on
the real number line is chosen. Some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inf</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span> <span class="c1"># shorthand for infinity</span>
<span class="n">Domain</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mf">7.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 3) U [5, 7.5)&quot;</span>
<span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 8)&quot; as overlaps are merged</span>
<span class="o">-</span><span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># represents &quot;(-inf, 2) U [3, inf)&quot;, so essentially R - d, with R being the set of real numbers</span>
<span class="o">-</span><span class="n">Domain</span><span class="p">([</span><span class="o">-</span><span class="n">inf</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># represents &quot;[3, inf)&quot;</span>
<span class="n">Domain</span><span class="o">.</span><span class="n">fromInts</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="c1"># represents &quot;[2, 4) U [6, 7)&quot;</span>
</pre></div>
</div>
<p>You can also do arithmetic on them, and check “in” oeprator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Domain</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 3) U [4, 5)&quot;</span>
<span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Domain</span><span class="p">([</span><span class="mf">2.9</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 5)&quot;, also merges overlaps</span>
<span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">&amp;</span> <span class="n">Domain</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span> <span class="c1"># represents &quot;[2, 3) A [2.5, 5)&quot;, or &quot;[2.5, 3)&quot;</span>
<span class="mi">3</span> <span class="ow">in</span> <span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># returns False</span>
<span class="mi">2</span> <span class="ow">in</span> <span class="n">Domain</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1"># returns True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Domain.fromInts">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromInts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">ints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain.fromInts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain.fromInts" title="Permalink to this definition"></a></dt>
<dd><p>Returns a new <a class="reference internal" href="#k1lib.Domain" title="k1lib.Domain"><code class="xref py py-class docutils literal notranslate"><span class="pre">Domain</span></code></a> which has ranges [i, i+1] for each
int given.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Domain.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Domain.intIter">
<span class="sig-name descname"><span class="pre">intIter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Domain.intIter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Domain.intIter" title="Permalink to this definition"></a></dt>
<dd><p>Yields ints in all ranges of this domain. If first range’s domain
is <span class="math notranslate nohighlight">\((-\inf, a)\)</span>, then starts at the specified integer</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.AutoIncrement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">AutoIncrement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialValue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#AutoIncrement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.AutoIncrement" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.AutoIncrement.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialValue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#AutoIncrement.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.AutoIncrement.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new AutoIncrement object. Every time the object is called
it gets incremented by 1 automatically. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">AutoIncrement</span><span class="p">()</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns 0</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns 1</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns 2</span>
<span class="n">a</span><span class="o">.</span><span class="n">value</span> <span class="c1"># returns 2</span>
<span class="n">a</span><span class="o">.</span><span class="n">value</span> <span class="c1"># returns 2</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns 3</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">AutoIncrement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;cluster_&quot;</span><span class="p">)</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns &quot;cluster_0&quot;</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns &quot;cluster_1&quot;</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns &quot;cluster_2&quot;</span>
<span class="n">a</span><span class="p">()</span> <span class="c1"># returns &quot;cluster_0&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – if specified, then will wrap around to 0 when hit this number</p></li>
<li><p><strong>prefix</strong> – if specified, will yield strings with specified prefix</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.AutoIncrement.random">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">random</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#k1lib.AutoIncrement" title="k1lib._baseClasses.AutoIncrement"><span class="pre">AutoIncrement</span></a></span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#AutoIncrement.random"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.AutoIncrement.random" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new AutoIncrement object that has a random integer initial value</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.AutoIncrement.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#k1lib.AutoIncrement.value" title="Permalink to this definition"></a></dt>
<dd><p>Get the value as-is, without auto incrementing it</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.AutoIncrement.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#AutoIncrement.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.AutoIncrement.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Increments internal counter, and return it.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.Wrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">Wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Wrapper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Wrapper" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Wrapper.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Wrapper.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Wrapper.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Creates a wrapper for some value and get it by calling it.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1</span><span class="o">.</span><span class="n">Wrapper</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mf">1e7</span><span class="p">))))</span>
<span class="c1"># returns [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="n">a</span><span class="p">()[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<p>This exists just so that Jupyter Lab’s contextual help won’t automatically
display the (possibly humongous) value. Could be useful if you want to pass a
value by reference everywhere like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">k1</span><span class="o">.</span><span class="n">Wrapper</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">f</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="n">o</span><span class="p">()</span> <span class="c1"># returns 3</span>
</pre></div>
</div>
<p>You can also pipe into it like this:</p>
<blockquote>
<div><p>o = 3 | k1.Wrapper()
o() # returns 3</p>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="k1lib.Wrapper.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><span class="pre">Any</span></a></em><a class="headerlink" href="#k1lib.Wrapper.value" title="Permalink to this definition"></a></dt>
<dd><p>Internal value of this <a class="reference internal" href="#k1lib.Wrapper" title="k1lib.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wrapper</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Wrapper.__ror__">
<span class="sig-name descname"><span class="pre">__ror__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Wrapper.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Wrapper.__ror__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.Every">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">Every</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Every"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Every" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Every.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Every.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Every.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Returns True every interval.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Every</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns True</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">e</span><span class="p">()</span> <span class="c1"># returns True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Every.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Every.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Every.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Returns True or False based on internal count.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.Every.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#k1lib.Every.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.RunOnce">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">RunOnce</span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#RunOnce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.RunOnce" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.RunOnce.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#RunOnce.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.RunOnce.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Returns False first time only.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">RunOnce</span><span class="p">()</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns True</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns True</span>
<span class="n">r</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns False</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns True</span>
<span class="n">r</span><span class="o">.</span><span class="n">done</span><span class="p">()</span> <span class="c1"># returns True</span>
</pre></div>
</div>
<p>May be useful in situations like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ro</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">RunOnce</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ro</span><span class="o">.</span><span class="n">done</span><span class="p">():</span> <span class="k">return</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">x</span>
        <span class="k">return</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">x</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># returns 9</span>
<span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># returns 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.RunOnce.done">
<span class="sig-name descname"><span class="pre">done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#RunOnce.done"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.RunOnce.done" title="Permalink to this definition"></a></dt>
<dd><p>Whether this has been called once before.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.RunOnce.revert">
<span class="sig-name descname"><span class="pre">revert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#RunOnce.revert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.RunOnce.revert" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.MaxDepth">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">MaxDepth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxDepth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MaxDepth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MaxDepth" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.MaxDepth.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxDepth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MaxDepth.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MaxDepth.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Convenience utility to check for graph max depth.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span><span class="p">:</span> <span class="n">f</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">enter</span><span class="p">())</span>
<span class="c1"># prints &quot;0\n1\n2\n3&quot;</span>
<span class="n">f</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">MaxDepth</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Of course, this might look unpleasant to the end user, so this is more
likely for internal tools.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.MaxDepth.enter">
<span class="sig-name descname"><span class="pre">enter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#k1lib.MaxDepth" title="k1lib._baseClasses.MaxDepth"><span class="pre">MaxDepth</span></a></span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MaxDepth.enter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MaxDepth.enter" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.MovingAvg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">MovingAvg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initV</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MovingAvg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MovingAvg" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.MovingAvg.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initV</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#MovingAvg.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.MovingAvg.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Smoothes out sequential data using momentum.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">MovingAvg</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">a</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="c1"># returns 4.8, because 0.9*5 + 0.1*3 = 4.8</span>
<span class="n">a</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="c1"># returns 4.62</span>
</pre></div>
</div>
<p>Difference between normal and debias modes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span> <span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">op</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">MovingAvg</span><span class="p">(</span><span class="n">debias</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">a</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">MovingAvg</span><span class="p">(</span><span class="n">debias</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">a</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s2">&quot;Signal&quot;</span><span class="p">,</span> <span class="s2">&quot;Normal&quot;</span><span class="p">,</span> <span class="s2">&quot;Debiased&quot;</span><span class="p">])</span>
</pre></div>
</div>
<img alt="_images/movingAvg.png" src="_images/movingAvg.png" />
<p>As you can see, normal mode still has the influence of the initial value at
0 and can’t rise up fast, whereas the debias mode will ignore the initial
value and immediately snaps to the first saved value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initV</strong> – initial value</p></li>
<li><p><strong>alpha</strong> – number in [0, 1]. Basically how much to keep old value?</p></li>
<li><p><strong>debias</strong> – whether to debias the initial value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.Absorber">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">Absorber</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initDict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Creates an object that absorbes every operation done on it. Could be
useful in some scenarios:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ab</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Absorber</span><span class="p">()</span>
<span class="c1"># absorbs all operations done on the object</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">ab</span><span class="p">[::</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1"># returns transformed tensor of size [2, 3]</span>
<span class="n">ab</span><span class="o">.</span><span class="n">ab_operate</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>Another:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ab</span> <span class="o">=</span> <span class="n">Absorber</span><span class="p">()</span>
<span class="n">ab</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">50</span>
<span class="c1"># returns [0, 1, -50, 3, 4]</span>
<span class="n">ab</span><span class="o">.</span><span class="n">ab_operate</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span>
</pre></div>
</div>
<p>Because this object absorbs every operation done on it, you have to be gentle with
it, as any unplanned disturbances might throw your code off. Best to create a new
one on the fly, and pass them immediately to functions, because if you’re in a
notebook environment like Jupyter, it might poke at variables.</p>
<p>For extended code example that utilizes this, check over <a class="reference internal" href="cli/index.html#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.modifier.op</span></code></a>
source code.</p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initDict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new Absorber.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>initDict</strong> – initial variables to set, as setattr operation is normally absorbed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.ab_solidify">
<span class="sig-name descname"><span class="pre">ab_solidify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_solidify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_solidify" title="Permalink to this definition"></a></dt>
<dd><p>Use this to not absorb <code class="docutils literal notranslate"><span class="pre">__call__</span></code> operations anymore and makes it
feel like a regular function (still absorbs other operations though):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span>
<span class="mi">3</span> <span class="o">|</span> <span class="n">f</span> <span class="c1"># returns 9, but may be you don&#39;t want to pipe it in</span>
<span class="n">f</span><span class="o">.</span><span class="n">op_solidify</span><span class="p">()</span>
<span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># returns 9</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.ab_operate">
<span class="sig-name descname"><span class="pre">ab_operate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_operate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_operate" title="Permalink to this definition"></a></dt>
<dd><p>Special method to actually operate on an object and get the result. Not
absorbed. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 6</span>
<span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">ab_operate</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.ab_fastF">
<span class="sig-name descname"><span class="pre">ab_fastF</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_fastF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_fastF" title="Permalink to this definition"></a></dt>
<dd><p>Returns a function that operates on the input (just like <a class="reference internal" href="#k1lib.Absorber.ab_operate" title="k1lib.Absorber.ab_operate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ab_operate()</span></code></a>),
but much faster, suitable for high performance tasks. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Absorber</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">ab_fastF</span><span class="p">()</span>
<span class="c1"># returns 6</span>
<span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.__ror__">
<span class="sig-name descname"><span class="pre">__ror__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.__ror__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.__invert__">
<span class="sig-name descname"><span class="pre">__invert__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.__invert__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.ab_int">
<span class="sig-name descname"><span class="pre">ab_int</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_int" title="Permalink to this definition"></a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">int(ab)</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.ab_float">
<span class="sig-name descname"><span class="pre">ab_float</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_float" title="Permalink to this definition"></a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">float(ab)</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.ab_str">
<span class="sig-name descname"><span class="pre">ab_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_str" title="Permalink to this definition"></a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">str(ab)</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.ab_len">
<span class="sig-name descname"><span class="pre">ab_len</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_len"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_len" title="Permalink to this definition"></a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">len(ab)</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Absorber.ab_contains">
<span class="sig-name descname"><span class="pre">ab_contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Absorber.ab_contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Absorber.ab_contains" title="Permalink to this definition"></a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">in</span> <span class="pre">ab</span></code>, as that requires returning an actual <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.Settings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">Settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Settings" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Settings.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Settings.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Settings.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new settings object. Basically fancy version of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s2">&quot;42&quot;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="n">s</span><span class="o">.</span><span class="n">a</span> <span class="c1"># returns 3</span>
<span class="n">s</span><span class="o">.</span><span class="n">b</span> <span class="c1"># returns &quot;42&quot;</span>
<span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="c1"># returns 8</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c1"># prints nested settings nicely</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Settings.context">
<span class="sig-name descname"><span class="pre">context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Settings.context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Settings.context" title="Permalink to this definition"></a></dt>
<dd><p>Context manager to temporarily modify some settings. Applies
to all sub-settings. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s2">&quot;42&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">8</span><span class="p">))</span>
<span class="k">with</span> <span class="n">s</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">s</span><span class="o">.</span><span class="n">a</span> <span class="c1"># returns 4</span>
    <span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="c1"># returns 20</span>
<span class="n">s</span><span class="o">.</span><span class="n">a</span> <span class="c1"># returns 3</span>
<span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="c1"># returns 8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.Settings.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">docs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.Settings" title="k1lib._baseClasses.Settings"><span class="pre">Settings</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#k1lib.Settings" title="k1lib._baseClasses.Settings"><span class="pre">Settings</span></a></span></span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#Settings.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.Settings.add" title="Permalink to this definition"></a></dt>
<dd><p>Long way to add a variable. Advantage of this is that you can slip in extra
documentation for the variable. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Settings</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;some docs&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c1"># displays the extra docs</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cb</strong> – callback that takes in (settings, new value) if any property changes</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.UValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">UValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.sample" title="Permalink to this definition"></a></dt>
<dd><p>Gets a sample <code class="xref py py-class docutils literal notranslate"><span class="pre">np.ndarray</span></code> representative of this
uncertain value. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns tensor([-5.1095,  3.3117, -2.5759,  ..., -2.5810, -1.8131,  1.8339])</span>
<span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">()</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.fromSeries">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unbiased</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.fromSeries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.fromSeries" title="Permalink to this definition"></a></dt>
<dd><p>Creates a <a class="reference internal" href="#k1lib.UValue" title="k1lib.UValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">UValue</span></code></a> from a bunch of numbers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> – can be a list of numbers, numpy array or PyTorch tensor</p></li>
<li><p><strong>unbiased</strong> – if True, Bessel’s correction will be used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.fromBounds">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromBounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.fromBounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.fromBounds" title="Permalink to this definition"></a></dt>
<dd><p>Creates a <a class="reference internal" href="#k1lib.UValue" title="k1lib.UValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">UValue</span></code></a> from min and max values.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns UValue(mean=2.5, std=0.5)</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="o">.</span><span class="n">fromBounds</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="k1lib.UValue.exact">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exact</span></span><a class="headerlink" href="#k1lib.UValue.exact" title="Permalink to this definition"></a></dt>
<dd><p>Whether this UValue is exact or not</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.test">
<span class="sig-name descname"><span class="pre">test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.test" title="Permalink to this definition"></a></dt>
<dd><p>Returns how many sigma a particular value is.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.f"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.f" title="Permalink to this definition"></a></dt>
<dd><p>Covered in <a class="reference internal" href="#k1lib.UValue.__init__" title="k1lib.UValue.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> docs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.bounds">
<span class="sig-name descname"><span class="pre">bounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.bounds" title="Permalink to this definition"></a></dt>
<dd><p>Returns (mean-std, mean+std)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.combine">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.combine" title="Permalink to this definition"></a></dt>
<dd><p>Combines multiple UValues into 1.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1"># both returns 6.0 ± 1.4</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span> <span class="o">|</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="o">.</span><span class="n">combine</span><span class="p">()</span>
</pre></div>
</div>
<p>This will sample each UValue by default 1000 times, put them into a
single series and get a UValue from that. Why not just take the
average instead? Because the standard deviation will be less, and
will not actually reflect the action of combining UValues together:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 6.0 ± 0.7, which is narrower than expected</span>
<span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.plot" title="Permalink to this definition"></a></dt>
<dd><p>Quickly plots a histogram of the distribution.
Possible to plot multiple histograms in 1 plot.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="k1lib.UValue.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_baseClasses.html#UValue.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.UValue.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new “uncertain value”, which has a mean and a standard
deviation. You can then do math operations on them as normal, and the
propagation errors will be automatically calculated for you. Make sure to
run the calculation multiple times as the mean and std values fluctuates by
a little run-by-run. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns UValue(mean=4.7117, std=3.4736) object</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">()</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also instantiate from an existing list/numpy array/pytorch tensor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns UValue(mean=24.5, std=14.58) object</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="o">.</span><span class="n">fromSeries</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
</pre></div>
</div>
<p>You can also do arbitrary complex math operations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns UValue(mean=0.5544, std=0.4871)</span>
<span class="p">(</span><span class="mi">20</span> <span class="o">+</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">())</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">)</span>
<span class="c1"># same as above, but takes longer to run!</span>
<span class="p">(</span><span class="mi">20</span> <span class="o">+</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">())</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">)</span>
</pre></div>
</div>
<p>I suggest you to make your arbitrary function out of numpy’s operations,
as those are a fair bit faster than regular Python.</p>
<p>If you have a list of <a class="reference internal" href="#k1lib.UValue" title="k1lib.UValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">UValue</span></code></a>, and want to plot them with error
bars, then you can do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">)</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">y</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()));</span>
</pre></div>
</div>
<p>There are several caveats however:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>First is the problem of theoretically vs actually sample a
distribution. Let’s see an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns theoretical value UValue(mean=8000.0, std=1200.0) -&gt; 8000.0 ± 1200.0</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">**</span> <span class="mi">3</span>
<span class="c1"># prints out actual mean and std value of (8064.1030, 1204.3529)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span> <span class="o">**</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">a</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
</pre></div>
</div>
<p>So far so good. However, let’s create some uncertainty in “3”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns theoretical value UValue(mean=8000.0, std=23996.0) -&gt; 10000.0 ± 20000.0</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">**</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># prints out actual mean and std value of (815302.8750, 27068828.), but is very unstable and changes a lot</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span> <span class="o">**</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">a</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
</pre></div>
</div>
<p>Woah, what happens here? The actual mean and std values are
completely different from the theoretical values. This is
mainly due to UValue(3) has some outlier values large enough
to boost the result up multiple times. Even removing 1% of
values on either end of the spectrum does not quite work. So,
becareful to interpret these uncertainty values, and in some
case the theoretical estimates from math are actually very
unstable and will not be observed in real life.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Then there’s the problem of each complex operation, say <code class="docutils literal notranslate"><span class="pre">(v*2+3)/5</span></code>
will be done step by step, meaning <code class="docutils literal notranslate"><span class="pre">a=v*2</span></code> mean and std will be
calculated first, then ignoring the calculated sample values and just
go with the mean and std, sample a bunch of values from there and calculate
<code class="docutils literal notranslate"><span class="pre">a+3</span></code> mean and std. Rinse and repeat. This means that these 2 statements
may differ by a lot:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out (0.15867302766786406, 0.12413313456900205)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span> <span class="n">sq</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">sq</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">sq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">y</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>

<span class="c1"># returns UValue(mean=0.081577, std=0.32757) -&gt; 0.1 ± 0.3</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">UValue</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="n">sq</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">sq</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="n">sq</span><span class="p">)</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">)</span>
</pre></div>
</div>
<p>Why this weird function? It converts from a single nice hump into multiple
complex humps. Anyway, this serves to demonstrate that the result from the
<code class="docutils literal notranslate"><span class="pre">calculate</span> <span class="pre">-&gt;</span> <span class="pre">get</span> <span class="pre">mean,</span> <span class="pre">std</span> <span class="pre">-&gt;</span> <span class="pre">sample</span> <span class="pre">from</span> <span class="pre">new</span> <span class="pre">distribution</span> <span class="pre">-&gt;</span> <span class="pre">calculate</span></code>
process might be different from just calculating from start to end and then
get the mean and std.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Lastly, you might have problems when using the same UValue multiple times in
an expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">UValue</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">*</span> <span class="mi">2</span> <span class="c1"># has mean 20, std 2</span>
<span class="n">a</span> <span class="o">+</span> <span class="n">a</span> <span class="c1"># has mean 20, std 1.4</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.wrapMod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">wrapMod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moduleName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#wrapMod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.wrapMod" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="k1lib.wrapMod.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moduleName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#wrapMod.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.wrapMod.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Wraps around a module, and only suggest symbols in __all__ list
defined inside the module. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">randomModule</span>
<span class="n">randomModule</span> <span class="o">=</span> <span class="n">wrapMod</span><span class="p">(</span><span class="n">randomModule</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – the imported module</p></li>
<li><p><strong>moduleName</strong> – optional new module name for elements (their __module__ attr)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="context-managers">
<h2>Context managers<a class="headerlink" href="#context-managers" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#k1lib.captureStdout" title="k1lib.captureStdout"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.captureStdout</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.capturePlt" title="k1lib.capturePlt"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.capturePlt</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.ignoreWarnings" title="k1lib.ignoreWarnings"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.ignoreWarnings</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.timer" title="k1lib.timer"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.timer</span></code></a></p></li>
<li><p><a class="reference internal" href="#k1lib.attrContext" title="k1lib.attrContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.attrContext</span></code></a></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="k1lib.captureStdout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">captureStdout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_context.html#captureStdout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.captureStdout" title="Permalink to this definition"></a></dt>
<dd><p>Bases:</p>
<p>Captures every print() statement. Taken from <a class="reference external" href="https://stackoverflow.com/questions/16571150/how-to-capture-stdout-output-from-a-python-function-call">https://stackoverflow.com/questions/16571150/how-to-capture-stdout-output-from-a-python-function-call</a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">captureStdout</span><span class="p">()</span> <span class="k">as</span> <span class="n">outer</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;something&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">captureStdout</span><span class="p">()</span> <span class="k">as</span> <span class="n">inner</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;inside inner&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;else&quot;</span><span class="p">)</span>
<span class="c1"># prints &quot;[&#39;something&#39;, &#39;else&#39;]&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outer</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="c1"># prints &quot;[&#39;inside inner&#39;]&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that internally, this replaces <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.stdout" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> as <a class="reference external" href="https://docs.python.org/3/library/io.html#io.StringIO" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.StringIO</span></code></a>, so
might not work property if you have fancy <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> stuff going on. Also,
carriage return (<code class="docutils literal notranslate"><span class="pre">\r</span></code>) will erase the line, so multi-line overlaps might not
show up correctly.</p>
<p>If you wish to still print stuff out, you can do something
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">k1</span><span class="o">.</span><span class="n">captureStdout</span><span class="p">()</span> <span class="k">as</span> <span class="n">out</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span> <span class="c1"># gets captured</span>
    <span class="n">out</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;def&quot;</span><span class="p">)</span> <span class="c1"># not captured, will actually print out</span>
    <span class="c1"># you can also access the stream like this</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;something&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">out</span><span class="o">.</span><span class="n">old</span><span class="p">)</span>
</pre></div>
</div>
<p>Also, by default, this won’t work if you’re trying to capture C
library’s output, because they write to stdout directly, instead of
going through Python’s mechanism. You can capture it down at the C
level by doing this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">captureStdout</span><span class="p">()</span> <span class="k">as</span> <span class="n">out1</span><span class="p">,</span> <span class="n">captureStdout</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">out2</span><span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;ls&quot;</span><span class="p">)</span> <span class="c1"># gets captured by out2, but not out1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span>    <span class="c1"># gets captured by out1, but not out2</span>
</pre></div>
</div>
<p>It’s a little bit hard to actually integrate C mode and non-C mode
together, so for the time being, you gotta have 2 context managers
if you want to capture absolutely everything, C or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out</strong> – if True, captures stdout, else captures stderr</p></li>
<li><p><strong>c</strong> – whether to capture at the C/C++ level or not</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.capturePlt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">capturePlt</span></span><a class="reference internal" href="_modules/k1lib/_context.html#capturePlt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.capturePlt" title="Permalink to this definition"></a></dt>
<dd><p>Bases:</p>
<p>Tries to capture matplotlib plot.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">with</span> <span class="n">k1</span><span class="o">.</span><span class="n">capturePlt</span><span class="p">()</span> <span class="k">as</span> <span class="n">fig</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">capturedImage</span> <span class="o">=</span> <span class="n">fig</span><span class="p">()</span> <span class="c1"># reference it here</span>
</pre></div>
</div>
<p>This is a convenience function to deal with libraries that call <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code>
and doesn’t let us intercept at the middle to generate an image.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.ignoreWarnings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">ignoreWarnings</span></span><a class="reference internal" href="_modules/k1lib/_context.html#ignoreWarnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.ignoreWarnings" title="Permalink to this definition"></a></dt>
<dd><p>Bases:</p>
<p>Context manager to ignore every warning.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">ignoreWarnings</span><span class="p">():</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;some random stuff&quot;</span><span class="p">)</span> <span class="c1"># will not show anything</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.timer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">timer</span></span><a class="reference internal" href="_modules/k1lib/_context.html#timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.timer" title="Permalink to this definition"></a></dt>
<dd><p>Bases:</p>
<p>Times generic code.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span>
<span class="c1"># prints out float close to 1.1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">())</span>
</pre></div>
</div>
<p>The with- statement will actually return a <a class="reference internal" href="#k1lib.Wrapper" title="k1lib.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wrapper</span></code></a> with value
None. The correct time will be deposited into it after the code block ends.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="k1lib.attrContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">attrContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_context.html#attrContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.attrContext" title="Permalink to this definition"></a></dt>
<dd><p>Bases:</p>
<p>Temporarily sets variable’s attribute to something else.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="p">)</span> <span class="c1"># prints &quot;3&quot;</span>
<span class="k">with</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">attrContext</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">c</span><span class="p">)</span> <span class="c1"># prints &quot;4 5&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">c</span><span class="p">)</span> <span class="c1"># prints &quot;3 None&quot;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this heading"></a></h2>
<p>These exceptions are used within <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> to cancel things early on.
If you raise <a class="reference internal" href="#k1lib.CancelBatchException" title="k1lib.CancelBatchException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CancelBatchException</span></code></a> while passing through the model,
the <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> will catch it, run cleanup code (including checkpoint
<code class="docutils literal notranslate"><span class="pre">endBatch</span></code> ), then proceeds as usual.</p>
<p>If you raise something more major, like <a class="reference internal" href="#k1lib.CancelRunException" title="k1lib.CancelRunException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CancelRunException</span></code></a>,
<a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> will first catch it at batch level, run clean up code, then
rethrow it. <a class="reference internal" href="#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Learner</span></code></a> will then recatch it at the epoch level, run
clean up code, then rethrow again. Same deal at the run level.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="k1lib.CancelRunException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">CancelRunException</span></span><a class="reference internal" href="_modules/k1lib/_learner.html#CancelRunException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.CancelRunException" title="Permalink to this definition"></a></dt>
<dd><p>Used in core training loop, to skip the run entirely</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="k1lib.CancelEpochException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">CancelEpochException</span></span><a class="reference internal" href="_modules/k1lib/_learner.html#CancelEpochException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.CancelEpochException" title="Permalink to this definition"></a></dt>
<dd><p>Used in core training loop, to skip to next epoch</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="k1lib.CancelBatchException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">CancelBatchException</span></span><a class="reference internal" href="_modules/k1lib/_learner.html#CancelBatchException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.CancelBatchException" title="Permalink to this definition"></a></dt>
<dd><p>Used in core training loop, to skip to next batch</p>
</dd></dl>

</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="k1lib.isNumeric">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">isNumeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/k1lib/_basics.html#isNumeric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.isNumeric" title="Permalink to this definition"></a></dt>
<dd><p>Returns whether object is actually a number</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.patch">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">patch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)"><span class="pre">type</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">docs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#patch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.patch" title="Permalink to this definition"></a></dt>
<dd><p>Patches a function to a class/object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_class</strong> – object to patch function. Can also be a type</p></li>
<li><p><strong>name</strong> – name of patched function, if different from current</p></li>
<li><p><strong>docs</strong> – docs of patched function. Can be object with defined __doc__ attr</p></li>
<li><p><strong>static</strong> – whether to wrap this inside <code class="xref py py-class docutils literal notranslate"><span class="pre">staticmethod</span></code> or not</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified function just before patching</p>
</dd>
</dl>
<p>Intended to be used like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">methA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;inside methA&quot;</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">methB</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;inside methB&quot;</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">methB</span><span class="p">()</span> <span class="c1"># returns &quot;inside methB&quot;</span>
</pre></div>
</div>
<p>You can do <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> attributes like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s2">&quot;propC&quot;</span><span class="p">)</span>
<span class="nd">@property</span>
<span class="k">def</span> <span class="nf">propC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_propC</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s2">&quot;propC&quot;</span><span class="p">)</span>
<span class="nd">@propC</span><span class="o">.</span><span class="n">setter</span>
<span class="k">def</span> <span class="nf">propC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_propC</span> <span class="o">=</span> <span class="n">value</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">();</span> <span class="n">a</span><span class="o">.</span><span class="n">propC</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
<span class="n">a</span><span class="o">.</span><span class="n">propC</span> <span class="c1"># returns &quot;abc&quot;</span>
</pre></div>
</div>
<p>The attribute name unfortunately has to be explicitly declared, as I can’t
really find a way to extract the original name. You can also do static
methods like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">static</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">staticD</span><span class="p">(</span><span class="n">arg1</span><span class="p">):</span> <span class="k">return</span> <span class="n">arg1</span>

<span class="n">A</span><span class="o">.</span><span class="n">staticD</span><span class="p">(</span><span class="s2">&quot;def&quot;</span><span class="p">)</span> <span class="c1"># returns &quot;def&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.wraps">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">wraps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ogF</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#wraps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.wraps" title="Permalink to this definition"></a></dt>
<dd><p>Kinda like <code class="xref py py-meth docutils literal notranslate"><span class="pre">functools.wraps()</span></code>, but don’t update __annotations__.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.squeeze">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">squeeze</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><span class="pre">tuple</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#squeeze"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.squeeze" title="Permalink to this definition"></a></dt>
<dd><p>If list only has 1 element, returns that element, else returns original
list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hard</strong> – If True, then if list/tuple, filters out None, and takes the first
element out even if that list/tuple has more than 1 element</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.raiseEx">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">raiseEx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)"><span class="pre">Exception</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#raiseEx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.raiseEx" title="Permalink to this definition"></a></dt>
<dd><p>Raises a specific exception. May be useful in lambdas</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.numDigits">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">numDigits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></span><a class="reference internal" href="_modules/k1lib/_basics.html#numDigits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.numDigits" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of digits/characters of this number/object</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.limitLines">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">limitLines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/k1lib/_basics.html#limitLines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.limitLines" title="Permalink to this definition"></a></dt>
<dd><p>If input string is too long, truncates it and adds ellipsis</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.limitChars">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">limitChars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#limitChars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.limitChars" title="Permalink to this definition"></a></dt>
<dd><p>If input string is too long, truncates to first <cite>limit</cite> characters of the first line</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.showLog">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">showLog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loggerName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#showLog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.showLog" title="Permalink to this definition"></a></dt>
<dd><p>Prints out logs of a particular logger at a particular level</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.beep">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">beep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#beep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.beep" title="Permalink to this definition"></a></dt>
<dd><p>Plays a beeping sound, may be useful as notification for long-running tasks</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.dontWrap">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">dontWrap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#dontWrap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.dontWrap" title="Permalink to this definition"></a></dt>
<dd><p>Don’t wrap horizontally when in a notebook. Normally, if you’re
displaying something long, like the output of <code class="docutils literal notranslate"><span class="pre">print('a'*1000)</span></code> in a notebook,
it will display it in multiple lines. This may be undesirable, so this solves
that by displaying some HTML with css styles so that the notebook doesn’t wrap.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.debounce">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">debounce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wait</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threading</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#debounce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.debounce" title="Permalink to this definition"></a></dt>
<dd><p>Decorator that will postpone a function’s execution until after
<code class="docutils literal notranslate"><span class="pre">wait</span></code> seconds have elapsed since the last time it was invoked. Taken
from <a class="reference external" href="https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Events.html">ipywidgets</a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">k1lib</span><span class="o">,</span> <span class="nn">time</span><span class="p">;</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>

<span class="nd">@k1lib</span><span class="o">.</span><span class="n">debounce</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">global</span> <span class="n">value</span><span class="p">;</span> <span class="n">value</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">);</span> <span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="c1"># prints &quot;0&quot;</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.7</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="c1"># prints &quot;9&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wait</strong> – wait time in seconds</p></li>
<li><p><strong>threading</strong> – if True, use multiple threads, else just use async stuff</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.scaleSvg">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">scaleSvg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">svg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/k1lib/_basics.html#scaleSvg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.scaleSvg" title="Permalink to this definition"></a></dt>
<dd><p>Scales an svg xml string by some amount.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.pValue">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">pValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zScore</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#pValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.pValue" title="Permalink to this definition"></a></dt>
<dd><p>2-sided p value of a particular z score. Requires <a class="reference external" href="https://docs.scipy.org/doc/scipy/index.html#module-scipy" title="(in SciPy v1.11.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.now">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#now"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.now" title="Permalink to this definition"></a></dt>
<dd><p>Convenience function for returning a simple time
string, with timezone and whatnot.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.pushNotification">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">pushNotification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Some</span> <span class="pre">title'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Some</span> <span class="pre">content'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'https://k1lib.com'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#pushNotification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.pushNotification" title="Permalink to this definition"></a></dt>
<dd><p>Sends push notification to your device.</p>
<p>Setting things up:
- Download this app: <a class="reference external" href="https://play.google.com/store/apps/details?id=net.xdroid.pn">https://play.google.com/store/apps/details?id=net.xdroid.pn</a>
- Set the <cite>settings.pushNotificationKey</cite> key obtained from the app. Example key: <cite>k-967fe9…</cite>
- Alternatively, set the environment variable <cite>k1lib_pushNotificationKey</cite> instead
- Run the function as usual</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.dep">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">dep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#dep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.dep" title="Permalink to this definition"></a></dt>
<dd><p>Imports a potentially unavailable package
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graphviz</span> <span class="o">=</span> <span class="n">k1</span><span class="o">.</span><span class="n">dep</span><span class="p">(</span><span class="s2">&quot;graphviz&quot;</span><span class="p">)</span>

<span class="c1"># executes as normal, if graphviz is available, else throws an error</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">()</span>
</pre></div>
</div>
<p>I don’t imagine this would be useful for everyday use though.
This is mainly for writing this library, so that it can use
optional dependencies.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.ticks">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">ticks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rounding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#ticks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.ticks" title="Permalink to this definition"></a></dt>
<dd><p>Get tick locations in a plot that look reasonable.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ticks</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>     <span class="c1"># returns [-10.0, -5.0, 0.0, 5.0, 10.0, 15.0, 20.0, 25.0, 30.0, 35.0, 40.0, 45.0]</span>
<span class="n">ticks</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.07</span><span class="p">)</span> <span class="c1"># returns [0.05, 0.0525, 0.055, 0.0575, 0.06, 0.0625, 0.065, 0.0675, 0.07, 0.0725]</span>
<span class="n">ticks</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>      <span class="c1"># returns [-6.0, -5.0, -4.0, -3.0, -2.0, -1.0, 0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0]</span>
</pre></div>
</div>
<p>So essentially, whenever you try to plot something, you want both the x and y axis
to not have too many lines, and that the tick values snap to a nice number.</p>
<p>Normally you don’t have to do this, as matplotlib does this automatically behind
the scenes, but sometimes you need to implement plotting again, in strange
situations, so this function comes in handy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – start of interval</p></li>
<li><p><strong>y</strong> – end of interval</p></li>
<li><p><strong>rounding</strong> – internally, it rounds tick values to this number of
digits, to fix tiny float overflows that make numbers ugly. So
you can disable it if you’re working with really small numbers</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.perlin3d">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">perlin3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape=(100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">100)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res=(2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tileable=(False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">False)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolant=&lt;function</span> <span class="pre">interpolant&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_perlin.html#perlin3d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.perlin3d" title="Permalink to this definition"></a></dt>
<dd><p>Generate a 3D numpy array of perlin noise. Not my code! All credits go
to the author of this library: <a class="reference external" href="https://github.com/pvigier/perlin-numpy">https://github.com/pvigier/perlin-numpy</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> – The shape of the generated array (tuple of three ints).
This must be a multiple of res.</p></li>
<li><p><strong>res</strong> – The number of periods of noise to generate along each
axis (tuple of three ints). Note shape must be a multiple
of res.</p></li>
<li><p><strong>tileable</strong> – If the noise should be tileable along each axis
(tuple of three bools). Defaults to (False, False, False).</p></li>
<li><p><strong>interpolant</strong> – The interpolation function, defaults to
t*t*t*(t*(t*6 - 15) + 10).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A numpy array of shape shape with the generated noise.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – If shape is not a multiple of res.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.graph">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">graph</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.graph" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method for creating a new graphviz Graph. See also: <a class="reference internal" href="#k1lib.digraph" title="k1lib.digraph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">digraph()</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.digraph">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">digraph</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/k1lib/_basics.html#digraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.digraph" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method for creating a new graphviz Digraph.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">graph</span><span class="p">()</span>
<span class="n">g</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="c1"># displays arrows from &quot;a&quot; to &quot;b&quot; and &quot;a&quot; to &quot;c&quot;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="higher-order-functions">
<h2>Higher order functions<a class="headerlink" href="#higher-order-functions" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="k1lib.polyfit">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">polyfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/k1lib/_higher.html#polyfit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.polyfit" title="Permalink to this definition"></a></dt>
<dd><p>Returns a function that approximate <span class="math notranslate nohighlight">\(f(x) = y\)</span>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">ys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">k1</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>This will create a best-fit function. You can just use it as a regular,
normal function. You can even pass in <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.25)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns some float</span>
<span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># plots fit function from 0 to 5</span>
<span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="n">xs</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deg</strong> – degree of the polynomial of the returned function</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.derivative">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">derivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/k1lib/_higher.html#derivative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.derivative" title="Permalink to this definition"></a></dt>
<dd><p>Returns the derivative of a function.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">df</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># returns roughly 6 </span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.optimize">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/k1lib/_higher.html#optimize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.optimize" title="Permalink to this definition"></a></dt>
<dd><p>Given <span class="math notranslate nohighlight">\(f(x) = 0\)</span>, solves for x using Newton’s method with initial value
<cite>v</cite>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span>
<span class="c1"># returns 1.4142 (root 2)</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="c1"># returns -1.4142 (negative root 2)</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Interestingly, for some reason, result of this is more accurate than <a class="reference internal" href="#k1lib.derivative" title="k1lib.derivative"><code class="xref py py-meth docutils literal notranslate"><span class="pre">derivative()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.inverse">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/k1lib/_higher.html#inverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.inverse" title="Permalink to this definition"></a></dt>
<dd><p>Returns the inverse of a function.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="n">fInv</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">inverse</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="c1"># returns roughly 3</span>
<span class="n">fInv</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The inverse function takes a long time to run, so don’t use this
where you need lots of speed. Also, as you might imagine, the
inverse function isn’t really airtight. Should work well with
monotonic functions, but all bets are off with other functions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="k1lib.integral">
<span class="sig-prename descclassname"><span class="pre">k1lib.</span></span><span class="sig-name descname"><span class="pre">integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#k1lib.Range" title="k1lib._baseClasses.Range"><span class="pre">Range</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/k1lib/_higher.html#integral"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.integral" title="Permalink to this definition"></a></dt>
<dd><p>Integrates a function over a range.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="c1"># returns roughly 9</span>
<span class="n">k1lib</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p>There is also the cli <a class="reference internal" href="cli/index.html#k1lib.cli.modifier.integrate" title="k1lib.cli.modifier.integrate"><code class="xref py py-class docutils literal notranslate"><span class="pre">integrate</span></code></a>
which has a slightly different api.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="k1lib library" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cli/index.html" class="btn btn-neutral float-right" title="k1lib.cli module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Quang Ho.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>