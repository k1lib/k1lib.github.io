

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>k1lib.cli module &mdash; k1lib  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Streams tutorial" href="streams.html" />
    <link rel="prev" title="Base module" href="../base.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> k1lib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../base.html">Base module</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">k1lib.cli module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="streams.html">Streams tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-to-start">Where to start?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#biology-related-clis">Biology-related clis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.bio">bio module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.conv">conv module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.entrez">entrez module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.mgi">mgi module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.filt">filt module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.gb">gb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.grep">grep module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#init-module">init module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.inp">inp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.kcsv">kcsv module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.kxml">kxml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.modifier">modifier module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.nb">nb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.output">output module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.sam">sam module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.structural">structural module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.trace">trace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.utils">utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.cli.others">others module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#elsewhere-in-the-library">Elsewhere in the library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../callbacks/index.html">k1lib.callbacks module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kdata.html">k1lib.kdata module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eqn.html">k1lib.eqn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fmt.html">k1lib.fmt module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphEqn.html">k1lib.graphEqn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imports.html">k1lib.imports module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mo.html">k1lib.mo module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../knn.html">k1lib.knn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html">k1lib.schedule module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../selector.html">k1lib.selector module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viz.html">k1lib.viz module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../monkey.html">Monkey patched classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelogs.html">Changelogs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">k1lib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>k1lib.cli module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/cli/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-k1lib.cli"></span><div class="section" id="k1lib-cli-module">
<h1>k1lib.cli module<a class="headerlink" href="#k1lib-cli-module" title="Permalink to this headline">¶</a></h1>
<p>The main idea of this package is to emulate the terminal (hence “cli”, or “command
line interface”), but doing all of that inside Python itself. So this bash statement:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat file.txt | head -5 &gt; headerFile.txt</span>
</pre></div>
</div>
<p>Turns into this statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span><span class="p">(</span><span class="s2">&quot;file.txt&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;headerFile.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can even integrate with existing shell commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;grep so&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, “ls” will list out files inside the home directory, then pipes it into regular
grep on linux, which is then piped back into Python as a list of strings. So it’s
equivalent to this bash statement:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls | grep so</span>
</pre></div>
</div>
<p>“cat”, “head”, “file”, “ls” and “cmd” are all classes extended from
<a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCli</span></code></a>. All of them implements the “reverse or” operation, or
__ror__. So essentially, these 2 statements are equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="o">|</span> <span class="n">obj</span>
<span class="n">obj</span><span class="o">.</span><span class="fm">__ror__</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Also, a lot of these tools (like <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a> and <code class="xref py py-class docutils literal notranslate"><span class="pre">filt</span></code>)
assume that we are operating on a table. So this table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>col1</p></th>
<th class="head"><p>col2</p></th>
<th class="head"><p>col3</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
<p>Is equivalent to this list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col3&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
</pre></div>
</div>
<p><a class="reference internal" href="#k1lib.cli.structural.transpose" title="k1lib.cli.structural.transpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">transpose</span></code></a> and <a class="reference internal" href="#k1lib.cli.init.mtmS" title="k1lib.cli.init.mtmS"><code class="xref py py-class docutils literal notranslate"><span class="pre">mtmS</span></code></a> provides more flexible ways
to transform a table structure (but usually involves more code).</p>
<p>Also, the expected way to use these tools is to import everything directly into the
current environment, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">k1lib.imports</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Because there are a lot of clis, you may sometimes unintentionally overwrite an
exposed cli tool. No worries, every tool is also under the <code class="docutils literal notranslate"><span class="pre">cli</span></code> object, meaning
you can use <code class="docutils literal notranslate"><span class="pre">deref()</span></code> or <code class="docutils literal notranslate"><span class="pre">cli.deref()</span></code>.</p>
<p>Besides operating on string iterators alone, this package can also be extra meta,
and operate on streams of strings, or streams of streams of anything. I think this
is one of the most powerful concept of the cli workflow. If this interests you,
check over this:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="streams.html">Streams tutorial</a></li>
</ul>
</div>
<p>All cli tools should work fine with <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> and <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.core.series.Series</span></code></a>,
but k1lib actually modifies Numpy arrays and Pandas series deep down for it to work.
This means that although you can still do normal bitwise or with a numpy float value, and
they work fine in all regression tests that I have, but you might encounter strange bugs.
You can disable it manually by changing <a class="reference internal" href="../base.html#k1lib.settings" title="k1lib.settings"><code class="xref py py-attr docutils literal notranslate"><span class="pre">settings</span></code></a>.startup.or_patch. If you
chooses to do this, you have to becareful and use these workarounds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns (2, 3, 5), works fine</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># will not work, returns weird numpy array of shape (2, 3, 5)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># returns (2, 3, 5), mitigation strategy #1</span>
<span class="n">shape</span><span class="p">()(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="c1"># returns (2, 3, 5), mitigation strategy #2</span>
<span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span> <span class="o">|</span> <span class="p">(</span><span class="n">item</span><span class="p">()</span> <span class="o">|</span> <span class="n">shape</span><span class="p">())</span>
</pre></div>
</div>
<p>All cli-related settings are at <a class="reference internal" href="../base.html#k1lib.settings" title="k1lib.settings"><code class="xref py py-attr docutils literal notranslate"><span class="pre">settings</span></code></a>.cli.</p>
<div class="section" id="where-to-start">
<h2>Where to start?<a class="headerlink" href="#where-to-start" title="Permalink to this headline">¶</a></h2>
<p>Core clis include <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a>, <a class="reference internal" href="#k1lib.cli.modifier.applyS" title="k1lib.cli.modifier.applyS"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyS</span></code></a> (its
multiprocessing cousin <a class="reference internal" href="#k1lib.cli.modifier.applyMp" title="k1lib.cli.modifier.applyMp"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyMp</span></code></a> is great too), <a class="reference internal" href="#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">op</span></code></a>,
<a class="reference internal" href="#k1lib.cli.filt.filt" title="k1lib.cli.filt.filt"><code class="xref py py-class docutils literal notranslate"><span class="pre">filt</span></code></a>, <a class="reference internal" href="#k1lib.cli.utils.deref" title="k1lib.cli.utils.deref"><code class="xref py py-class docutils literal notranslate"><span class="pre">deref</span></code></a>, <a class="reference internal" href="#k1lib.cli.utils.item" title="k1lib.cli.utils.item"><code class="xref py py-class docutils literal notranslate"><span class="pre">item</span></code></a>, <a class="reference internal" href="#k1lib.cli.utils.shape" title="k1lib.cli.utils.shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span></code></a>,
<a class="reference internal" href="#k1lib.cli.utils.iden" title="k1lib.cli.utils.iden"><code class="xref py py-class docutils literal notranslate"><span class="pre">iden</span></code></a>, <a class="reference internal" href="#k1lib.cli.inp.cmd" title="k1lib.cli.inp.cmd"><code class="xref py py-class docutils literal notranslate"><span class="pre">cmd</span></code></a>, so start reading there first. Then, skim over
everything to know what you can do with these collection of tools. While you’re doing
that, checkout <a class="reference internal" href="#k1lib.cli.trace.trace" title="k1lib.cli.trace.trace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">trace()</span></code></a>, for a quite powerful debugging tool.</p>
<p>There are several <a class="reference external" href="../tutorials.html">written tutorials</a> about cli here, and I
also made some <a class="reference external" href="https://www.youtube.com/playlist?list=PLP1sw-g877osNI_dMXwR72kVDREeHsYnt">video tutorials</a>
as well, so go check those out.</p>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 19%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>structural</p></th>
<th class="head"><p>conv</p></th>
<th class="head"><p>utils</p></th>
<th class="head"><p>filt</p></th>
<th class="head"><p>modifier</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.transpose" title="k1lib.cli.structural.transpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">transpose</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toStr" title="k1lib.cli.conv.toStr"><code class="xref py py-class docutils literal notranslate"><span class="pre">toStr</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.size" title="k1lib.cli.utils.size"><code class="xref py py-class docutils literal notranslate"><span class="pre">size</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.filt" title="k1lib.cli.filt.filt"><code class="xref py py-class docutils literal notranslate"><span class="pre">filt</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.applyS" title="k1lib.cli.modifier.applyS"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyS</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.reshape" title="k1lib.cli.structural.reshape"><code class="xref py py-class docutils literal notranslate"><span class="pre">reshape</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toNumpy" title="k1lib.cli.conv.toNumpy"><code class="xref py py-class docutils literal notranslate"><span class="pre">toNumpy</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.shape" title="k1lib.cli.utils.shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.inSet" title="k1lib.cli.filt.inSet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inSet()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.aS" title="k1lib.cli.modifier.aS"><code class="xref py py-class docutils literal notranslate"><span class="pre">aS</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.insert" title="k1lib.cli.structural.insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">insert</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toTensor" title="k1lib.cli.conv.toTensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">toTensor</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.item" title="k1lib.cli.utils.item"><code class="xref py py-class docutils literal notranslate"><span class="pre">item</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.contains" title="k1lib.cli.filt.contains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">contains()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.splitW" title="k1lib.cli.structural.splitW"><code class="xref py py-class docutils literal notranslate"><span class="pre">splitW</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toList" title="k1lib.cli.conv.toList"><code class="xref py py-class docutils literal notranslate"><span class="pre">toList</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.iden" title="k1lib.cli.utils.iden"><code class="xref py py-class docutils literal notranslate"><span class="pre">iden</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.empty" title="k1lib.cli.filt.empty"><code class="xref py py-class docutils literal notranslate"><span class="pre">empty</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.applyMp" title="k1lib.cli.modifier.applyMp"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyMp</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.joinStreams" title="k1lib.cli.structural.joinStreams"><code class="xref py py-class docutils literal notranslate"><span class="pre">joinStreams</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toSet" title="k1lib.cli.conv.toSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">toSet</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.join" title="k1lib.cli.utils.join"><code class="xref py py-class docutils literal notranslate"><span class="pre">join</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.isNumeric" title="k1lib.cli.filt.isNumeric"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isNumeric()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.parallel" title="k1lib.cli.modifier.parallel"><code class="xref py py-class docutils literal notranslate"><span class="pre">parallel</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.yieldSentinel" title="k1lib.cli.structural.yieldSentinel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">yieldSentinel()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toIter" title="k1lib.cli.conv.toIter"><code class="xref py py-class docutils literal notranslate"><span class="pre">toIter</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.wrapList" title="k1lib.cli.utils.wrapList"><code class="xref py py-class docutils literal notranslate"><span class="pre">wrapList</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.instanceOf" title="k1lib.cli.filt.instanceOf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">instanceOf()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.applyTh" title="k1lib.cli.modifier.applyTh"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyTh</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.joinStreamsRandom" title="k1lib.cli.structural.joinStreamsRandom"><code class="xref py py-class docutils literal notranslate"><span class="pre">joinStreamsRandom</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toRange" title="k1lib.cli.conv.toRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">toRange</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.equals" title="k1lib.cli.utils.equals"><code class="xref py py-class docutils literal notranslate"><span class="pre">equals</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.inRange" title="k1lib.cli.filt.inRange"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inRange()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.applySerial" title="k1lib.cli.modifier.applySerial"><code class="xref py py-class docutils literal notranslate"><span class="pre">applySerial</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.activeSamples" title="k1lib.cli.structural.activeSamples"><code class="xref py py-class docutils literal notranslate"><span class="pre">activeSamples</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toSum" title="k1lib.cli.conv.toSum"><code class="xref py py-class docutils literal notranslate"><span class="pre">toSum</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.reverse" title="k1lib.cli.utils.reverse"><code class="xref py py-class docutils literal notranslate"><span class="pre">reverse</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.head" title="k1lib.cli.filt.head"><code class="xref py py-class docutils literal notranslate"><span class="pre">head</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.toFloat" title="k1lib.cli.modifier.toFloat"><code class="xref py py-class docutils literal notranslate"><span class="pre">toFloat</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.table" title="k1lib.cli.structural.table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">table()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toProd" title="k1lib.cli.conv.toProd"><code class="xref py py-class docutils literal notranslate"><span class="pre">toProd</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.ignore" title="k1lib.cli.utils.ignore"><code class="xref py py-class docutils literal notranslate"><span class="pre">ignore</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.tail" title="k1lib.cli.filt.tail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tail()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.toInt" title="k1lib.cli.modifier.toInt"><code class="xref py py-class docutils literal notranslate"><span class="pre">toInt</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.batched" title="k1lib.cli.structural.batched"><code class="xref py py-class docutils literal notranslate"><span class="pre">batched</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toAvg" title="k1lib.cli.conv.toAvg"><code class="xref py py-class docutils literal notranslate"><span class="pre">toAvg</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.rateLimit" title="k1lib.cli.utils.rateLimit"><code class="xref py py-class docutils literal notranslate"><span class="pre">rateLimit</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.columns" title="k1lib.cli.filt.columns"><code class="xref py py-class docutils literal notranslate"><span class="pre">columns</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.sort" title="k1lib.cli.modifier.sort"><code class="xref py py-class docutils literal notranslate"><span class="pre">sort</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.window" title="k1lib.cli.structural.window"><code class="xref py py-class docutils literal notranslate"><span class="pre">window</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toMean" title="k1lib.cli.conv.toMean"><code class="xref py py-class docutils literal notranslate"><span class="pre">toMean</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.timeLimit" title="k1lib.cli.utils.timeLimit"><code class="xref py py-class docutils literal notranslate"><span class="pre">timeLimit</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.cut" title="k1lib.cli.filt.cut"><code class="xref py py-class docutils literal notranslate"><span class="pre">cut</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.sortF" title="k1lib.cli.modifier.sortF"><code class="xref py py-class docutils literal notranslate"><span class="pre">sortF</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.groupBy" title="k1lib.cli.structural.groupBy"><code class="xref py py-class docutils literal notranslate"><span class="pre">groupBy</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toMax" title="k1lib.cli.conv.toMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">toMax</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.tab" title="k1lib.cli.utils.tab"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tab()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.rows" title="k1lib.cli.filt.rows"><code class="xref py py-class docutils literal notranslate"><span class="pre">rows</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.consume" title="k1lib.cli.modifier.consume"><code class="xref py py-class docutils literal notranslate"><span class="pre">consume</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.collate" title="k1lib.cli.structural.collate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collate()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toMin" title="k1lib.cli.conv.toMin"><code class="xref py py-class docutils literal notranslate"><span class="pre">toMin</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.indent" title="k1lib.cli.utils.indent"><code class="xref py py-meth docutils literal notranslate"><span class="pre">indent()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.intersection" title="k1lib.cli.filt.intersection"><code class="xref py py-class docutils literal notranslate"><span class="pre">intersection</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.randomize" title="k1lib.cli.modifier.randomize"><code class="xref py py-class docutils literal notranslate"><span class="pre">randomize</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.insertColumn" title="k1lib.cli.structural.insertColumn"><code class="xref py py-class docutils literal notranslate"><span class="pre">insertColumn</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toPIL" title="k1lib.cli.conv.toPIL"><code class="xref py py-class docutils literal notranslate"><span class="pre">toPIL</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.clipboard" title="k1lib.cli.utils.clipboard"><code class="xref py py-class docutils literal notranslate"><span class="pre">clipboard</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.union" title="k1lib.cli.filt.union"><code class="xref py py-class docutils literal notranslate"><span class="pre">union</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.stagger" title="k1lib.cli.modifier.stagger"><code class="xref py py-class docutils literal notranslate"><span class="pre">stagger</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.insertIdColumn" title="k1lib.cli.structural.insertIdColumn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">insertIdColumn()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toImg" title="k1lib.cli.conv.toImg"><code class="xref py py-class docutils literal notranslate"><span class="pre">toImg</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.headerIdx" title="k1lib.cli.utils.headerIdx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">headerIdx()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.unique" title="k1lib.cli.filt.unique"><code class="xref py py-class docutils literal notranslate"><span class="pre">unique</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">op</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.expandE" title="k1lib.cli.structural.expandE"><code class="xref py py-class docutils literal notranslate"><span class="pre">expandE</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toRgb" title="k1lib.cli.conv.toRgb"><code class="xref py py-class docutils literal notranslate"><span class="pre">toRgb</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.deref" title="k1lib.cli.utils.deref"><code class="xref py py-class docutils literal notranslate"><span class="pre">deref</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.breakIf" title="k1lib.cli.filt.breakIf"><code class="xref py py-class docutils literal notranslate"><span class="pre">breakIf</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.modifier.integrate" title="k1lib.cli.modifier.integrate"><code class="xref py py-class docutils literal notranslate"><span class="pre">integrate</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.unsqueeze" title="k1lib.cli.structural.unsqueeze"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unsqueeze()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toRgba" title="k1lib.cli.conv.toRgba"><code class="xref py py-class docutils literal notranslate"><span class="pre">toRgba</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.bindec" title="k1lib.cli.utils.bindec"><code class="xref py py-class docutils literal notranslate"><span class="pre">bindec</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.filt.mask" title="k1lib.cli.filt.mask"><code class="xref py py-class docutils literal notranslate"><span class="pre">mask</span></code></a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.count" title="k1lib.cli.structural.count"><code class="xref py py-class docutils literal notranslate"><span class="pre">count</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toBin" title="k1lib.cli.conv.toBin"><code class="xref py py-class docutils literal notranslate"><span class="pre">toBin</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.smooth" title="k1lib.cli.utils.smooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">smooth</span></code></a></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.permute" title="k1lib.cli.structural.permute"><code class="xref py py-class docutils literal notranslate"><span class="pre">permute</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toIdx" title="k1lib.cli.conv.toIdx"><code class="xref py py-class docutils literal notranslate"><span class="pre">toIdx</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.disassemble" title="k1lib.cli.utils.disassemble"><code class="xref py py-meth docutils literal notranslate"><span class="pre">disassemble()</span></code></a></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.accumulate" title="k1lib.cli.structural.accumulate"><code class="xref py py-class docutils literal notranslate"><span class="pre">accumulate</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.lengths" title="k1lib.cli.conv.lengths"><code class="xref py py-class docutils literal notranslate"><span class="pre">lengths</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.tree" title="k1lib.cli.utils.tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tree()</span></code></a></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.AA_" title="k1lib.cli.structural.AA_"><code class="xref py py-class docutils literal notranslate"><span class="pre">AA_</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toLens" title="k1lib.cli.conv.toLens"><code class="xref py py-class docutils literal notranslate"><span class="pre">toLens</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.utils.lookup" title="k1lib.cli.utils.lookup"><code class="xref py py-class docutils literal notranslate"><span class="pre">lookup</span></code></a></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.peek" title="k1lib.cli.structural.peek"><code class="xref py py-class docutils literal notranslate"><span class="pre">peek</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toDict" title="k1lib.cli.conv.toDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">toDict</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.peekF" title="k1lib.cli.structural.peekF"><code class="xref py py-class docutils literal notranslate"><span class="pre">peekF</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.conv.toDictF" title="k1lib.cli.conv.toDictF"><code class="xref py py-class docutils literal notranslate"><span class="pre">toDictF</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.repeat" title="k1lib.cli.structural.repeat"><code class="xref py py-class docutils literal notranslate"><span class="pre">repeat</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.structural.repeatF" title="k1lib.cli.structural.repeatF"><code class="xref py py-meth docutils literal notranslate"><span class="pre">repeatF()</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.structural.repeatFrom" title="k1lib.cli.structural.repeatFrom"><code class="xref py py-class docutils literal notranslate"><span class="pre">repeatFrom</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 22%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>init</p></th>
<th class="head"><p>output</p></th>
<th class="head"><p>inp</p></th>
<th class="head"><p>kxml</p></th>
<th class="head"><p>nb</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCli</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.output.stdout" title="k1lib.cli.output.stdout"><code class="xref py py-class docutils literal notranslate"><span class="pre">stdout</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.inp.cat" title="k1lib.cli.inp.cat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cat()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.kxml.node" title="k1lib.cli.kxml.node"><code class="xref py py-class docutils literal notranslate"><span class="pre">node</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.nb.cells" title="k1lib.cli.nb.cells"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cells()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.output.tee" title="k1lib.cli.output.tee"><code class="xref py py-class docutils literal notranslate"><span class="pre">tee</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.inp.curl" title="k1lib.cli.inp.curl"><code class="xref py py-meth docutils literal notranslate"><span class="pre">curl()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.kxml.maxDepth" title="k1lib.cli.kxml.maxDepth"><code class="xref py py-class docutils literal notranslate"><span class="pre">maxDepth</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.nb.pretty" title="k1lib.cli.nb.pretty"><code class="xref py py-class docutils literal notranslate"><span class="pre">pretty</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">T()</span></code></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.output.file" title="k1lib.cli.output.file"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.inp.wget" title="k1lib.cli.inp.wget"><code class="xref py py-meth docutils literal notranslate"><span class="pre">wget()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.kxml.tags" title="k1lib.cli.kxml.tags"><code class="xref py py-class docutils literal notranslate"><span class="pre">tags</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.nb.execute" title="k1lib.cli.nb.execute"><code class="xref py py-class docutils literal notranslate"><span class="pre">execute</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.init.fastF" title="k1lib.cli.init.fastF"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fastF()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.output.pretty" title="k1lib.cli.output.pretty"><code class="xref py py-class docutils literal notranslate"><span class="pre">pretty</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.inp.ls" title="k1lib.cli.inp.ls"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ls()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.kxml.pretty" title="k1lib.cli.kxml.pretty"><code class="xref py py-class docutils literal notranslate"><span class="pre">pretty</span></code></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.init.serial" title="k1lib.cli.init.serial"><code class="xref py py-class docutils literal notranslate"><span class="pre">serial</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.output.display" title="k1lib.cli.output.display"><code class="xref py py-meth docutils literal notranslate"><span class="pre">display()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.inp.cmd" title="k1lib.cli.inp.cmd"><code class="xref py py-class docutils literal notranslate"><span class="pre">cmd</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.kxml.display" title="k1lib.cli.kxml.display"><code class="xref py py-class docutils literal notranslate"><span class="pre">display</span></code></a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.init.oneToMany" title="k1lib.cli.init.oneToMany"><code class="xref py py-class docutils literal notranslate"><span class="pre">oneToMany</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.output.headOut" title="k1lib.cli.output.headOut"><code class="xref py py-meth docutils literal notranslate"><span class="pre">headOut()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.inp.requireCli" title="k1lib.cli.inp.requireCli"><code class="xref py py-meth docutils literal notranslate"><span class="pre">requireCli()</span></code></a></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.init.manyToMany" title="k1lib.cli.init.manyToMany"><code class="xref py py-class docutils literal notranslate"><span class="pre">manyToMany</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.output.intercept" title="k1lib.cli.output.intercept"><code class="xref py py-class docutils literal notranslate"><span class="pre">intercept</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.init.mtmS" title="k1lib.cli.init.mtmS"><code class="xref py py-class docutils literal notranslate"><span class="pre">mtmS</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.output.split" title="k1lib.cli.output.split"><code class="xref py py-class docutils literal notranslate"><span class="pre">split</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>grep</p></th>
<th class="head"><p>kcsv</p></th>
<th class="head"><p>trace</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.grep.grep" title="k1lib.cli.grep.grep"><code class="xref py py-class docutils literal notranslate"><span class="pre">grep</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.kcsv.cat" title="k1lib.cli.kcsv.cat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cat()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.trace.trace" title="k1lib.cli.trace.trace"><code class="xref py py-class docutils literal notranslate"><span class="pre">trace</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.grep.grepTemplate" title="k1lib.cli.grep.grepTemplate"><code class="xref py py-class docutils literal notranslate"><span class="pre">grepTemplate</span></code></a></p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="section" id="biology-related-clis">
<h3>Biology-related clis<a class="headerlink" href="#biology-related-clis" title="Permalink to this headline">¶</a></h3>
<p>I separated these out because they might not be interesting to the majority of users.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 19%" />
<col style="width: 22%" />
<col style="width: 18%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>bio</p></th>
<th class="head"><p>sam</p></th>
<th class="head"><p>entrez</p></th>
<th class="head"><p>gb</p></th>
<th class="head"><p>mgi</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.bio.go" title="k1lib.cli.bio.go"><code class="xref py py-meth docutils literal notranslate"><span class="pre">go()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.sam.cat" title="k1lib.cli.sam.cat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cat()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.entrez.esearch" title="k1lib.cli.entrez.esearch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">esearch()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.gb.feats" title="k1lib.cli.gb.feats"><code class="xref py py-class docutils literal notranslate"><span class="pre">feats</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.mgi.batch" title="k1lib.cli.mgi.batch"><code class="xref py py-class docutils literal notranslate"><span class="pre">batch</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.bio.quality" title="k1lib.cli.bio.quality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">quality()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.sam.header" title="k1lib.cli.sam.header"><code class="xref py py-class docutils literal notranslate"><span class="pre">header</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.entrez.efetch" title="k1lib.cli.entrez.efetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">efetch()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.gb.origin" title="k1lib.cli.gb.origin"><code class="xref py py-class docutils literal notranslate"><span class="pre">origin</span></code></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.bio.longFa" title="k1lib.cli.bio.longFa"><code class="xref py py-meth docutils literal notranslate"><span class="pre">longFa()</span></code></a></p></td>
<td><p><a class="reference internal" href="#k1lib.cli.sam.flag" title="k1lib.cli.sam.flag"><code class="xref py py-class docutils literal notranslate"><span class="pre">flag</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.bio.idx" title="k1lib.cli.bio.idx"><code class="xref py py-class docutils literal notranslate"><span class="pre">idx</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.bio.transcribe" title="k1lib.cli.bio.transcribe"><code class="xref py py-class docutils literal notranslate"><span class="pre">transcribe</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.bio.complement" title="k1lib.cli.bio.complement"><code class="xref py py-class docutils literal notranslate"><span class="pre">complement</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.bio.translate" title="k1lib.cli.bio.translate"><code class="xref py py-class docutils literal notranslate"><span class="pre">translate</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#k1lib.cli.bio.medAa" title="k1lib.cli.bio.medAa"><code class="xref py py-class docutils literal notranslate"><span class="pre">medAa</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#k1lib.cli.bio.longAa" title="k1lib.cli.bio.longAa"><code class="xref py py-class docutils literal notranslate"><span class="pre">longAa</span></code></a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-k1lib.cli.bio">
<span id="bio-module"></span><h2>bio module<a class="headerlink" href="#module-k1lib.cli.bio" title="Permalink to this headline">¶</a></h2>
<p>This is for functions that are actually biology-related</p>
<dl class="py function">
<dt id="k1lib.cli.bio.go">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">go</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#go"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.go" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up a GO term</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.bio.quality">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">quality</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#quality"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.quality" title="Permalink to this definition">¶</a></dt>
<dd><p>Get numeric quality of sequence.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [2, 2, 5, 30]</span>
<span class="s2">&quot;##&amp;?&quot;</span> <span class="o">|</span> <span class="n">quality</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>log</strong> – whether to use log scale (0 -&gt; 40), or linear scale (1 -&gt; 0.0001)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.bio.longFa">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">longFa</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#longFa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.longFa" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in a fasta file and put each sequence on 1 line.
File “gene.fa”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="n">AF086833</span><span class="mf">.2</span> <span class="n">Ebola</span> <span class="n">virus</span> <span class="o">-</span> <span class="n">Mayinga</span><span class="p">,</span> <span class="n">Zaire</span><span class="p">,</span> <span class="mi">1976</span><span class="p">,</span> <span class="n">complete</span> <span class="n">genome</span>
<span class="n">CGGACACACAAAAAGAAAGAAGAATTTTTAGGATC</span>
<span class="n">TTTTGTGTGCGAATAACTATGAGGAAGATTAATAA</span>
<span class="o">&gt;</span><span class="n">something</span> <span class="n">other</span> <span class="n">gene</span>
<span class="n">CGGACACACAAAAAGAAAGAAGA</span>
<span class="n">TTTTGTGTGCGAATAACTATGAG</span>
</pre></div>
</div>
<p>Code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span><span class="p">(</span><span class="s2">&quot;gene.fa&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">bio</span><span class="o">.</span><span class="n">longFa</span><span class="p">()</span> <span class="o">|</span> <span class="n">cli</span><span class="o">.</span><span class="n">headOut</span><span class="p">()</span>
</pre></div>
</div>
<p>Prints out:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="n">AF086833</span><span class="mf">.2</span> <span class="n">Ebola</span> <span class="n">virus</span> <span class="o">-</span> <span class="n">Mayinga</span><span class="p">,</span> <span class="n">Zaire</span><span class="p">,</span> <span class="mi">1976</span><span class="p">,</span> <span class="n">complete</span> <span class="n">genome</span>
<span class="n">CGGACACACAAAAAGAAAGAAGAATTTTTAGGATCTTTTGTGTGCGAATAACTATGAGGAAGATTAATAA</span>
<span class="o">&gt;</span><span class="n">something</span> <span class="n">other</span> <span class="n">gene</span>
<span class="n">CGGACACACAAAAAGAAAGAAGATTTTGTGTGCGAATAACTATGAG</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.bio.idx">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">idx</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Indexes files with various formats.</p>
<dl class="py method">
<dt id="k1lib.cli.bio.idx.blast">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">blast</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbtype</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#idx.blast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.idx.blast" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses <code class="docutils literal notranslate"><span class="pre">makeblastdb</span></code> to create a blast database from a fasta file.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;file.fa&quot;</span> <span class="o">|</span> <span class="n">bio</span><span class="o">.</span><span class="n">idx</span><span class="o">.</span><span class="n">blast</span><span class="p">()</span>
<span class="n">bio</span><span class="o">.</span><span class="n">idx</span><span class="o">.</span><span class="n">blast</span><span class="p">(</span><span class="s2">&quot;file.fa&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.bio.idx.bwa">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">bwa</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#idx.bwa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.idx.bwa" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses <code class="docutils literal notranslate"><span class="pre">bwa</span></code> to index a fasta file.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;file.fa&quot;</span> <span class="o">|</span> <span class="n">bio</span><span class="o">.</span><span class="n">idx</span><span class="o">.</span><span class="n">bwa</span><span class="p">()</span>
<span class="n">bio</span><span class="o">.</span><span class="n">idx</span><span class="o">.</span><span class="n">bwa</span><span class="p">(</span><span class="s2">&quot;file.bwa&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.bio.idx.bam">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">bam</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#idx.bam"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.idx.bam" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses <code class="docutils literal notranslate"><span class="pre">samtools</span></code> to index a bam file.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;file.bam&quot;</span> <span class="o">|</span> <span class="n">bio</span><span class="o">.</span><span class="n">idx</span><span class="o">.</span><span class="n">bam</span><span class="p">()</span>
<span class="n">bio</span><span class="o">.</span><span class="n">idx</span><span class="o">.</span><span class="n">bam</span><span class="p">(</span><span class="s2">&quot;file.bam&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.bio.transcribe">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">transcribe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#transcribe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.transcribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Transcribes (DNA -&gt; RNA) incoming rows.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns &quot;AUCG&quot;</span>
<span class="s2">&quot;ATCG&quot;</span> <span class="o">|</span> <span class="n">transcribe</span><span class="p">()</span>
<span class="c1"># returns [&quot;AUCG&quot;]</span>
<span class="p">[</span><span class="s2">&quot;ATCG&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">transcribe</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt id="k1lib.cli.bio.transcribe.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#transcribe.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.transcribe.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.bio.complement">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">complement</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Get the reverse complement of DNA.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns &quot;TAGC&quot;</span>
<span class="s2">&quot;ATCG&quot;</span> <span class="o">|</span> <span class="n">bio</span><span class="o">.</span><span class="n">complement</span><span class="p">()</span>
<span class="c1"># returns [&quot;TAGC&quot;]</span>
<span class="p">[</span><span class="s2">&quot;ATCG&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">bio</span><span class="o">.</span><span class="n">complement</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt id="k1lib.cli.bio.complement.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#complement.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.complement.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.bio.translate">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">translate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#translate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.bio.translate.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#translate.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.translate.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates incoming rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>length</strong> – 0 for short (L), 1 for med (Leu), 2 for long (Leucine)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.bio.translate.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#translate.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.translate.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.bio.medAa">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">medAa</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#medAa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.medAa" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Converts short aa sequence to medium one</p>
<dl class="py method">
<dt id="k1lib.cli.bio.medAa.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#medAa.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.medAa.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.bio.longAa">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.bio.</span></code><code class="sig-name descname"><span class="pre">longAa</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#longAa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.longAa" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Converts short aa sequence to long one</p>
<dl class="py method">
<dt id="k1lib.cli.bio.longAa.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/bio.html#longAa.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.bio.longAa.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.conv">
<span id="conv-module"></span><h2>conv module<a class="headerlink" href="#module-k1lib.cli.conv" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.cli.conv.toStr">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toStr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toStr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toStr.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toStr.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toStr.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts every line to a string.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;2&#39;, &#39;a&#39;]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">toStr</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[2, &#39;a&#39;], [3, &#39;5&#39;]]</span>
<span class="k">assert</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span> <span class="o">|</span> <span class="n">toStr</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toStr.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toStr.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toStr.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toNumpy">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toNumpy</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toNumpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toNumpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toNumpy.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toNumpy.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toNumpy.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts generator to numpy array. Essentially <code class="docutils literal notranslate"><span class="pre">np.array(list(it))</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toNumpy.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.array</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toNumpy.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toNumpy.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toTensor">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toTensor</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">torch.float32</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toTensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toTensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toTensor.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">torch.float32</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toTensor.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toTensor.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts generator to <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>. Essentially
<code class="docutils literal notranslate"><span class="pre">torch.tensor(list(it))</span></code>.</p>
<p>Also checks if input is a PIL Image. If yes, turn it into a <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>
and return.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toTensor.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><span class="pre">torch.Tensor</span></a><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toTensor.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toTensor.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toList">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toList</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toList.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toList.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toList.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts generator to list. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> would do the
same, but this is just to maintain the style</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toList.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toList.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toList.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toSet">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toSet</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toSet.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toSet.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toSet.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts generator to set. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> would do the
same, but this is just to maintain the style</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toSet.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toSet.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toSet.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toIter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toIter</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toIter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toIter.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toIter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toIter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts object to iterator. <cite>iter()</cite> would do the
same, but this is just to maintain the style</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toIter.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toIter.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toIter.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toRange">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toRange</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toRange.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRange.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRange.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns iter(range(len(it))), effectively</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toRange.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRange.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRange.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toSum">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toSum</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toSum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toSum.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toSum.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toSum.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the sum of list of numbers. Can pipe in <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 45</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">toSum</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toSum.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toSum.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toSum.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toProd">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toProd</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toProd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toProd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toProd.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toProd.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toProd.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the product of a list of numbers. Can pipe in <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 362880</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">toProd</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toProd.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toProd.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toProd.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toAvg">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toAvg</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toAvg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toAvg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toAvg.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toAvg.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toAvg.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates average of list of numbers. Can pipe in <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 4.5</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">toAvg</span><span class="p">()</span>
<span class="c1"># returns nan</span>
<span class="p">[]</span> <span class="o">|</span> <span class="n">toAvg</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toAvg.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toAvg.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toAvg.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="k1lib.cli.conv.toMean">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toMean</span></code><a class="headerlink" href="#k1lib.cli.conv.toMean" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#k1lib.cli.conv.toAvg" title="k1lib.cli.conv.toAvg"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.conv.toAvg</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toMax">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toMax</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toMax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toMax" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toMax.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toMax.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toMax.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the max of a bunch of numbers. Can pipe in <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 6</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="n">toMax</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toMax.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toMax.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toMax.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toMin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toMin</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toMin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toMin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toMin.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toMin.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toMin.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the min of a bunch of numbers. Can pipe in <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 1</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="n">toMin</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toMin.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toMin.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toMin.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toPIL">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toPIL</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toPIL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toPIL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toPIL.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toPIL.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toPIL.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a path to a PIL image.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">toPIL</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">item</span><span class="p">()</span> <span class="c1"># get first image</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toPIL.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v9.1.1)"><span class="pre">PIL.Image.Image</span></a><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toPIL.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toPIL.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="k1lib.cli.conv.toImg">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toImg</span></code><a class="headerlink" href="#k1lib.cli.conv.toImg" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#k1lib.cli.conv.toPIL" title="k1lib.cli.conv.toPIL"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.conv.toPIL</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toRgb">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toRgb</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRgb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toRgb.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRgb.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRgb.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts greyscale/rgb PIL image to rgb image.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># reads image file and converts it to rgb</span>
<span class="s2">&quot;a.png&quot;</span> <span class="o">|</span> <span class="n">toPIL</span><span class="p">()</span> <span class="o">|</span> <span class="n">toRgb</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toRgb.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRgb.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRgb.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toRgba">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toRgba</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRgba"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRgba" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toRgba.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRgba.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRgba.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts random PIL image to rgba image.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># reads image file and converts it to rgba</span>
<span class="s2">&quot;a.png&quot;</span> <span class="o">|</span> <span class="n">toPIL</span><span class="p">()</span> <span class="o">|</span> <span class="n">toRgba</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toRgba.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toRgba.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toRgba.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toBin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toBin</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toBin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toBin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toBin.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toBin.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toBin.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts integer to binary string.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns &quot;101&quot;</span>
<span class="mi">5</span> <span class="o">|</span> <span class="n">toBin</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toBin.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toBin.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toBin.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toIdx">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toIdx</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chars</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toIdx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toIdx.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chars</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toIdx.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toIdx.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Get index of characters according to a reference.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [1, 4, 4, 8]</span>
<span class="s2">&quot;#&amp;&amp;*&quot;</span> <span class="o">|</span> <span class="n">toIdx</span><span class="p">(</span><span class="s2">&quot;!#$%&amp;&#39;()*+&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toIdx.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toIdx.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toIdx.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.lengths">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">lengths</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#lengths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.lengths.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#lengths.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.lengths.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lengths of each element.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span> <span class="o">|</span> <span class="n">lengths</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<p>This is a simpler (and faster!) version of <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span></code>. It assumes each element
can be called with <code class="docutils literal notranslate"><span class="pre">len(x)</span></code>, while <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span></code> iterates through every elements
to get the length, and thus is much slower.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.lengths.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#lengths.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.lengths.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="k1lib.cli.conv.toLens">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toLens</span></code><a class="headerlink" href="#k1lib.cli.conv.toLens" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#k1lib.cli.conv.lengths" title="k1lib.cli.conv.lengths"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.conv.lengths</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toDict">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toDict</span></code><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toDict.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toDict.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toDict.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts 2 Iterators, 1 key, 1 value into a dictionary.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns {1: 3, 2: 4}</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span> <span class="o">|</span> <span class="n">toDict</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toDict.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toDict.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toDict.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.conv.toDictF">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.conv.</span></code><code class="sig-name descname"><span class="pre">toDictF</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyF</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valueF</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toDictF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toDictF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.conv.toDictF.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyF</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valueF</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toDictF.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toDictF.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform an incoming stream into a dict using a function for
values. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;wanda&quot;</span><span class="p">,</span> <span class="s2">&quot;vision&quot;</span><span class="p">,</span> <span class="s2">&quot;loki&quot;</span><span class="p">,</span> <span class="s2">&quot;mobius&quot;</span><span class="p">]</span>
<span class="n">names</span> <span class="o">|</span> <span class="n">toDictF</span><span class="p">(</span><span class="n">valueF</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="c1"># will return {&quot;wanda&quot;: 5, &quot;vision&quot;: 6, ...}</span>
<span class="n">names</span> <span class="o">|</span> <span class="n">toDictF</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="c1"># will return {&quot;Wanda&quot;: 5, &quot;Vision&quot;: 6, ...}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.conv.toDictF.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/conv.html#toDictF.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.conv.toDictF.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.entrez">
<span id="entrez-module"></span><h2>entrez module<a class="headerlink" href="#module-k1lib.cli.entrez" title="Permalink to this headline">¶</a></h2>
<p>This module is not really fleshed out, not that useful/elegant, and I just use
<a class="reference internal" href="#k1lib.cli.inp.cmd" title="k1lib.cli.inp.cmd"><code class="xref py py-class docutils literal notranslate"><span class="pre">cmd</span></code></a> instead</p>
<dl class="py function">
<dt id="k1lib.cli.entrez.esearch">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.entrez.</span></code><code class="sig-name descname"><span class="pre">esearch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'nucleotide'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'PRJNA257197'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/entrez.html#esearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.entrez.esearch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="k1lib.cli.entrez.efetch">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.entrez.</span></code><code class="sig-name descname"><span class="pre">efetch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/entrez.html#efetch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.entrez.efetch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-k1lib.cli.mgi">
<span id="mgi-module"></span><h2>mgi module<a class="headerlink" href="#module-k1lib.cli.mgi" title="Permalink to this headline">¶</a></h2>
<p>All tools related to the MGI database. Expected to use behind the “mgi”
module name, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">k1lib.imports</span> <span class="kn">import</span> <span class="o">*</span>
<span class="p">[</span><span class="s2">&quot;SOD1&quot;</span><span class="p">,</span> <span class="s2">&quot;AMPK&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">mgi</span><span class="o">.</span><span class="n">batch</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py class">
<dt id="k1lib.cli.mgi.batch">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.mgi.</span></code><code class="sig-name descname"><span class="pre">batch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">headless</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/mgi.html#batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.mgi.batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Queries MGI database, convert list of genes to MGI ids</p>
<dl class="py method">
<dt id="k1lib.cli.mgi.batch.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">headless</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/mgi.html#batch.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.mgi.batch.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>headless</strong> – whether to run this operation headless, or actually
display the browser</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.mgi.batch.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/mgi.html#batch.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.mgi.batch.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.filt">
<span id="filt-module"></span><h2>filt module<a class="headerlink" href="#module-k1lib.cli.filt" title="Permalink to this headline">¶</a></h2>
<p>This is for functions that cuts out specific parts of the table</p>
<dl class="py class">
<dt id="k1lib.cli.filt.filt">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">filt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#filt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.filt" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.filt.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#filt.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.filt.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out lines.
Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [2, 6]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [3, 5]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="o">~</span><span class="n">filt</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[2, &#39;a&#39;], [6, &#39;c&#39;]]</span>
<span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also pass in <a class="reference internal" href="#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">op</span></code></a>, for extra intuitiveness:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [2, 6]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [&#39;abc&#39;, &#39;a12&#39;]</span>
<span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;def&quot;</span><span class="p">,</span> <span class="s2">&quot;a12&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [&#39;abcd&#39;, &#39;2bcr&#39;]</span>
<span class="p">[</span><span class="s2">&quot;abcd&quot;</span><span class="p">,</span> <span class="s2">&quot;0123&quot;</span><span class="p">,</span> <span class="s2">&quot;2bcr&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="s2">&quot;bc&quot;</span> <span class="ow">in</span> <span class="n">op</span><span class="p">())</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [2, 3]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [0, 1, 4]. Does not support `filt(op() not in [2, 8, 3])`. Use inverted filt instead!</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="o">~</span><span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>column</strong> – <ul class="simple">
<li><p>if integer, then predicate(row[column])</p></li>
<li><p>if None, then predicate(row)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.filt.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#filt.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.filt.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.filt.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#filt.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.filt.__invert__" title="Permalink to this definition">¶</a></dt>
<dd><p>Negate the condition</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.filt.inSet">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">inSet</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.filt.filt" title="k1lib.cli.filt.filt"><span class="pre">k1lib.cli.filt.filt</span></a><a class="reference internal" href="../_modules/k1lib/cli/filt.html#inSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.inSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out lines that is not in the specified set.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [2, 3]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">inSet</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [0, 1, 4]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="o">~</span><span class="n">inSet</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also use <a class="reference internal" href="#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">op</span></code></a> like this, so you don’t
have to remember this cli:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [2, 3]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [0, 1, 4]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="o">~</span><span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>However, this feature is very experimental</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.filt.contains">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">contains</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.filt.filt" title="k1lib.cli.filt.filt"><span class="pre">k1lib.cli.filt.filt</span></a><a class="reference internal" href="../_modules/k1lib/cli/filt.html#contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out lines that don’t contain the specified substring. Sort of similar
to <a class="reference internal" href="#k1lib.cli.grep.grep" title="k1lib.cli.grep.grep"><code class="xref py py-class docutils literal notranslate"><span class="pre">grep</span></code></a>, but this is simpler, and can be inverted.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;abcd&#39;, &#39;2bcr&#39;]</span>
<span class="p">[</span><span class="s2">&quot;abcd&quot;</span><span class="p">,</span> <span class="s2">&quot;0123&quot;</span><span class="p">,</span> <span class="s2">&quot;2bcr&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">contains</span><span class="p">(</span><span class="s2">&quot;bc&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also use <a class="reference internal" href="#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">op</span></code></a> like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;abcd&#39;, &#39;2bcr&#39;]</span>
<span class="p">[</span><span class="s2">&quot;abcd&quot;</span><span class="p">,</span> <span class="s2">&quot;0123&quot;</span><span class="p">,</span> <span class="s2">&quot;2bcr&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="s2">&quot;bc&quot;</span> <span class="ow">in</span> <span class="n">op</span><span class="p">())</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.empty">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">empty</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.empty.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#empty.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.empty.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out streams that is not empty. Almost always used inverted,
but “empty” is a short, sweet name that’s easy to remember. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, 2], [&#39;a&#39;]]</span>
<span class="p">[[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="o">~</span><span class="n">empty</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>reverse</strong> – not intended to be used by the end user. Do <code class="docutils literal notranslate"><span class="pre">~empty()</span></code> instead.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.empty.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streams</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#empty.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.empty.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.empty.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#empty.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.empty.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.filt.isNumeric">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">isNumeric</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.filt.filt" title="k1lib.cli.filt.filt"><span class="pre">k1lib.cli.filt.filt</span></a><a class="reference internal" href="../_modules/k1lib/cli/filt.html#isNumeric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.isNumeric" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out a line if that column is not a number.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [0, 2, &#39;3&#39;]</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">isNumeric</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.filt.instanceOf">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">instanceOf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><span class="pre">type</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><span class="pre">type</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.filt.filt" title="k1lib.cli.filt.filt"><span class="pre">k1lib.cli.filt.filt</span></a><a class="reference internal" href="../_modules/k1lib/cli/filt.html#instanceOf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.instanceOf" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out lines that is not an instance of the given type.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [2]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">instanceOf</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [2, 2.3]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">instanceOf</span><span class="p">((</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.filt.inRange">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">inRange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">-</span> <span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.filt.filt" title="k1lib.cli.filt.filt"><span class="pre">k1lib.cli.filt.filt</span></a><a class="reference internal" href="../_modules/k1lib/cli/filt.html#inRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.inRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether a column is in range or not.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [-2, 3, 6]</span>
<span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="n">inRange</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [-8]</span>
<span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="o">~</span><span class="n">inRange</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>If you wish to just check against 1 bound, then use filt directly, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [3, 4]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.head">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">head</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#head"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.head" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.head.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#head.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.head.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Only outputs first <code class="docutils literal notranslate"><span class="pre">n</span></code> lines. You can also negate it (like
<code class="docutils literal notranslate"><span class="pre">~head(5)</span></code>), which then only outputs after first <code class="docutils literal notranslate"><span class="pre">n</span></code> lines. Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;abcde&quot;</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&quot;a&quot;, &quot;b&quot;]</span>
<span class="s2">&quot;abcde&quot;</span> <span class="o">|</span> <span class="o">~</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span>
<span class="s2">&quot;0123456&quot;</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;]</span>
<span class="s2">&quot;0123456&quot;</span> <span class="o">|</span> <span class="o">~</span><span class="n">head</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&#39;4&#39;, &#39;5&#39;, &#39;6&#39;]</span>
<span class="s2">&quot;012&quot;</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;]</span>
<span class="s2">&quot;012&quot;</span> <span class="o">|</span> <span class="o">~</span><span class="n">head</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns []</span>
</pre></div>
</div>
<p>Also works well and fast with <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns (10,)</span>
<span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.head.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#head.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.head.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.head.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#head.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.head.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.filt.tail">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">tail</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.tail" title="Permalink to this definition">¶</a></dt>
<dd><p>Basically an inverted <a class="reference internal" href="#k1lib.cli.filt.head" title="k1lib.cli.filt.head"><code class="xref py py-class docutils literal notranslate"><span class="pre">head</span></code></a>.
Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">tail</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [7, 8, 9]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.columns">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">columns</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.columns.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#columns.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.columns.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Cuts out specific columns, sliceable. Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;0123456789&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">cut</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [[&#39;5&#39;, &#39;8&#39;]]</span>
<span class="p">[</span><span class="s2">&quot;0123456789&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">cut</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&#39;2&#39;]</span>
<span class="p">[</span><span class="s2">&quot;0123456789&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">cut</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [[&#39;5&#39;, &#39;8&#39;]]</span>
<span class="p">[</span><span class="s2">&quot;0123456789&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="o">~</span><span class="n">cut</span><span class="p">()[:</span><span class="mi">7</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [[&#39;1&#39;, &#39;3&#39;, &#39;5&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;]]</span>
</pre></div>
</div>
<p>If you’re selecting only 1 column, then Iterator[T] will be returned, not
Table[T].</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.columns.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#columns.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.columns.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.columns.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#columns.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.columns.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="k1lib.cli.filt.cut">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">cut</span></code><a class="headerlink" href="#k1lib.cli.filt.cut" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#k1lib.cli.filt.columns" title="k1lib.cli.filt.columns"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.filt.columns</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.rows">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">rows</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.rows.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#rows.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.rows.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Cuts out specific rows. Space complexity O(1) as a list is not
constructed (unless you’re using some really weird slices).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rows</strong> – ints for the row indices</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;0123456789&quot;</span> <span class="o">|</span> <span class="n">rows</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&quot;2&quot;]</span>
<span class="s2">&quot;0123456789&quot;</span> <span class="o">|</span> <span class="n">rows</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&quot;5&quot;, &quot;8&quot;]</span>
<span class="s2">&quot;0123456789&quot;</span> <span class="o">|</span> <span class="n">rows</span><span class="p">()[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&quot;2&quot;, &quot;3&quot;, &quot;4&quot;]</span>
<span class="s2">&quot;0123456789&quot;</span> <span class="o">|</span> <span class="o">~</span><span class="n">rows</span><span class="p">()[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&quot;0&quot;, &quot;1&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;]</span>
<span class="s2">&quot;0123456789&quot;</span> <span class="o">|</span> <span class="o">~</span><span class="n">rows</span><span class="p">()[:</span><span class="mi">7</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&#39;1&#39;, &#39;3&#39;, &#39;5&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;]</span>
<span class="s2">&quot;0123456789&quot;</span> <span class="o">|</span> <span class="n">rows</span><span class="p">()[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;]</span>
<span class="s2">&quot;0123456789&quot;</span> <span class="o">|</span> <span class="o">~</span><span class="n">rows</span><span class="p">()[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [&#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.rows.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#rows.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.rows.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.rows.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#rows.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.rows.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.intersection">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">intersection</span></code><a class="reference internal" href="../_modules/k1lib/cli/filt.html#intersection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.intersection.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#intersection.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.intersection.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the intersection of multiple streams.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns set([2, 4, 5])</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span> <span class="o">|</span> <span class="n">intersection</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.intersection.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">its</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#intersection.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.intersection.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.union">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">union</span></code><a class="reference internal" href="../_modules/k1lib/cli/filt.html#union"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.union.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#union.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.union.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the union of multiple streams.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns {0, 1, 2, 10, 11, 12, 13, 14}</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">)]</span> <span class="o">|</span> <span class="n">union</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.union.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">its</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#union.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.union.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.unique">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">unique</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#unique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.unique.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#unique.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.unique.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out non-unique row elements.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, &quot;a&quot;], [2, &quot;a&quot;]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="n">unique</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>column</strong> – doesn’t have the default case of None, because you can always use
<a class="reference internal" href="#k1lib.cli.conv.toSet" title="k1lib.cli.conv.toSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.conv.toSet</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.unique.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#unique.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.unique.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.breakIf">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">breakIf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#breakIf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.breakIf" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.breakIf.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#breakIf.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.breakIf.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Breaks the input iterator if a condition is met.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [0, 1, 2, 3, 4, 5]</span>
<span class="p">[</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">breakIf</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.breakIf.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#breakIf.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.breakIf.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.filt.mask">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.filt.</span></code><code class="sig-name descname"><span class="pre">mask</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.filt.mask.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#mask.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.mask.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Masks the input stream.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [0, 1, 3]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">mask</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns torch.tensor([0, 1, 3])</span>
<span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">|</span> <span class="n">mask</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.filt.mask.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/filt.html#mask.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.filt.mask.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.gb">
<span id="gb-module"></span><h2>gb module<a class="headerlink" href="#module-k1lib.cli.gb" title="Permalink to this headline">¶</a></h2>
<p>All tools related to GenBank file format. Expected to use behind the
“gb” module name, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">k1lib.imports</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">cat</span><span class="p">(</span><span class="s2">&quot;abc.gb&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">gb</span><span class="o">.</span><span class="n">feats</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py class">
<dt id="k1lib.cli.gb.feats">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.gb.</span></code><code class="sig-name descname"><span class="pre">feats</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/gb.html#feats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.gb.feats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Fetches features, each on a separate stream</p>
<dl class="py method">
<dt id="k1lib.cli.gb.feats.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/gb.html#feats.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.gb.feats.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.gb.feats.filt">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">filt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">terms</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><a class="reference internal" href="../_modules/k1lib/cli/gb.html#feats.filt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.gb.feats.filt" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters for specific terms in all the features texts. If there
are multiple terms, then filters for first term, then second, then third,
so the term’s order might matter to you</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.gb.feats.tag">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">tag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><a class="reference internal" href="../_modules/k1lib/cli/gb.html#feats.tag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.gb.feats.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a single tag out. Applies this on a single feature only</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.gb.origin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.gb.</span></code><code class="sig-name descname"><span class="pre">origin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/gb.html#origin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.gb.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Return the origin section of the genbank file</p>
<dl class="py method">
<dt id="k1lib.cli.gb.origin.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/gb.html#origin.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.gb.origin.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.grep">
<span id="grep-module"></span><h2>grep module<a class="headerlink" href="#module-k1lib.cli.grep" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.cli.grep.grep">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.grep.</span></code><code class="sig-name descname"><span class="pre">grep</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/grep.html#grep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.grep.grep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.grep.grep.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/grep.html#grep.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.grep.grep.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Find lines that has the specified pattern.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;d&#39;, &#39;d&#39;]</span>
<span class="s2">&quot;abcde12d34&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [&#39;c&#39;, &#39;d&#39;, &#39;2&#39;, &#39;d&#39;], 2 sections of [&#39;c&#39;, &#39;d&#39;] and [&#39;2&#39;, &#39;d&#39;]</span>
<span class="s2">&quot;abcde12d34&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [&#39;c&#39;, &#39;d&#39;]</span>
<span class="s2">&quot;abcde12d34&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [&#39;d&#39;, &#39;e&#39;, &#39;d&#39;, &#39;3&#39;, &#39;4&#39;], 2 sections of [&#39;d&#39;, &#39;e&#39;] and [&#39;d&#39;, &#39;3&#39;, &#39;4&#39;]</span>
<span class="s2">&quot;abcde12d34&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">till</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[&#39;0&#39;, &#39;1&#39;, &#39;2&#39;], [&#39;3&#39;, &#39;1&#39;, &#39;4&#39;]]</span>
<span class="s2">&quot;0123145&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also separate out the sections:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[&#39;c&#39;, &#39;d&#39;], [&#39;2&#39;, &#39;d&#39;]]</span>
<span class="s2">&quot;abcde12d34&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[&#39;c&#39;, &#39;d&#39;]]</span>
<span class="s2">&quot;abcde12d34&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;], [&#39;1&#39;, &#39;4&#39;, &#39;5&#39;]]</span>
<span class="s2">&quot;0123145&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">till</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#k1lib.cli.structural.groupBy" title="k1lib.cli.structural.groupBy"><code class="xref py py-class docutils literal notranslate"><span class="pre">groupBy</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – regex pattern to search for in a line</p></li>
<li><p><strong>before</strong> – lines before the hit. Outputs independent lines</p></li>
<li><p><strong>after</strong> – lines after the hit. Outputs independent lines</p></li>
<li><p><strong>N</strong> – max sections to output</p></li>
<li><p><strong>sep</strong> – whether to separate out the sections as lists</p></li>
<li><p><strong>col</strong> – searches for pattern in a specific column</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.grep.grep.till">
<code class="sig-name descname"><span class="pre">till</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/grep.html#grep.till"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.grep.grep.till" title="Permalink to this definition">¶</a></dt>
<dd><p>Greps until some other pattern appear. Inclusive, so you might want to
trim the last line. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;], includes last item</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;5&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">till</span><span class="p">(</span><span class="s2">&quot;8&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [&#39;d&#39;, &#39;e&#39;, &#39;d&#39;, &#39;3&#39;, &#39;4&#39;]</span>
<span class="s2">&quot;abcde12d34&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">till</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [&#39;d&#39;, &#39;e&#39;]</span>
<span class="s2">&quot;abcde12d34&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">till</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>If initial pattern and till pattern are the same, then you don’t have use this method at
all. Instead, do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]</span>
<span class="s2">&quot;0123145&quot;</span> <span class="o">|</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="n">after</span><span class="o">=</span><span class="mf">1e9</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.grep.grep.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/grep.html#grep.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.grep.grep.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.grep.grepTemplate">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.grep.</span></code><code class="sig-name descname"><span class="pre">grepTemplate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/grep.html#grepTemplate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.grep.grepTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.grep.grepTemplate.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/grep.html#grepTemplate.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.grep.grepTemplate.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches over all lines, pick out the match, and expands
it to the templateand yields</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.grep.grepTemplate.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/grep.html#grepTemplate.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.grep.grepTemplate.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="init-module">
<h2>init module<a class="headerlink" href="#init-module" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.cli.init.BaseCli">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.init.</span></code><code class="sig-name descname"><span class="pre">BaseCli</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A base class for all the cli stuff. You can definitely create new cli tools that
have the same feel without extending from this class, but advanced stream operations
(like <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">.all()</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>) won’t work.</p>
<p>At the moment, you don’t have to call super().__init__() and super().__ror__(),
as __init__’s only job right now is to solidify any <a class="reference internal" href="#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">op</span></code></a>
passed to it, and __ror__ does nothing.</p>
<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Not expected to be instantiated by the end user.</p>
<p><strong>fs param</strong></p>
<p>Expected to use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">BaseCli</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">];</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fs</span><span class="p">);</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="n">fs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">f</span></code> is some (potentially exotic) function. This will replace f with a “normal”
function that’s executable. See source code of <a class="reference internal" href="#k1lib.cli.filt.filt" title="k1lib.cli.filt.filt"><code class="xref py py-class docutils literal notranslate"><span class="pre">filt</span></code></a> for an
example of why this is useful. Currently, it will:</p>
<ul class="simple">
<li><p>Replace with last recorded <code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">in</span> <span class="pre">op()</span></code>, if <code class="docutils literal notranslate"><span class="pre">f</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">True</span></code></a>, because Python does
not allow returning complex objects from __contains__ method</p></li>
<li><p>Solidifies every <a class="reference internal" href="#k1lib.cli.modifier.op" title="k1lib.cli.modifier.op"><code class="xref py py-class docutils literal notranslate"><span class="pre">op</span></code></a>.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.__and__">
<code class="sig-name descname"><span class="pre">__and__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cli</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.init.oneToMany" title="k1lib.cli.init.oneToMany"><span class="pre">k1lib.cli.init.oneToMany</span></a><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.__and__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.__and__" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicates input stream to multiple joined clis.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[5], [0, 1, 2, 3, 4]]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">shape</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">iden</span><span class="p">())</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Kinda like <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a>. There’re just multiple ways of doing
this. This I think, is more intuitive, and <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a> is more
for lambdas and columns mode. Performances are pretty much identical.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.__add__">
<code class="sig-name descname"><span class="pre">__add__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cli</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.init.mtmS" title="k1lib.cli.init.mtmS"><span class="pre">k1lib.cli.init.mtmS</span></a><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.__add__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel pass multiple streams to multiple clis.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [8, 15]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="p">((</span><span class="n">op</span><span class="p">()</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.all">
<code class="sig-name descname"><span class="pre">all</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies this cli to all incoming streams.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns (3,)</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">toMean</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># returns (3, 4)</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">toMean</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> – how many times should I chain <code class="docutils literal notranslate"><span class="pre">.all()</span></code>?</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.__or__">
<code class="sig-name descname"><span class="pre">__or__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cli</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.init.serial" title="k1lib.cli.init.serial"><span class="pre">k1lib.cli.init.serial</span></a><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.__or__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.__or__" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins clis end-to-end.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [0, 1, 4, 9, 16]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">c</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.f">
<code class="sig-name descname"><span class="pre">f</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.f"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.f" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a normal function <span class="math notranslate nohighlight">\(f(x)\)</span> which is equivalent to
<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">|</span> <span class="pre">self</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.__lt__">
<code class="sig-name descname"><span class="pre">__lt__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.__lt__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Backup pipe symbol <cite>&gt;</cite>, purely for style, so that you can do something like
this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;a.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.BaseCli.__call__">
<code class="sig-name descname"><span class="pre">__call__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#BaseCli.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.BaseCli.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Another way to do <code class="docutils literal notranslate"><span class="pre">it</span> <span class="pre">|</span> <span class="pre">cli</span></code>. If multiple arguments are fed, then the
argument list is passed to cli instead of just the first element. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@applyS</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">it</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">it</span>
<span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># returns 2</span>
<span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1"># returns [2, 3]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<span class="target" id="module-k1lib.cli.init"></span><dl class="py function">
<dt id="k1lib.cli.init.fastF">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.init.</span></code><code class="sig-name descname"><span class="pre">fastF</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#fastF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.fastF" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to figure out what’s going on, is it a normal function, or an applyS,
or a BaseCli, etc., and return a really fast function for execution. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># both returns 16, fastF returns &quot;lambda x: x**2&quot;, so it&#39;s really fast</span>
<span class="n">fastF</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">)(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">fastF</span><span class="p">(</span><span class="n">applyS</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">))(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>At the moment, parameter <code class="docutils literal notranslate"><span class="pre">x</span></code> does nothing, but potentially in the future, you can
pass in an example input to the cli, so that this returns an optimized, C compiled
version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – sample data for the cli</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.init.serial">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.init.</span></code><code class="sig-name descname"><span class="pre">serial</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#serial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.serial" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.init.serial.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#serial.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.serial.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges clis into 1, feeding end to end. Used in chaining clis
together without a prime iterator. Meaning, without this, stuff like this
fails to run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="n">a</span><span class="p">()</span> <span class="o">|</span> <span class="n">b</span><span class="p">()</span> <span class="c1"># runs</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="p">()</span> <span class="o">|</span> <span class="n">b</span><span class="p">();</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="n">c</span> <span class="c1"># doesn&#39;t run if this class doesn&#39;t exist</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.serial.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/init.html#serial.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.serial.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.init.oneToMany">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.init.</span></code><code class="sig-name descname"><span class="pre">oneToMany</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#oneToMany"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.oneToMany" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.init.oneToMany.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#oneToMany.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.oneToMany.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicates 1 stream into multiple streams, each for a cli in the
list. Used in the “a &amp; b” joining operator. See also: <a class="reference internal" href="#k1lib.cli.init.BaseCli.__and__" title="k1lib.cli.init.BaseCli.__and__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BaseCli.__and__()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.oneToMany.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/init.html#oneToMany.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.oneToMany.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.init.manyToMany">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.init.</span></code><code class="sig-name descname"><span class="pre">manyToMany</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cli</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#manyToMany"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.manyToMany" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.init.manyToMany.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cli</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#manyToMany.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.manyToMany.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies multiple streams to a single cli. Used in the <a class="reference internal" href="#k1lib.cli.init.BaseCli.all" title="k1lib.cli.init.BaseCli.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BaseCli.all()</span></code></a>
operator.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.manyToMany.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/init.html#manyToMany.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.manyToMany.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.init.mtmS">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.init.</span></code><code class="sig-name descname"><span class="pre">mtmS</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#mtmS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.mtmS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.init.mtmS.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#mtmS.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.mtmS.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies multiple streams to multiple clis independently. Used in
the “a + b” joining operator. See also: <a class="reference internal" href="#k1lib.cli.init.BaseCli.__add__" title="k1lib.cli.init.BaseCli.__add__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BaseCli.__add__()</span></code></a>.</p>
<p>Weird name is actually a shorthand for “many to many specific”.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.mtmS.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">its</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/init.html#mtmS.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.mtmS.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.init.mtmS.f">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">f</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/init.html#mtmS.f"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.init.mtmS.f" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method, so
that this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mtmS</span><span class="p">(</span><span class="n">iden</span><span class="p">(),</span> <span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">iden</span><span class="p">(),</span> <span class="n">iden</span><span class="p">(),</span> <span class="n">iden</span><span class="p">())</span>
<span class="c1"># also the same as this btw:</span>
<span class="p">(</span><span class="n">iden</span><span class="p">()</span> <span class="o">+</span> <span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">iden</span><span class="p">()</span> <span class="o">+</span> <span class="n">iden</span><span class="p">()</span> <span class="o">+</span> <span class="n">iden</span><span class="p">())</span>
</pre></div>
</div>
<p>is the same as this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mtmS</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [5, 36, 7, 8, 9]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">mtmS</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> – where should I put the function?</p></li>
<li><p><strong>n</strong> – how many clis in total? Defaulted to 100</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.inp">
<span id="inp-module"></span><h2>inp module<a class="headerlink" href="#module-k1lib.cli.inp" title="Permalink to this headline">¶</a></h2>
<p>This module for tools that will likely start the processing stream.</p>
<dl class="py function">
<dt id="k1lib.cli.inp.cat">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.inp.</span></code><code class="sig-name descname"><span class="pre">cat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/inp.html#cat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.inp.cat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a file line by line.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># display first 10 lines of file</span>
<span class="n">cat</span><span class="p">(</span><span class="s2">&quot;file.txt&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">headOut</span><span class="p">()</span>
<span class="c1"># piping in also works</span>
<span class="s2">&quot;file.txt&quot;</span> <span class="o">|</span> <span class="n">cat</span><span class="p">()</span> <span class="o">|</span> <span class="n">headOut</span><span class="p">()</span>

<span class="c1"># rename file</span>
<span class="n">cat</span><span class="p">(</span><span class="s2">&quot;img.png&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;img2.png&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileName</strong> – if None, then return a <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCli</span></code></a>
that accepts a file name and outputs Iterator[str]</p></li>
<li><p><strong>text</strong> – if True, read text file, else read binary file</p></li>
<li><p><strong>_all</strong> – if True, read entire file at once, instead of reading
line-by-line. Faster, but uses more memory. Only works with text
mode, binary mode always read the entire file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.inp.curl">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.inp.</span></code><code class="sig-name descname"><span class="pre">curl</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/inp.html#curl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.inp.curl" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets file from url. File can’t be a binary blob.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out first 10 lines of the website</span>
<span class="n">curl</span><span class="p">(</span><span class="s2">&quot;https://k1lib.github.io/&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">headOut</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.inp.wget">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.inp.</span></code><code class="sig-name descname"><span class="pre">wget</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/inp.html#wget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.inp.wget" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads a file. Also returns the file name, in case you want to pipe it
to something else.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – The url of the file</p></li>
<li><p><strong>fileName</strong> – if None, then tries to infer it from the url</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.inp.ls">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.inp.</span></code><code class="sig-name descname"><span class="pre">ls</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/inp.html#ls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.inp.ls" title="Permalink to this definition">¶</a></dt>
<dd><p>List every file and folder inside the specified folder.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns List[str]</span>
<span class="n">ls</span><span class="p">(</span><span class="s2">&quot;/home&quot;</span><span class="p">)</span>
<span class="c1"># same as above</span>
<span class="s2">&quot;/home&quot;</span> <span class="o">|</span> <span class="n">ls</span><span class="p">()</span>
<span class="c1"># only outputs files, not folders</span>
<span class="n">ls</span><span class="p">(</span><span class="s2">&quot;/home&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.inp.cmd">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.inp.</span></code><code class="sig-name descname"><span class="pre">cmd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/inp.html#cmd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.inp.cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.inp.cmd.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/inp.html#cmd.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.inp.cmd.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a command, and returns the output line by line. Can pipe in some
inputs. If no inputs then have to pipe in <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># return detailed list of files</span>
<span class="kc">None</span> <span class="o">|</span> <span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;ls -la&quot;</span><span class="p">)</span>
<span class="c1"># return list of files that ends with &quot;ipynb&quot;</span>
<span class="kc">None</span> <span class="o">|</span> <span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;ls -la&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">cmd</span><span class="p">(</span><span class="s1">&#39;grep ipynb$&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>It might be tiresome to pipe in <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> all the time. So, you can use “&gt;”
operator to yield values right away:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out first 10 lines of list of files</span>
<span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;ls -la&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">headOut</span><span class="p">()</span>
</pre></div>
</div>
<p>If you’re using Jupyter notebook/lab, then if you were to display a <a class="reference internal" href="#k1lib.cli.inp.cmd" title="k1lib.cli.inp.cmd"><code class="xref py py-class docutils literal notranslate"><span class="pre">cmd</span></code></a>
object, it will print out the outputs. So, a single command <code class="docutils literal notranslate"><span class="pre">cmd(&quot;mkdir&quot;)</span></code>
displayed at the end of a cell is enough to trigger creating the directory.</p>
<p>Reminder that “&gt;” operator in here sort of has a different meaning to that of
<a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCli</span></code></a>. So you kinda have to becareful about this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns a serial cli, cmd not executed</span>
<span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;ls -la&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># executes cmd with no input stream and pipes output to deref</span>
<span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;ls -la&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns a serial cli</span>
<span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;ls -la&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;txt&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">headOut</span><span class="p">()</span>
<span class="c1"># executes pipeline</span>
<span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;ls -la&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">grep</span><span class="p">(</span><span class="s2">&quot;txt&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">headOut</span><span class="p">()</span>
</pre></div>
</div>
<p>General advice is, right ater a <a class="reference internal" href="#k1lib.cli.inp.cmd" title="k1lib.cli.inp.cmd"><code class="xref py py-class docutils literal notranslate"><span class="pre">cmd</span></code></a>, use “&gt;”, and use “|” everywhere else.</p>
<p>Let’s see a few more exotic examples. File <code class="docutils literal notranslate"><span class="pre">a.sh</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span> <span class="m">1</span><span class="p">;</span> sleep <span class="m">0</span>.5
<span class="nb">echo</span> This message goes to stderr &gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="nb">echo</span> <span class="m">2</span><span class="p">;</span> sleep <span class="m">0</span>.5
<span class="nb">echo</span> <span class="k">$(</span>&lt;/dev/stdin<span class="k">)</span>
sleep <span class="m">0</span>.5<span class="p">;</span> <span class="nb">echo</span> <span class="m">3</span>
</pre></div>
</div>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [b&#39;1&#39;, b&#39;2&#39;, b&#39;45&#39;, b&#39;3&#39;] and prints out the error message</span>
<span class="s2">&quot;45&quot;</span> <span class="o">|</span> <span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;./a.sh&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [b&#39;This message goes to stderr&#39;]</span>
<span class="s2">&quot;45&quot;</span> <span class="o">|</span> <span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;./a.sh&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[b&#39;1&#39;, b&#39;2&#39;, b&#39;45&#39;, b&#39;3&#39;], [b&#39;This message goes to stderr&#39;]]</span>
<span class="s2">&quot;45&quot;</span> <span class="o">|</span> <span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;./a.sh&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Performance-wise, stdout and stderr will yield values right away as soon
as the process outputs it, so you get real time feedback. However, this will
convert the entire input into a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object, and not feed it bit by
bit lazily, so if you have a humongous input, it might slow you down a little.</p>
<p>Settings:
- cli.quiet: if True, won’t display errors in mode 1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – if 0, returns <code class="docutils literal notranslate"><span class="pre">(stdout,</span> <span class="pre">stderr)</span></code>. If 1, returns <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and prints
<code class="docutils literal notranslate"><span class="pre">stderr</span></code> if there are any errors. If 2, returns <code class="docutils literal notranslate"><span class="pre">stderr</span></code></p></li>
<li><p><strong>text</strong> – whether to decode the outputs into <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or return raw <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a></p></li>
<li><p><strong>block</strong> – whether to wait for the task to finish before returning to Python or not</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.inp.cmd.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/inp.html#cmd.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.inp.cmd.__ror__" title="Permalink to this definition">¶</a></dt>
<dd><p>Pipes in lines of input, or if there’s nothing to
pass, then pass None</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.inp.requireCli">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.inp.</span></code><code class="sig-name descname"><span class="pre">requireCli</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cliTool</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/inp.html#requireCli"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.inp.requireCli" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches for a particular cli tool (eg. “ls”), throws ImportError if not
found, else do nothing</p>
</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.kcsv">
<span id="kcsv-module"></span><h2>kcsv module<a class="headerlink" href="#module-k1lib.cli.kcsv" title="Permalink to this headline">¶</a></h2>
<p>All tools related to csv file format. Expected to use behind the “kcsv”
module name, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">k1lib.imports</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">kcsv</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="s2">&quot;file.csv&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py function">
<dt id="k1lib.cli.kcsv.cat">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.kcsv.</span></code><code class="sig-name descname"><span class="pre">cat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/kcsv.html#cat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kcsv.cat" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a csv file, and turns them into nice row elements</p>
</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.kxml">
<span id="kxml-module"></span><h2>kxml module<a class="headerlink" href="#module-k1lib.cli.kxml" title="Permalink to this headline">¶</a></h2>
<p>All tools related to xml file format. Expected to use behind the “kxml”
module name, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">k1lib.imports</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">cat</span><span class="p">(</span><span class="s2">&quot;abc.xml&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">node</span><span class="p">()</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py class">
<dt id="k1lib.cli.kxml.node">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.kxml.</span></code><code class="sig-name descname"><span class="pre">node</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<p>Turns lines into a single node.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2">    &lt;head&gt;</span>
<span class="s2">        &lt;style&gt;&lt;/style&gt;</span>
<span class="s2">    &lt;/head&gt;</span>
<span class="s2">    &lt;body&gt;</span>
<span class="s2">        &lt;div&gt;&lt;/div&gt;</span>
<span class="s2">    &lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;&quot;&quot;&quot;</span>
<span class="n">s</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">node</span><span class="p">()</span> <span class="c1"># returns root node</span>
</pre></div>
</div>
<dl class="py method">
<dt id="k1lib.cli.kxml.node.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><span class="pre">xml.etree.ElementTree.Element</span></a><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#node.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.node.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.kxml.maxDepth">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.kxml.</span></code><code class="sig-name descname"><span class="pre">maxDepth</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#maxDepth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.maxDepth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.kxml.maxDepth.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#maxDepth.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.maxDepth.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out too deep nodes.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns root node, but prunes children deeper than the specified depth</span>
<span class="n">s</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">node</span><span class="p">()</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">maxDepth</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> – max depth to include in</p></li>
<li><p><strong>copy</strong> – whether to limit the nodes itself, or limit a copy</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.kxml.maxDepth.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><span class="pre">xml.etree.ElementTree.Element</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><span class="pre">xml.etree.ElementTree.Element</span></a><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#maxDepth.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.maxDepth.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.kxml.tags">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.kxml.</span></code><code class="sig-name descname"><span class="pre">tags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">tags</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nested</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.kxml.tags.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">tags</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nested</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#tags.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.tags.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all tags that have a particular name.. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns a list of &quot;Pool&quot; tags (with 2 elements) that are 2 levels deep</span>
<span class="n">s</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">node</span><span class="p">()</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="s2">&quot;Pool&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
<span class="c1"># returns list with 2 tags</span>
<span class="n">s</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">node</span><span class="p">()</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="s2">&quot;EXPERIMENT_PACKAGE&quot;</span><span class="p">)</span>
<span class="c1"># returns list with 3 tags</span>
<span class="n">s</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">node</span><span class="p">()</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="s2">&quot;EXPERIMENT_PACKAGE&quot;</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nested</strong> – whether to search for “div” tag inside of another “div” tag</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.kxml.tags.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><span class="pre">xml.etree.ElementTree.Element</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><span class="pre">xml.etree.ElementTree.Element</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#tags.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.tags.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.kxml.pretty">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.kxml.</span></code><code class="sig-name descname"><span class="pre">pretty</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#pretty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.pretty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.kxml.pretty.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#pretty.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.pretty.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the element into a list of xml strings, and make them pretty.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out the element</span>
<span class="n">s</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">node</span><span class="p">()</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">pretty</span><span class="p">()</span> <span class="o">|</span> <span class="n">stdout</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.kxml.pretty.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><span class="pre">xml.etree.ElementTree.Element</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#pretty.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.pretty.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.kxml.display">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.kxml.</span></code><code class="sig-name descname"><span class="pre">display</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#display"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.kxml.display.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#display.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.display.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for getting head, make it pretty and print it out.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out the element</span>
<span class="n">s</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">node</span><span class="p">()</span> <span class="o">|</span> <span class="n">kxml</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> – prune tags deeper than the specified depth. Put “None” to not prune at all</p></li>
<li><p><strong>lines</strong> – max number of lines to print out. Put “None” if you want to display everything</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.kxml.display.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><span class="pre">xml.etree.ElementTree.Element</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/kxml.html#display.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.kxml.display.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.modifier">
<span id="modifier-module"></span><h2>modifier module<a class="headerlink" href="#module-k1lib.cli.modifier" title="Permalink to this headline">¶</a></h2>
<p>This is for quick modifiers, think of them as changing formats</p>
<dl class="py class">
<dt id="k1lib.cli.modifier.applyS">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">applyS</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.applyS.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyS.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyS.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a>, but much simpler, just operating on the entire input
object, essentially. The “S” stands for “single”. There’s
also an alias shorthand for this called <a class="reference internal" href="#k1lib.cli.modifier.aS" title="k1lib.cli.modifier.aS"><code class="xref py py-class docutils literal notranslate"><span class="pre">aS</span></code></a>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 5</span>
<span class="mi">3</span> <span class="o">|</span> <span class="n">aS</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Like <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a>, you can also use this as a decorator like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@aS</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span>
<span class="c1"># returns 5</span>
<span class="mi">3</span> <span class="o">|</span> <span class="n">f</span>
</pre></div>
</div>
<p>This also decorates the returned object so that it has same qualname, docstring
and whatnot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – the function to be executed</p></li>
<li><p><strong>kwargs</strong> – other keyword arguments to pass to the function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.applyS.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">T</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyS.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyS.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.applyS.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyS.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyS.__invert__" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures it so that it expand the arguments out.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 5</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="o">~</span><span class="n">aS</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">a</span>
<span class="c1"># returns 10</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="o">~</span><span class="n">aS</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="c1"># returns 11</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="o">~</span><span class="n">aS</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="k1lib.cli.modifier.aS">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">aS</span></code><a class="headerlink" href="#k1lib.cli.modifier.aS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#k1lib.cli.modifier.applyS" title="k1lib.cli.modifier.applyS"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.modifier.applyS</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.apply">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">apply</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.apply.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#apply.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.apply.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a function f to every line.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [0, 1, 4, 9, 16]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[3.0, 1.0, 1.0], [3.0, 1.0, 1.0]]</span>
<span class="n">torch</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also use this as a decorator, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@apply</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="c1"># returns [0, 1, 4, 9, 16]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">f</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also add a cache, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calc</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span> <span class="k">return</span> <span class="n">i</span><span class="o">**</span><span class="mi">2</span>
<span class="c1"># takes 2.5s</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">repeatFrom</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">calc</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># takes 5s</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">repeatFrom</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">calc</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> – if not None, then applies the function to that column only</p></li>
<li><p><strong>cache</strong> – if specified, then caches this much number of values</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.apply.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#apply.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.apply.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.applyMp">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">applyMp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utilization</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyMp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyMp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.applyMp.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utilization</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyMp.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyMp.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a>, but execute <code class="docutils literal notranslate"><span class="pre">f(row)</span></code> of each row in
multiple processes. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [3, 2]</span>
<span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [5, 6, 9]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">bias</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">bias</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>

<span class="c1"># returns [[1, 2, 3], [1, 2, 3]], demonstrating outside vars work</span>
<span class="n">someList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">someList</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Internally, this will continuously spawn new jobs up until 80% of all CPU
cores are utilized. On posix systems, the default multiprocessing start method is
<code class="docutils literal notranslate"><span class="pre">fork()</span></code>. This sort of means that all the variables in memory will be copied
over. This might be expensive (might also not, with copy-on-write), so you might
have to think about that. On windows and macos, the default start method is
<code class="docutils literal notranslate"><span class="pre">spawn</span></code>, meaning each child process is a completely new interpreter, so you have
to pass in all required variables and reimport every dependencies. Read more at
<a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#contexts-and-start-methods">https://docs.python.org/3/library/multiprocessing.html#contexts-and-start-methods</a></p>
<p>If you don’t wish to schedule all jobs at once, you can specify a <code class="docutils literal notranslate"><span class="pre">prefetch</span></code>
amount, and it will only schedule that much jobs ahead of time. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>    <span class="o">|</span> <span class="n">head</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># 700ms</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">head</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># 300ms</span>

<span class="c1"># demonstrating there&#39;re no huge penalties even if we want all results at the same time</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>    <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># 900ms</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># 1000ms</span>
</pre></div>
</div>
<p>The first line will schedule all jobs at once, and thus will require more RAM and
compute power, even though we discard most of the results anyway (the
<a class="reference internal" href="#k1lib.cli.filt.head" title="k1lib.cli.filt.head"><code class="xref py py-class docutils literal notranslate"><span class="pre">head</span></code></a> cli). The second line only schedules 5 jobs ahead of
time, and thus will be extremely more efficient if you don’t need all results right
away.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember that every <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCli</span></code></a> is also a
function, meaning that you can do stuff like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[&#39;ab&#39;, &#39;ac&#39;]]</span>
<span class="p">[[</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;cd&quot;</span><span class="p">,</span> <span class="s2">&quot;ac&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Also remember that the return result of <code class="docutils literal notranslate"><span class="pre">f</span></code> should not be a generator.
That’s why in the example above, there’s a <code class="docutils literal notranslate"><span class="pre">deref()</span></code> inside f.</p>
</div>
<p>Most of the time, you would probably want to specify <code class="docutils literal notranslate"><span class="pre">bs</span></code> to something bigger than 1
(may be 32 or sth like that). This will executes <code class="docutils literal notranslate"><span class="pre">f</span></code> multiple times in a single job,
instead of executing <code class="docutils literal notranslate"><span class="pre">f</span></code> only once per job. Should reduce overhead of process
creation dramatically.</p>
<p>If you encounter strange errors not seen on <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a>, you can try to clear all
pools (using <a class="reference internal" href="#k1lib.cli.modifier.applyMp.clearPools" title="k1lib.cli.modifier.applyMp.clearPools"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clearPools()</span></code></a>), to terminate all child processes and thus free
resources. On earlier versions, you have to do this manually before exiting, but now
<a class="reference internal" href="#k1lib.cli.modifier.applyMp" title="k1lib.cli.modifier.applyMp"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyMp</span></code></a> is much more robust.</p>
<p>Also, you should not immediately assume that <a class="reference internal" href="#k1lib.cli.modifier.applyMp" title="k1lib.cli.modifier.applyMp"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyMp</span></code></a> will always be faster
than <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a>. Remember that <a class="reference internal" href="#k1lib.cli.modifier.applyMp" title="k1lib.cli.modifier.applyMp"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyMp</span></code></a> will create new processes,
serialize and transfer data to them, execute it, then transfer data back. If your code
transfers a lot of data back and forth (compared to the amount of computation done), or
the child processes don’t have a lot of stuff to do before returning, it may very well
be a lot slower than <a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch</strong> – if not specified, schedules all jobs at the same time. If
specified, schedules jobs so that there’ll only be a specified amount of
jobs, and will only schedule more if results are actually being used.</p></li>
<li><p><strong>timeout</strong> – seconds to wait for job before raising an error</p></li>
<li><p><strong>utilization</strong> – how many percent cores are we running? 0 for no cores, 1 for
all the cores. Defaulted to 0.8</p></li>
<li><p><strong>bs</strong> – if specified, groups <code class="docutils literal notranslate"><span class="pre">bs</span></code> number of transforms into 1 job to be more
efficient.</p></li>
<li><p><strong>kwargs</strong> – extra arguments to be passed to the function. <code class="docutils literal notranslate"><span class="pre">args</span></code> not
included as there’re a couple of options you can pass for this cli.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.applyMp.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyMp.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyMp.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.applyMp.clearPools">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">clearPools</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyMp.clearPools"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyMp.clearPools" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate all existing pools. Do this before restarting/quitting the
script/notebook to make sure all resources (like GPU) are freed. <strong>Update</strong>:
you probably won’t have to call this manually anymore since version 0.9, but
if you run into problems, try doing this.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.applyMp.pools">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">pools</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyMp.pools"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyMp.pools" title="Permalink to this definition">¶</a></dt>
<dd><p>Get set of all pools. Meant for debugging purposes only.</p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="k1lib.cli.modifier.parallel">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">parallel</span></code><a class="headerlink" href="#k1lib.cli.modifier.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#k1lib.cli.modifier.applyMp" title="k1lib.cli.modifier.applyMp"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.modifier.applyMp</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.applyTh">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">applyTh</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyTh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyTh" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.applyTh.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyTh.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyTh.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Kinda like the same as <a class="reference internal" href="#k1lib.cli.modifier.applyMp" title="k1lib.cli.modifier.applyMp"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyMp</span></code></a>, but executes <code class="docutils literal notranslate"><span class="pre">f</span></code> on multiple
threads, instead of on multiple processes. Advantages:</p>
<ul class="simple">
<li><p>Relatively low overhead for thread creation</p></li>
<li><p>Fast, if <code class="docutils literal notranslate"><span class="pre">f</span></code> is io-bound</p></li>
<li><p>Does not have to serialize and deserialize the result, meaning iterators can be
exchanged</p></li>
</ul>
<p>Disadvantages:</p>
<ul class="simple">
<li><p>Still has thread creation overhead, so it’s still recommended to specify <code class="docutils literal notranslate"><span class="pre">bs</span></code></p></li>
<li><p>Is slow if <code class="docutils literal notranslate"><span class="pre">f</span></code> has to obtain the GIL to be able to do anything</p></li>
</ul>
<p>All examples from <a class="reference internal" href="#k1lib.cli.modifier.applyMp" title="k1lib.cli.modifier.applyMp"><code class="xref py py-class docutils literal notranslate"><span class="pre">applyMp</span></code></a> should work perfectly here.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.applyTh.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applyTh.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applyTh.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.applySerial">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">applySerial</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includeFirst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applySerial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applySerial" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.applySerial.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includeFirst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applySerial.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applySerial.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a function repeatedly. First yields input iterator <code class="docutils literal notranslate"><span class="pre">x</span></code>. Then
yields <code class="docutils literal notranslate"><span class="pre">f(x)</span></code>, then <code class="docutils literal notranslate"><span class="pre">f(f(x))</span></code>, then <code class="docutils literal notranslate"><span class="pre">f(f(f(x)))</span></code> and so on. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [4, 8, 16, 32, 64]</span>
<span class="mi">2</span> <span class="o">|</span> <span class="n">applySerial</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>If the result of your operation is an iterator, you might want to
<a class="reference internal" href="#k1lib.cli.utils.deref" title="k1lib.cli.utils.deref"><code class="xref py py-class docutils literal notranslate"><span class="pre">deref</span></code></a> it, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rs</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span> <span class="o">|</span> <span class="n">applySerial</span><span class="p">(</span><span class="n">rows</span><span class="p">()[::</span><span class="mi">2</span><span class="p">])</span>
<span class="c1"># returns [0, 2, 4, 6]</span>
<span class="nb">next</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns []. This is because all the elements are taken by the previous deref()</span>
<span class="nb">next</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[10, -6], [4, 16], [20, -12]]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="o">|</span> <span class="n">applySerial</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">),</span> <span class="n">unpack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>

<span class="n">rs</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span> <span class="o">|</span> <span class="n">applySerial</span><span class="p">(</span><span class="n">rows</span><span class="p">()[::</span><span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span>
<span class="c1"># returns [0, 2, 4, 6]</span>
<span class="nb">next</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span>
<span class="c1"># returns [0, 4]</span>
<span class="nb">next</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span>
<span class="c1"># returns [0]</span>
<span class="nb">next</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – function to apply repeatedly</p></li>
<li><p><strong>includeFirst</strong> – whether to include the raw input value or not</p></li>
<li><p><strong>unpack</strong> – whether to unpack values into the function or not for
aesthetic purposes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.applySerial.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#applySerial.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.applySerial.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.toFloat">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">toFloat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#toFloat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.toFloat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.toFloat.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#toFloat.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.toFloat.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts every row into a float. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [1, 3, -2.3]</span>
<span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;-2.3&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">toFloat</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[1.0, &#39;a&#39;], [2.3, &#39;b&#39;], [8.0, &#39;c&#39;]]</span>
<span class="p">[[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;2.3&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="n">toFloat</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>With weird rows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1.0, &#39;a&#39;], [8.0, &#39;c&#39;]]</span>
<span class="p">[[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="n">toFloat</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[1.0, &#39;a&#39;], [0.0, &#39;b&#39;], [8.0, &#39;c&#39;]]</span>
<span class="p">[[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="n">toFloat</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>This also works well with <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> and <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>,
as they will not be broken up into an iterator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns a numpy array, instead of an iterator</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="o">|</span> <span class="n">toFloat</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> – if nothing, then will convert each row. If available, then
convert all the specified columns</p></li>
<li><p><strong>mode</strong> – different conversion styles
- 0: simple <code class="docutils literal notranslate"><span class="pre">float()</span></code> function, fastest, but will throw errors if it can’t be parsed
- 1: if there are errors, then replace it with zero
- 2: if there are errors, then eliminate the row</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.toFloat.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#toFloat.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.toFloat.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.toInt">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">toInt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#toInt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.toInt" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.toInt.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#toInt.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.toInt.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts every row into an integer. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [1, 3, -2]</span>
<span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;-2.3&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">toInt</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> – if nothing, then will convert each row. If available, then
convert all the specified columns</p></li>
<li><p><strong>mode</strong> – different conversion styles
- 0: simple <code class="docutils literal notranslate"><span class="pre">float()</span></code> function, fastest, but will throw errors if it can’t be parsed
- 1: if there are errors, then replace it with zero
- 2: if there are errors, then eliminate the row</p></li>
</ul>
</dd>
</dl>
<p>See also: <a class="reference internal" href="#k1lib.cli.modifier.toFloat" title="k1lib.cli.modifier.toFloat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toFloat()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.toInt.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#toInt.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.toInt.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.sort">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">sort</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.sort.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#sort.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.sort.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts all lines based on a specific <cite>column</cite>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[5, &#39;a&#39;], [1, &#39;b&#39;]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="o">~</span><span class="n">sort</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[2, 3]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span> <span class="o">|</span> <span class="o">~</span><span class="n">sort</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># errors out, as you can&#39;t really compare str with int</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="n">sort</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [-1, 2, 3, 5, 8]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="o">|</span> <span class="n">sort</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> – if None, sort rows based on themselves and not an element</p></li>
<li><p><strong>numeric</strong> – whether to convert column to float</p></li>
<li><p><strong>reverse</strong> – False for smaller to bigger, True for bigger to smaller. Use
<a class="reference internal" href="#k1lib.cli.modifier.sort.__invert__" title="k1lib.cli.modifier.sort.__invert__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__invert__()</span></code></a> to quickly reverse the order instead of using this param</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.sort.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#sort.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.sort.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.sort.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#sort.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.sort.__invert__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a clone that has the opposite sort order</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.sortF">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">sortF</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#sortF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.sortF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.sortF.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#sortF.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.sortF.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts rows using a function.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;a&#39;, &#39;aa&#39;, &#39;aaa&#39;, &#39;aaaa&#39;, &#39;aaaaa&#39;]</span>
<span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;aaa&quot;</span><span class="p">,</span> <span class="s2">&quot;aaaaa&quot;</span><span class="p">,</span> <span class="s2">&quot;aa&quot;</span><span class="p">,</span> <span class="s2">&quot;aaaa&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">sortF</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [&#39;aaaaa&#39;, &#39;aaaa&#39;, &#39;aaa&#39;, &#39;aa&#39;, &#39;a&#39;]</span>
<span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;aaa&quot;</span><span class="p">,</span> <span class="s2">&quot;aaaaa&quot;</span><span class="p">,</span> <span class="s2">&quot;aa&quot;</span><span class="p">,</span> <span class="s2">&quot;aaaa&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="o">~</span><span class="n">sortF</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.sortF.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#sortF.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.sortF.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.sortF.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.modifier.sortF" title="k1lib.cli.modifier.sortF"><span class="pre">k1lib.cli.modifier.sortF</span></a><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#sortF.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.sortF.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.consume">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">consume</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#consume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.consume" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.consume.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#consume.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.consume.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes the iterator in a side stream. Returns the iterator.
Kinda like the bash command <code class="docutils literal notranslate"><span class="pre">tee</span></code>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints &quot;0\n1\n2&quot; and returns [0, 1, 2]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">consume</span><span class="p">(</span><span class="n">headOut</span><span class="p">())</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
<span class="c1"># prints &quot;range(0, 3)&quot; and returns [0, 1, 2]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">consume</span><span class="p">(</span><span class="k">lambda</span> <span class="n">it</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">it</span><span class="p">))</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
</pre></div>
</div>
<p>This is useful whenever you want to mutate something, but don’t want to
include the function result into the main stream.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.consume.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">T</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#consume.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.consume.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.randomize">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">randomize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#randomize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.randomize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.randomize.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#randomize.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.randomize.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomize input stream. In order to be efficient, this does not
convert the input iterator to a giant list and yield random values from that.
Instead, this fetches <code class="docutils literal notranslate"><span class="pre">bs</span></code> items at a time, randomizes them, returns and
fetch another <code class="docutils literal notranslate"><span class="pre">bs</span></code> items. If you want to do the giant list, then just pass
in <code class="docutils literal notranslate"><span class="pre">float(&quot;inf&quot;)</span></code>, or <code class="docutils literal notranslate"><span class="pre">None</span></code>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [0, 1, 2, 3, 4], effectively no randomize at all</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">randomize</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns something like this: [1, 0, 2, 3, 5, 4, 6, 8, 7, 9]. You can clearly see the batches</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">randomize</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns something like this: [7, 0, 5, 2, 4, 9, 6, 3, 1, 8]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">randomize</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># same as above</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">randomize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns True, as the seed is the same</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">randomize</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="o">==</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">randomize</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.randomize.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#randomize.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.randomize.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.stagger">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">stagger</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">every</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#stagger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.stagger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.stagger.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">every</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#stagger.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.stagger.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Staggers input stream into multiple stream “windows” placed serially. Best
explained with an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">stagger</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [0, 1, 2], 1st &quot;window&quot;</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [3, 4, 5], 2nd &quot;window&quot;</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [6, 7, 8]</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns [9]</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="c1"># returns []</span>
</pre></div>
</div>
<p>This might be useful when you’re constructing a data loader:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">)]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()</span>
<span class="n">dl</span> <span class="o">=</span> <span class="n">dataset</span> <span class="o">|</span> <span class="n">batched</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">transpose</span><span class="p">()</span> <span class="o">|</span> <span class="n">toTensor</span><span class="p">())</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">stagger</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="k">for</span> <span class="n">epoch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="ow">in</span> <span class="n">dl</span><span class="p">:</span> <span class="c1"># looping over a window</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">epoch</span><span class="p">)</span>
        <span class="c1"># then something like: model(xb)</span>
</pre></div>
</div>
<p>The above code will print 6 lines. 4 of them is “0” (because we stagger every 4
batches), and xb’s shape’ will be (3,) (because we batched every 3 samples).</p>
<p>You should also keep in mind that this doesn’t really change the property of the
stream itself. Essentially, treat these pairs of statement as being the same thing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># both returns 11</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">stagger</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">item</span><span class="p">()</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">item</span><span class="p">()</span>

<span class="c1"># both returns [11, 12, ..., 20]</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="n">o</span> <span class="o">|</span> <span class="n">stagger</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Lastly, multiple iterators might be getting values from the same stream window,
meaning:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">|</span> <span class="n">stagger</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">it1</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">);</span> <span class="n">it2</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="nb">next</span><span class="p">(</span><span class="n">it1</span><span class="p">)</span> <span class="c1"># returns 11</span>
<span class="nb">next</span><span class="p">(</span><span class="n">it2</span><span class="p">)</span> <span class="c1"># returns 12</span>
</pre></div>
</div>
<p>This may or may not be desirable. Also this should be obvious, but I want to
mention this in case it’s not clear to you.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.stagger.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib.cli.modifier.StaggeredStream</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#stagger.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.stagger.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.stagger.tv">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">tv</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">every</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.8</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#stagger.tv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.stagger.tv" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method to quickly stagger train and valid datasets.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[16], [4]]</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span><span class="o">*</span><span class="mi">2</span> <span class="o">|</span> <span class="n">stagger</span><span class="o">.</span><span class="n">tv</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.op">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">op</span></code><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#op"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.op" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib._baseClasses.Absorber</span></code>, <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.op.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#op.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.op.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Absorbs operations done on it and applies it on the stream. Based
on <a class="reference internal" href="../base.html#k1lib.Absorber" title="k1lib.Absorber"><code class="xref py py-class docutils literal notranslate"><span class="pre">Absorber</span></code></a>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">]])</span>
<span class="c1"># returns [torch.tensor([[4., 5., 6., 7., 8., 9.]])]</span>
<span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">|</span> <span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Basically, you can treat <code class="docutils literal notranslate"><span class="pre">op()</span></code> as the input tensor. Tbh, you
can do the same thing with this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">|</span> <span class="n">applyS</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="p">(</span><span class="n">t</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>But that’s kinda long and may not be obvious. This can be surprisingly resilient, as
you can still combine with other cli tools as usual, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [2, 3], demonstrating &quot;&amp;&quot; operator</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span> <span class="o">&amp;</span> <span class="n">iden</span><span class="p">())</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span> <span class="o">|</span> <span class="n">item</span><span class="p">()</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="c1"># returns torch.tensor([4, 5, 6]), demonstrating &quot;+&quot; operator for clis and not clis</span>
<span class="p">(</span><span class="n">a</span> <span class="o">|</span> <span class="n">op</span><span class="p">()</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">iden</span><span class="p">()</span> <span class="o">|</span> <span class="n">item</span><span class="p">()</span> <span class="o">==</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

<span class="c1"># returns [[3], [3]], demonstrating .all() and &quot;|&quot; serial chaining</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span>

<span class="c1"># returns [[8, 18], [9, 19]], demonstrating you can treat `op()` as a regular function</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()</span> <span class="o">|</span> <span class="n">filt</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>This can only deal with simple operations only. For complex operations, resort
to the longer version <code class="docutils literal notranslate"><span class="pre">applyS(lambda</span> <span class="pre">x:</span> <span class="pre">...)</span></code> instead!</p>
<p>Performance-wise, there are some, but not a lot of degradation, so don’t worry
about it. Simple operations executes pretty much on par with native lambdas:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">10_000_000</span>
<span class="c1"># takes 1.48s</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">i</span><span class="o">**</span><span class="mi">2</span>
<span class="c1"># takes 1.89s, 1.28x worse than for loop</span>
<span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">ignore</span><span class="p">()</span>
<span class="c1"># takes 1.86s, 1.26x worse than for loop</span>
<span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">ignore</span><span class="p">()</span>
<span class="c1"># takes 1.86s</span>
<span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">ignore</span><span class="p">()</span>
</pre></div>
</div>
<p>More complex operations can take more of a hit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># takes 1.66s</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">i</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span>
<span class="c1"># takes 2.02s, 1.22x worse than for loop</span>
<span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">ignore</span><span class="p">()</span>
<span class="c1"># takes 2.81s, 1.69x worse than for loop</span>
<span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">ignore</span><span class="p">()</span>
</pre></div>
</div>
<p>Experimental features:</p>
<blockquote>
<div><p># returns [2, 3, 4]
range(10) | filt(op() in range(2, 5)) | deref()
# returns [0, 1, 5, 6, 7, 8, 9]
range(10) | ~filt(op() in range(2, 5)) | deref()
# will not work, so if your set potentially does not have any element, then don’t use op()
range(10) | filt(op() in []) | deref()</p>
</div></blockquote>
<p>Reserved operations that are not absorbed are:</p>
<ul class="simple">
<li><p>all</p></li>
<li><p>__ror__ (__or__ still works!)</p></li>
<li><p>op_solidify</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.op.op_solidify">
<code class="sig-name descname"><span class="pre">op_solidify</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#op.op_solidify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.op.op_solidify" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this to not absorb <code class="docutils literal notranslate"><span class="pre">__call__</span></code> operations anymore and makes it
feel like a regular function (still absorbs other operations though):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span>
<span class="mi">3</span> <span class="o">|</span> <span class="n">f</span> <span class="c1"># returns 9, but may be you don&#39;t want to pipe it in</span>
<span class="n">f</span><span class="o">.</span><span class="n">op_solidify</span><span class="p">()</span>
<span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># returns 9</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.op.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#op.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.op.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.modifier.integrate">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.modifier.</span></code><code class="sig-name descname"><span class="pre">integrate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#integrate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.modifier.integrate.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#integrate.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.integrate.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrates the input.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [0, 1, 3, 6, 10, 15, 21, 28, 36, 45]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">integrate</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [0, 2, 6, 12, 20, 30, 42, 56, 72, 90]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">integrate</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dt</strong> – Optional small step</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.modifier.integrate.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/modifier.html#integrate.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.modifier.integrate.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.nb">
<span id="nb-module"></span><h2>nb module<a class="headerlink" href="#module-k1lib.cli.nb" title="Permalink to this headline">¶</a></h2>
<p>This is for everything related to ipython notebooks. Expected to use behind the
“nb” module name, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">k1lib.imports</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">nb</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;file.ipynb&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py function">
<dt id="k1lib.cli.nb.cells">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.nb.</span></code><code class="sig-name descname"><span class="pre">cells</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/nb.html#cells"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.nb.cells" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets simplified notebook cells from file source, including fields
<code class="docutils literal notranslate"><span class="pre">cell_type</span></code> and <code class="docutils literal notranslate"><span class="pre">source</span></code> only. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nb</span><span class="o">.</span><span class="n">cells</span><span class="p">(</span><span class="s2">&quot;file.ipynb&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.nb.pretty">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.nb.</span></code><code class="sig-name descname"><span class="pre">pretty</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">magics</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whitelist</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/nb.html#pretty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.nb.pretty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.nb.pretty.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">magics</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whitelist</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/nb.html#pretty.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.nb.pretty.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes the cells prettier.
Cell 1 in file.ipynb:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#notest, export</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
</div>
<p>Cell 2 in file.ipynb:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="mi">6</span>
</pre></div>
</div>
<p>Code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># only cell 2 gets chosen</span>
<span class="n">nb</span><span class="o">.</span><span class="n">cells</span><span class="p">(</span><span class="s2">&quot;file.ipynb&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">nb</span><span class="o">.</span><span class="n">pretty</span><span class="p">(</span><span class="n">blacklist</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;notest&quot;</span><span class="p">])</span>
<span class="c1"># only cell 1 gets chosen</span>
<span class="n">nb</span><span class="o">.</span><span class="n">cells</span><span class="p">(</span><span class="s2">&quot;file.ipynb&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">nb</span><span class="o">.</span><span class="n">pretty</span><span class="p">(</span><span class="n">whitelist</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;export&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>magics</strong> – if False, then if detected magics (‘!’, ‘%%’ symbols), then remove that
line in cell’s source</p></li>
<li><p><strong>whitelist</strong> – every cell that doesn’t have any of these properties will be
filtered out</p></li>
<li><p><strong>blacklist</strong> – every cell that has any of these properties will be filtered out</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.nb.pretty.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cells</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/nb.html#pretty.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.nb.pretty.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.nb.execute">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.nb.</span></code><code class="sig-name descname"><span class="pre">execute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_globals</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/nb.html#execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.nb.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.nb.execute.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_globals</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/nb.html#execute.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.nb.execute.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes cells.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nb</span><span class="o">.</span><span class="n">cells</span><span class="p">(</span><span class="s2">&quot;file.ipynb&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">nb</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;nb.ipynb&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Most of the time, you’d want to pass cells through <a class="reference internal" href="#k1lib.cli.nb.pretty" title="k1lib.cli.nb.pretty"><code class="xref py py-class docutils literal notranslate"><span class="pre">pretty</span></code></a> first, to make sure
everything is nice and clean</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileName</strong> – not actually used to read the file. If specified, then changes the
current working directory to that of the file</p></li>
<li><p><strong>_globals</strong> – optional dict of global variables</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.nb.execute.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cells</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/nb.html#execute.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.nb.execute.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.output">
<span id="output-module"></span><h2>output module<a class="headerlink" href="#module-k1lib.cli.output" title="Permalink to this headline">¶</a></h2>
<p>For operations that feel like the termination</p>
<dl class="py class">
<dt id="k1lib.cli.output.stdout">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.output.</span></code><code class="sig-name descname"><span class="pre">stdout</span></code><a class="reference internal" href="../_modules/k1lib/cli/output.html#stdout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.stdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.output.stdout.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#stdout.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.stdout.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out all lines. If not iterable, then print out the input
raw. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out &quot;0\n1\n2&quot;</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">stdout</span><span class="p">()</span>
<span class="c1"># same as above, but (maybe?) more familiar</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">stdout</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.stdout.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#stdout.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.stdout.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.output.tee">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.output.</span></code><code class="sig-name descname"><span class="pre">tee</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f=&lt;function</span> <span class="pre">tee.&lt;lambda&gt;&gt;</span></em>, <em class="sig-param"><span class="pre">s=None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#tee"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.tee" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.output.tee.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f=&lt;function</span> <span class="pre">tee.&lt;lambda&gt;&gt;</span></em>, <em class="sig-param"><span class="pre">s=None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#tee.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.tee.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Like the Linux <code class="docutils literal notranslate"><span class="pre">tee</span></code> command, this prints the elements to another
specified stream, while yielding the elements. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints &quot;0\n1\n2\n3\n4\n&quot; and returns [0, 1, 4, 9, 16]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">tee</span><span class="p">()</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – element transform function. Defaults to just adding a new
line at the end</p></li>
<li><p><strong>s</strong> – stream to write to. Defaults to <code class="xref py py-attr docutils literal notranslate"><span class="pre">sys.stdout</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.tee.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#tee.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.tee.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.tee.cr">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">cr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f=&lt;function</span> <span class="pre">tee.&lt;lambda&gt;&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#tee.cr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.tee.cr" title="Permalink to this definition">¶</a></dt>
<dd><p>Tee, but replaces the previous line. “cr” stands for carriage return.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints &quot;4&quot; and returns [0, 1, 4, 9, 16]. Does print all the numbers in the middle, but is overriden</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">tee</span><span class="o">.</span><span class="n">cr</span><span class="p">()</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.tee.crt">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">crt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f=&lt;function</span> <span class="pre">tee.&lt;lambda&gt;&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#tee.crt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.tee.crt" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#k1lib.cli.output.tee.cr" title="k1lib.cli.output.tee.cr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tee.cr()</span></code></a>, but includes an elapsed time text at the end</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.output.file">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.output.</span></code><code class="sig-name descname"><span class="pre">file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.output.file.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#file.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.file.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a new file for writing.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># writes &quot;0\n1\n2\n&quot; to file</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;test/f.txt&quot;</span><span class="p">)</span>
<span class="c1"># same as above, but (maybe?) more familiar</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;text/f.txt&quot;</span><span class="p">)</span>
<span class="c1"># returns [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;]</span>
<span class="n">cat</span><span class="p">(</span><span class="s2">&quot;folder/f.txt&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>

<span class="c1"># writes bytes to file</span>
<span class="sa">b</span><span class="s1">&#39;5643&#39;</span> <span class="o">|</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;test/a.bin&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="c1"># returns [&#39;5643&#39;]</span>
<span class="n">cat</span><span class="p">(</span><span class="s2">&quot;test/a.bin&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>You can create temporary files on the fly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># creates temporary file</span>
<span class="n">url</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">file</span><span class="p">()</span>
<span class="c1"># returns [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;]</span>
<span class="n">cat</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>This can be especially useful when integrating with shell scripts that wants to
read in a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">seq1</span> <span class="o">=</span> <span class="s2">&quot;CCAAACCCCCCCTCCCCCGCTTC&quot;</span>
<span class="n">seq2</span> <span class="o">=</span> <span class="s2">&quot;CCAAACCCCCCCCTCCCCCCGCTTC&quot;</span>
<span class="c1"># use &quot;needle&quot; program to locally align 2 sequences</span>
<span class="kc">None</span> <span class="o">|</span> <span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;needle </span><span class="si">{</span><span class="p">[</span><span class="n">seq1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">file</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="p">[</span><span class="n">seq2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">file</span><span class="p">()</span><span class="si">}</span><span class="s2"> -filter&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also append to file with the “&gt;&gt;” operator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">file</span><span class="p">()</span>
<span class="c1"># appended to file</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">file</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="c1"># returns [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;10&#39;, &#39;11&#39;, &#39;12&#39;]</span>
<span class="n">cat</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileName</strong> – if not specified, create new temporary file and returns the url
when pipes into it</p></li>
<li><p><strong>text</strong> – if True, accepts Iterator[str], and prints out each string on a
new line. Else accepts bytes and write in 1 go.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.file.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><a class="reference internal" href="../_modules/k1lib/cli/output.html#file.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.file.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.file.name">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#k1lib.cli.output.file.name" title="Permalink to this definition">¶</a></dt>
<dd><p>File name of this <a class="reference internal" href="#k1lib.cli.output.file" title="k1lib.cli.output.file"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.output.pretty">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.output.</span></code><code class="sig-name descname"><span class="pre">pretty</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#pretty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.pretty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.output.pretty.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#pretty.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.pretty.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty prints a table. Not really used directly.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># These 2 statements are pretty much the same</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">pretty</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">stdout</span><span class="p">()</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span> <span class="o">|</span> <span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.pretty.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/output.html#pretty.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.pretty.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.output.display">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.output.</span></code><code class="sig-name descname"><span class="pre">display</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#display"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for displaying a table</p>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.output.headOut">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.output.</span></code><code class="sig-name descname"><span class="pre">headOut</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#headOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.headOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for head() | stdout()</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.output.intercept">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.output.</span></code><code class="sig-name descname"><span class="pre">intercept</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raiseError</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#intercept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.intercept" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.output.intercept.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raiseError</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#intercept.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.intercept.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Intercept flow at a particular point, analyze the object piped in, and
raises error to stop flow. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="o">|</span> <span class="n">intercept</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>raiseError</strong> – whether to raise error when executed or not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.intercept.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#intercept.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.intercept.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.output.split">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.output.</span></code><code class="sig-name descname"><span class="pre">split</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseFolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/tmp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.output.split.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseFolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/tmp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#split.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.split.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a large file into multiple fragments, and returns the
path to those files. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns a list of 20 files</span>
<span class="s2">&quot;big-file.csv&quot;</span> <span class="o">|</span> <span class="n">split</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>This uses the underlying <code class="docutils literal notranslate"><span class="pre">split</span></code> linux cli tool. This also means that
it’s not guaranteed to work on macos or windows.</p>
<p>Overtime, there will be lots of split files after a session, so be sure
to clean them up to reduce disk size:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">split</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – Number of files to split into</p></li>
<li><p><strong>baseFolder</strong> – Base folder where all the splitted files are</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.split.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#split.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.split.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.output.split.clear">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">clear</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baseFolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/tmp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/output.html#split.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.output.split.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears all splitted temporary files.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.sam">
<span id="sam-module"></span><h2>sam module<a class="headerlink" href="#module-k1lib.cli.sam" title="Permalink to this headline">¶</a></h2>
<p>This is for functions that are .sam or .bam related</p>
<dl class="py function">
<dt id="k1lib.cli.sam.cat">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.sam.</span></code><code class="sig-name descname"><span class="pre">cat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bamFile</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/sam.html#cat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.sam.cat" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sam file outputs from bam file.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sam</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="s2">&quot;file.bam&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">display</span><span class="p">()</span>
<span class="s2">&quot;file.bam&quot;</span> <span class="o">|</span> <span class="n">sam</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>header</strong> – whether to include headers or not</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.sam.header">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.sam.</span></code><code class="sig-name descname"><span class="pre">header</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">long</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/sam.html#header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.sam.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.sam.header.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">long</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/sam.html#header.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.sam.header.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a header to the table.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sam</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="s2">&quot;file.bam&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">sam</span><span class="o">.</span><span class="n">header</span><span class="p">()</span> <span class="o">|</span> <span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>You can change the header labels like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">sam</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">long</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Query template name&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>long</strong> – whether to use a long descriptive header, or a short one</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.sam.header.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/sam.html#header.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.sam.header.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.sam.flag">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.sam.</span></code><code class="sig-name descname"><span class="pre">flag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/sam.html#flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.sam.flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.utils.bindec" title="k1lib.cli.utils.bindec"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.utils.bindec</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.sam.flag.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/sam.html#flag.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.sam.flag.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes flags attribute.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;PAIRED&#39;, &#39;UNMAP&#39;]</span>
<span class="mi">5</span> <span class="o">|</span> <span class="n">flag</span><span class="p">()</span>
<span class="c1"># returns &#39;PAIRED, UNMAP&#39;</span>
<span class="mi">5</span> <span class="o">|</span> <span class="n">flag</span><span class="p">(</span><span class="n">cli</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>You’ll mostly use this in this format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sam</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="s2">&quot;file.bam&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">sam</span><span class="o">.</span><span class="n">flag</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>You can change the flag labels like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">sam</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;paired&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> – transform function fed into <a class="reference internal" href="#k1lib.cli.utils.bindec" title="k1lib.cli.utils.bindec"><code class="xref py py-class docutils literal notranslate"><span class="pre">bindec</span></code></a>, defaulted
to <cite>join(“, “)</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.structural">
<span id="structural-module"></span><h2>structural module<a class="headerlink" href="#module-k1lib.cli.structural" title="Permalink to this headline">¶</a></h2>
<p>This is for functions that sort of changes the table
structure in a dramatic way. They’re the core transformations</p>
<dl class="py attribute">
<dt id="k1lib.cli.structural.yieldSentinel">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">yieldSentinel</span></code><a class="headerlink" href="#k1lib.cli.structural.yieldSentinel" title="Permalink to this definition">¶</a></dt>
<dd><p>Object that can be yielded in a stream to ignore this stream for the moment in
<a class="reference internal" href="#k1lib.cli.structural.joinStreamsRandom" title="k1lib.cli.structural.joinStreamsRandom"><code class="xref py py-class docutils literal notranslate"><span class="pre">joinStreamsRandom</span></code></a>. It will also stops <a class="reference internal" href="#k1lib.cli.utils.deref" title="k1lib.cli.utils.deref"><code class="xref py py-class docutils literal notranslate"><span class="pre">deref</span></code></a>
early.</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.joinStreamsRandom">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">joinStreamsRandom</span></code><a class="reference internal" href="../_modules/k1lib/cli/structural.html#joinStreamsRandom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.joinStreamsRandom" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="k1lib.cli.structural.joinStreamsRandom.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#joinStreamsRandom.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.joinStreamsRandom.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Join multiple streams randomly. If any streams runs out, then quits. If
any stream yields <a class="reference internal" href="#k1lib.cli.structural.yieldSentinel" title="k1lib.cli.structural.yieldSentinel"><code class="xref py py-data docutils literal notranslate"><span class="pre">yieldSentinel</span></code></a>, then just ignores that result and
continue. Could be useful in active learning. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># could return [0, 1, 10, 2, 11, 12, 13, ...], with max length 20, typical length 18</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)]</span> <span class="o">|</span> <span class="n">joinStreamsRandom</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>

<span class="n">stream2</span> <span class="o">=</span> <span class="p">[[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">yieldSentinel</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">yieldSentinel</span> <span class="o">|</span> <span class="n">repeat</span><span class="p">()]</span> <span class="o">|</span> <span class="n">joinStreams</span><span class="p">()</span>
<span class="c1"># could return [-5, -4, 0, -3, 1, 2, 3, 4, 5, 6], demonstrating yieldSentinel</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">stream2</span><span class="p">]</span> <span class="o">|</span> <span class="n">joinStreamsRandom</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.joinStreamsRandom.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streams</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#joinStreamsRandom.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.joinStreamsRandom.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.transpose">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">transpose</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.transpose.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#transpose.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.transpose.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Join multiple columns and loop through all rows. Aka transpose.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, 4], [2, 5], [3, 6]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[1, 4], [2, 5], [3, 6], [0, 7]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Multidimensional transpose works just like <code class="xref py py-meth docutils literal notranslate"><span class="pre">torch.transpose()</span></code> too:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns (2, 7, 5, 3), but detected Tensor, so it will use builtin :meth:`torch.transpose`</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># also returns (2, 7, 5, 3), but actually does every required computation. Can be slow if shape is huge</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">(</span><span class="n">igT</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
<p>Can also work with numpy arrays (although has to be passed in like a function and can’t be piped in):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns (5, 3, 2)</span>
<span class="n">transpose</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<p>Be careful with infinite streams, as transposing stream of shape (inf, 5) will
hang this operation! Either don’t do it, or temporarily limit all infinite streams like
this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">settings</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">inf</span><span class="o">=</span><span class="mi">21</span><span class="p">):</span>
    <span class="c1"># returns (3, 21)</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">repeat</span><span class="p">()</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
<p>Also be careful with empty streams, as you might not get any results at all:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [], as the last stream has no elements</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[]]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[1, 3, 0], [2, 4, 0]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[]]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fill</strong> – if not None, then will try to zip longest with this fill value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.transpose.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">k1lib.cli.init.Table</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#transpose.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.transpose.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.transpose.fill">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fill</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#transpose.fill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.transpose.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method to fill in missing elements of a table.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, 2, 3], [4, 5, 0]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span> <span class="o">|</span> <span class="n">transpose</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># also returns [[1, 2, 3], [4, 5, 0]], demonstrating how it works underneath</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.transpose.wrap">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">wrap</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#transpose.wrap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.transpose.wrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps <code class="docutils literal notranslate"><span class="pre">f</span></code> around 2 <a class="reference internal" href="#k1lib.cli.structural.transpose" title="k1lib.cli.structural.transpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">transpose</span></code></a>, can be useful in combination with
<a class="reference internal" href="#k1lib.cli.init.mtmS" title="k1lib.cli.init.mtmS"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.mtmS</span></code></a>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, 4, 3, 4], [8, 81, 10, 11]]</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">)]</span> <span class="o">|</span> <span class="n">transpose</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">mtmS</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># also returns [[1, 4, 3, 4], [8, 81, 10, 11]], demonstrating the typical way to do this</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">)]</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>The example given is sort of to demonstrate this only. Most of the time, just use
<a class="reference internal" href="#k1lib.cli.modifier.apply" title="k1lib.cli.modifier.apply"><code class="xref py py-class docutils literal notranslate"><span class="pre">apply</span></code></a> with columns instead. But sometimes you need direct
access to a column, so this is how you can do it.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.reshape">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">reshape</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dims</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#reshape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.reshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.reshape.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dims</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#reshape.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.reshape.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reshapes the input stream into the desired shape.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[0, 1, 2], [3, 4, 5]]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[0, 1], [2, 3], [4, 5]]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[0, 1], [2, 3], [4, 5]], stopped early</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">|</span> <span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[0, 1, 2], [3, 4, 5]], can leave out first dimension</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[0, 1, 2]], won&#39;t include 2nd element, as it ran out of elements</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># throws error, as it ran out of elements and can&#39;t fulfill the request</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Unlike <code class="xref py py-meth docutils literal notranslate"><span class="pre">torch.reshape()</span></code>, the input piped into this has to be a simple iterator.
If you have a complex data structure with multiple dimensions, turn that into a simple
iterator with <a class="reference internal" href="#k1lib.cli.structural.joinStreams" title="k1lib.cli.structural.joinStreams"><code class="xref py py-class docutils literal notranslate"><span class="pre">joinStreams</span></code></a> first, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[[0, 1, 2]], [[3, 4, 5]]]</span>
<span class="p">[[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">]]]</span> <span class="o">|</span> <span class="n">joinStreams</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.reshape.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#reshape.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.reshape.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.insert">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">insert</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.insert.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insert.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insert.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Join element into list.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [5, 2, 6, 8]</span>
<span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]]</span> <span class="o">|</span> <span class="n">insert</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [5, 2, 6, 8]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="o">|</span> <span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [2, 6, 8, 5]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="o">|</span> <span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">begin</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>

<span class="c1"># returns [[3, 1], 2, 6, 8]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="o">|</span> <span class="n">insert</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[3, 1], 2, 6, 8]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="o">|</span> <span class="o">~</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[3, 1], 2, 6, 8]</span>
<span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]]</span> <span class="o">|</span> <span class="o">~</span><span class="n">insert</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element</strong> – the element to insert. If None, then takes the input [e, […]],
else takes the input […] as usual</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.insert.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">,</span> </span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insert.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insert.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.insert.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insert.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insert.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.splitW">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">splitW</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#splitW"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.splitW" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.splitW.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#splitW.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.splitW.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits elements into multiple weighted lists. If no weights are provided,
then automatically defaults to [0.8, 0.2]. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[0, 1, 2, 3, 4, 5, 6, 7], [8, 9]]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">splitW</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># same as the above</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">splitW</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.splitW.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#splitW.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.splitW.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.joinStreams">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">joinStreams</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#joinStreams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.joinStreams" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.joinStreams.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#joinStreams.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.joinStreams.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins multiple streams.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [1, 2, 3, 4, 5]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span> <span class="o">|</span> <span class="n">joinStreams</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[0, 1], [2], [3, 4, 5], [6, 7, 8], [], [9, 10]]</span>
<span class="p">[[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]]]</span> <span class="o">|</span> <span class="n">joinStreams</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
<span class="p">[[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]]]</span> <span class="o">|</span> <span class="n">joinStreams</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Sometimes, you may want to impose some dimensional structure after joining all streams
together, which <a class="reference internal" href="#k1lib.cli.structural.reshape" title="k1lib.cli.structural.reshape"><code class="xref py py-class docutils literal notranslate"><span class="pre">reshape</span></code></a> does.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.joinStreams.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streams</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#joinStreams.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.joinStreams.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.activeSamples">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">activeSamples</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.95</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#activeSamples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.activeSamples" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.activeSamples.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.95</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#activeSamples.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.activeSamples.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields active learning samples.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">activeSamples</span><span class="p">()</span>
<span class="n">ds</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># normal dataset</span>
<span class="n">ds</span> <span class="o">=</span> <span class="p">[</span><span class="n">o</span><span class="p">,</span> <span class="n">ds</span><span class="p">]</span> <span class="o">|</span> <span class="n">joinStreamsRandom</span><span class="p">()</span> <span class="c1"># dataset with active learning capability</span>
<span class="nb">next</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="c1"># returns 0</span>
<span class="nb">next</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="c1"># returns 1</span>
<span class="nb">next</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="c1"># returns 2</span>
<span class="n">o</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">next</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="c1"># can return     3     or 20</span>
<span class="nb">next</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="c1"># can return (4 or 20) or 4</span>
</pre></div>
</div>
<p>So the point of this is to be a generator of samples. You can define your dataset
as a mix of active learning samples and standard samples. Whenever there’s a data
point that you want to focus on, you can add it to <code class="docutils literal notranslate"><span class="pre">o</span></code> and it will eventially yield
it.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It might not be a good idea to set param <code class="docutils literal notranslate"><span class="pre">limit</span></code> to higher numbers than
100. This is because, the network might still not understand a wrong sample
after being shown multiple times, and will keep adding that wrong sample
back in, distracting it from other samples, and reduce network’s accuracy
after removing active learning from it.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">limit</span></code> is low enough (from my testing, 30-100 should be fine), then
old wrong samples will be kicked out, allowing for a fresh stream of wrong
samples coming in, and preventing the problem above. If you found that
removing active learning makes the accuracy drops dramatically, then try
decreasing the limit.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> – max number of active samples. Discards samples if number of samples
is over this.</p></li>
<li><p><strong>p</strong> – probability of actually adding the samples in</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.activeSamples.append">
<code class="sig-name descname"><span class="pre">append</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#activeSamples.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.activeSamples.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds 1 sample.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.activeSamples.extend">
<code class="sig-name descname"><span class="pre">extend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#activeSamples.extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.activeSamples.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds multiple samples.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.structural.table">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">table</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.table" title="Permalink to this definition">¶</a></dt>
<dd><p>Basically <code class="docutils literal notranslate"><span class="pre">op().split(delim).all()</span></code>. This exists because this is used
quite a lot in bioinformatics. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[&#39;a&#39;, &#39;bd&#39;], [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]]</span>
<span class="p">[</span><span class="s2">&quot;a|bd&quot;</span><span class="p">,</span> <span class="s2">&quot;1|2|3&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.batched">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">batched</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includeLast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#batched"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.batched" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.batched.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includeLast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#batched.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.batched.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Batches the input stream.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[0, 1, 2], [3, 4, 5], [6, 7, 8]]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="n">batched</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10]]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="n">batched</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[0, 1, 2, 3, 4]]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">batched</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span> <span class="kc">True</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns []</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">batched</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Can work well and fast with <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> and <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># both returns torch.Tensor of shape (2, 3, 4, 5)</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">batched</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">batched</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Also, if input is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a>, then to save time, a bunch of other
ranges will be returned, instead of a bunch of lists, for performance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [range(0, 3), range(3, 6), range(6, 9)]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="n">batched</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.batched.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#batched.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.batched.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.window">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">window</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.window" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.window.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#window.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.window.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Slides window of size n forward and yields the windows.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[0, 1, 2], [1, 2, 3], [2, 3, 4]]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">window</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>If you are doing strange transformations to the result, like
transposing it, then it might complain that the internal deque
(double-ended queue) mutated during iteration. In that case,
then set <code class="docutils literal notranslate"><span class="pre">newList</span></code> to True. It’s not True by default because
multiple lists will be created, all of which needs memory
allocation, which will be slower:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># takes 15ms</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span> <span class="o">|</span> <span class="n">window</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">|</span> <span class="n">ignore</span><span class="p">()</span>
<span class="c1"># takes 48ms, because of allocating lists</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span> <span class="o">|</span> <span class="n">window</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">|</span> <span class="n">ignore</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.window.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#window.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.window.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.groupBy">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">groupBy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#groupBy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.groupBy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.groupBy.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#groupBy.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.groupBy.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups table by some column.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">2.3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">3.4</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">4.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">5.6</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">6.7</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">|</span> <span class="n">groupBy</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>This returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[[</span><span class="mf">2.3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
  <span class="p">[</span><span class="mf">5.6</span><span class="p">,</span> <span class="mi">5</span><span class="p">]],</span>
 <span class="p">[[</span><span class="mf">3.4</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
  <span class="p">[</span><span class="mf">4.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
 <span class="p">[[</span><span class="mf">6.7</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">hashable</span></code> param is False, which has O(n^2) time complexity,
but can handle everything. If you benchmark everything and found out that
this step is the bottlebeck, then you can set <code class="docutils literal notranslate"><span class="pre">hashable</span></code> to True, which
has O(n) time complexity. However, you have to be sure that the column’s
elements are actually hashable, so that it can be converted into a set
internally. For example, an unhashable class is <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns False</span>
<span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">([</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span>
<span class="c1"># returns True</span>
<span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>So, you have to convert the 0-d tensors to single ints/floats first, in
order to use the fast mode.</p>
<p>See also: <a class="reference internal" href="#k1lib.cli.grep.grep" title="k1lib.cli.grep.grep"><code class="xref py py-class docutils literal notranslate"><span class="pre">grep</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> – which column to group by</p></li>
<li><p><strong>hashable</strong> – whether the selected column is hashable or not</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.groupBy.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#groupBy.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.groupBy.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.structural.collate">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">collate</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#collate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.collate" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts individual columns into a tensor.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [tensor([ 0, 10, 20]), tensor([ 1, 11, 21]), tensor([ 2, 12, 22])]</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">23</span><span class="p">)]</span> <span class="o">|</span> <span class="n">collate</span><span class="p">()</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.insertColumn">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">insertColumn</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insertColumn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insertColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.insertColumn.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insertColumn.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insertColumn.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a column at beginning or end.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[&#39;a&#39;, 1, 2], [&#39;b&#39;, 3, 4]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span> <span class="o">|</span> <span class="o">~</span><span class="n">insertColumn</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[&#39;a&#39;, 1, 2], [&#39;b&#39;, 3, 4]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span> <span class="o">|</span> <span class="n">insertColumn</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[1, 2, &#39;a&#39;], [3, 4, &#39;b&#39;]]</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span> <span class="o">|</span> <span class="o">~</span><span class="n">insertColumn</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">begin</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.insertColumn.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insertColumn.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insertColumn.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.insertColumn.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insertColumn.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insertColumn.__invert__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.structural.insertIdColumn">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">insertIdColumn</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#insertIdColumn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.insertIdColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts an id column at the beginning (or end).
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[0, &#39;a&#39;, 2], [1, &#39;b&#39;, 4]]</span>
<span class="p">[[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span> <span class="o">|</span> <span class="n">insertIdColumn</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [[0, &#39;a&#39;], [1, &#39;b&#39;]]</span>
<span class="s2">&quot;ab&quot;</span> <span class="o">|</span> <span class="n">insertIdColumn</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>table</strong> – if False, then insert column to an Iterator[str], else treat
input as a full fledged table</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.expandE">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">expandE</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#expandE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.expandE" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.expandE.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#expandE.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.expandE.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands table element to multiple columns.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[&#39;abc&#39;, 3, -2], [&#39;de&#39;, 2, -5]]</span>
<span class="p">[[</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;de&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">]]</span> <span class="o">|</span> <span class="n">expandE</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">e</span><span class="p">)),</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> – Function that transforms 1 row element to multiple elements</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.expandE.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#expandE.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.expandE.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.structural.unsqueeze">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">unsqueeze</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#unsqueeze"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.unsqueeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsqueeze input iterator.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="c1"># returns (3, 2)</span>
<span class="n">t</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># returns (1, 3, 2)</span>
<span class="n">t</span> <span class="o">|</span> <span class="n">unsqueeze</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># returns (3, 1, 2)</span>
<span class="n">t</span> <span class="o">|</span> <span class="n">unsqueeze</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># returns (3, 2, 1)</span>
<span class="n">t</span> <span class="o">|</span> <span class="n">unsqueeze</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
<p>Behind the scenes, it’s really just <code class="docutils literal notranslate"><span class="pre">wrapList().all(dim)</span></code>, but the “unsqueeze” name
is a lot more familiar. Also note that the inverse operation “squeeze” is sort of
<code class="docutils literal notranslate"><span class="pre">item().all(dim)</span></code>, if you’re sure that this is desirable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="c1"># returns (3, 2)</span>
<span class="n">t</span> <span class="o">|</span> <span class="n">unsqueeze</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">item</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.count">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">count</span></code><a class="reference internal" href="../_modules/k1lib/cli/structural.html#count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.count.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#count.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.count.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds unique elements and returns a table with [frequency, value, percent]
columns. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, &#39;a&#39;, &#39;33%&#39;], [2, &#39;b&#39;, &#39;67%&#39;]]</span>
<span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">|</span> <span class="n">count</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.count.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#count.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.count.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.count.join">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">join</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#count.join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.count.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins multiple counts together.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[2, &#39;a&#39;, &#39;33%&#39;], [4, &#39;b&#39;, &#39;67%&#39;]]</span>
<span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">|</span> <span class="n">repeat</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">applyMp</span><span class="p">(</span><span class="n">count</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span> <span class="o">|</span> <span class="n">count</span><span class="o">.</span><span class="n">join</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>This is useful when you want to get the count of a really long list/iterator using multiple cores</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.permute">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">permute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">permutations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#permute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.permute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.permute.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">permutations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#permute.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.permute.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Permutes the columns. Acts kinda like <a class="reference external" href="https://pytorch.org/docs/master/generated/torch.Tensor.permute.html#torch.Tensor.permute" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-meth docutils literal notranslate"><span class="pre">torch.Tensor.permute()</span></code></a>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[&#39;b&#39;, &#39;a&#39;], [&#39;d&#39;, &#39;c&#39;]]</span>
<span class="p">[</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;cd&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">permute</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.permute.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#permute.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.permute.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.accumulate">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">accumulate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columnIdx</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#accumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.accumulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.accumulate.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columnIdx</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#accumulate.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.accumulate.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups lines that have the same row[columnIdx], and
add together all other columns, assuming they’re numbers. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[&#39;a&#39;, 10.5, 9.5, 14.5], [&#39;b&#39;, 1.1, 2.2, 3.3]]</span>
<span class="p">[[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">],</span>
 <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">],</span>
 <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mf">8.3</span><span class="p">,</span> <span class="mf">5.1</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">],</span>
 <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">]]</span> <span class="o">|</span> <span class="n">accumulate</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columnIdx</strong> – common column index to accumulate</p></li>
<li><p><strong>avg</strong> – calculate average values instead of sum</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.accumulate.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#accumulate.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.accumulate.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.AA_">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">AA_</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">idxs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wraps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#AA_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.AA_" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.AA_.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">idxs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wraps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#AA_.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.AA_.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 2 streams, one that has the selected element, and the other
the rest. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [5, [1, 6, 3, 7]]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="o">|</span> <span class="n">AA_</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># returns [[5, [1, 6, 3, 7]]]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="o">|</span> <span class="n">AA_</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">wraps</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also put multiple indexes through:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, [5, 6]], [6, [1, 5]]]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="n">AA_</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>If you don’t specify anything, then all indexes will be sliced:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, [5, 6]], [5, [1, 6]], [6, [1, 5]]]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="n">AA_</span><span class="p">()</span>
</pre></div>
</div>
<p>As for why the strange name, think of this operation as “AĀ”. In statistics,
say you have a set “A”, then “not A” is commonly written as A with an overline
“Ā”. So “AA_” represents “AĀ”, and that it first returns the selection A.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wraps</strong> – if True, then the first example will return [[5, [1, 6, 3, 7]]]
instead, so that A has the same signature as Ā</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.AA_.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#AA_.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.AA_.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.peek">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">peek</span></code><a class="reference internal" href="../_modules/k1lib/cli/structural.html#peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.peek" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.peek.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#peek.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.peek.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns (firstRow, iterator). This sort of peaks at the first row,
to potentially gain some insights about the internal formats. The returned
iterator is not tampered. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="p">,</span> <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span> <span class="o">|</span> <span class="n">peek</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="c1"># prints &quot;[1, 2, 3]&quot;</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span> <span class="n">s</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c1"># prints &quot;5&quot;, or length of 2 lists</span>
</pre></div>
</div>
<p>You kinda have to be careful about handling the <code class="docutils literal notranslate"><span class="pre">firstRow</span></code>, because you might
inadvertently alter the iterator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="p">,</span> <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">([</span><span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)])</span> <span class="o">|</span> <span class="n">peek</span><span class="p">()</span>
<span class="n">e</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="c1"># e is [0, 1, 2]</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">))</span> <span class="c1"># supposed to be the same as `e`, but is [] instead</span>
</pre></div>
</div>
<p>The example happens because you have already consumed all elements of the first
row, and thus there aren’t any left when you try to call <code class="docutils literal notranslate"><span class="pre">next(it)</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.peek.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">,</span> </span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#peek.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.peek.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.peekF">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">peekF</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#peekF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.peekF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.peekF.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#peekF.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.peekF.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#k1lib.cli.structural.peek" title="k1lib.cli.structural.peek"><code class="xref py py-class docutils literal notranslate"><span class="pre">peek</span></code></a>, but will execute <code class="docutils literal notranslate"><span class="pre">f(row)</span></code> and
return the input Iterator, which is not tampered. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">it</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">iter</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="c1"># prints &quot;[1, 2, 3]&quot; and returns [[1, 2, 3], [1, 2]]</span>
<span class="n">it</span><span class="p">()</span> <span class="o">|</span> <span class="n">peekF</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># prints &quot;1\n2\n3&quot;</span>
<span class="n">it</span><span class="p">()</span> <span class="o">|</span> <span class="n">peekF</span><span class="p">(</span><span class="n">headOut</span><span class="p">())</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.peekF.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#peekF.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.peekF.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.repeat">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">repeat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#repeat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.repeat.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#repeat.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.repeat.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields a specified amount of the passed in object. If you intend
to pass in an iterator, then make a list out of it first, as second copy of
iterator probably won’t work as you will have used it the first time. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[1, 2, 3], [1, 2, 3], [1, 2, 3]]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">repeat</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>repeat</strong> – if None, then repeats indefinitely</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.repeat.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#repeat.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.repeat.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.structural.repeatF">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">repeatF</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#repeatF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.repeatF" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields a specified amount generated by a specified function.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [4, 4, 4]</span>
<span class="n">repeatF</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
<span class="c1"># returns 10</span>
<span class="n">repeatF</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">head</span><span class="p">()</span> <span class="o">|</span> <span class="n">shape</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span><span class="o">+</span><span class="mi">2</span>
<span class="c1"># returns [8, 8, 8]</span>
<span class="n">repeatF</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="n">toList</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> – if None, then repeats indefinitely</p></li>
<li><p><strong>kwargs</strong> – extra keyword arguments that you can pass into the function</p></li>
</ul>
</dd>
</dl>
<p>See also: <a class="reference internal" href="#k1lib.cli.structural.repeatFrom" title="k1lib.cli.structural.repeatFrom"><code class="xref py py-class docutils literal notranslate"><span class="pre">repeatFrom</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.structural.repeatFrom">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.structural.</span></code><code class="sig-name descname"><span class="pre">repeatFrom</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#repeatFrom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.repeatFrom" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.structural.repeatFrom.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#repeatFrom.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.repeatFrom.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields from a list. If runs out of elements, then do it again for
<code class="docutils literal notranslate"><span class="pre">limit</span></code> times. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [1, 2, 3, 1, 2]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">repeatFrom</span><span class="p">()</span> <span class="o">|</span> <span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [1, 2, 3, 1, 2, 3]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">repeatFrom</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>limit</strong> – if None, then repeats indefinitely</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.structural.repeatFrom.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/structural.html#repeatFrom.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.structural.repeatFrom.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.trace">
<span id="trace-module"></span><h2>trace module<a class="headerlink" href="#module-k1lib.cli.trace" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.cli.trace.trace">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.trace.</span></code><code class="sig-name descname"><span class="pre">trace</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f=&lt;k1lib.cli.utils.size</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">maxDepth=inf</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/trace.html#trace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.trace.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.trace._trace</span></code></p>
<dl class="py attribute">
<dt id="k1lib.cli.trace.trace.last">
<code class="sig-name descname"><span class="pre">last</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#k1lib.cli.trace.trace.last" title="Permalink to this definition">¶</a></dt>
<dd><p>Last instantiated trace object. Access this to view the previous (possibly nested) trace.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.trace.trace.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f=&lt;k1lib.cli.utils.size</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">maxDepth=inf</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/trace.html#trace.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.trace.trace.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Traces out how the data stream is transformed through complex cli tools.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [1, 4, 9, 16], normal command</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># traced command, will display how the shapes evolve through cli tools</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">trace</span><span class="p">()</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>There’re a lot more instructions and code examples over the tutorial section. Go check it out!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> – function to display the data stream. Defaulted to <a class="reference internal" href="#k1lib.cli.utils.shape" title="k1lib.cli.utils.shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span></code></a>,
and to <a class="reference internal" href="#k1lib.cli.utils.iden" title="k1lib.cli.utils.iden"><code class="xref py py-class docutils literal notranslate"><span class="pre">iden</span></code></a> if is None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.utils">
<span id="utils-module"></span><h2>utils module<a class="headerlink" href="#module-k1lib.cli.utils" title="Permalink to this headline">¶</a></h2>
<p>This is for all short utilities that has the boilerplate feeling. Conversion clis
might feel they have different styles, as <code class="xref py py-class docutils literal notranslate"><span class="pre">toFloat</span></code> converts object iterator to
float iterator, while <code class="xref py py-class docutils literal notranslate"><span class="pre">toPIL</span></code> converts single image url to single PIL image,
whereas <code class="xref py py-class docutils literal notranslate"><span class="pre">toSum</span></code> converts float iterator into a single float value.</p>
<p>The general convention is, if the intended operation sounds simple (convert to floats,
strings, types, …), then most likely it will convert iterator to iterator, as you
can always use the function directly if you only want to apply it on 1 object.</p>
<p>If it sounds complicated (convert to PIL image, tensor, …) then most likely it will
convert object to object. Lastly, there are some that just feels right to input
an iterator and output a single object (like getting max, min, std, mean values).</p>
<dl class="py class">
<dt id="k1lib.cli.utils.size">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">size</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.size.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#size.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.size.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of rows and columns in the input.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns (3, 2)</span>
<span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]</span> <span class="o">|</span> <span class="n">size</span><span class="p">()</span>
<span class="c1"># returns 3</span>
<span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]</span> <span class="o">|</span> <span class="n">size</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># returns 2</span>
<span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]</span> <span class="o">|</span> <span class="n">size</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># returns (2, 0)</span>
<span class="p">[[],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span> <span class="o">|</span> <span class="n">size</span><span class="p">()</span>
<span class="c1"># returns (3,)</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="o">|</span> <span class="n">size</span><span class="p">()</span>
<span class="c1"># returns 3</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="o">|</span> <span class="n">size</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># returns (3, 2, 2)</span>
<span class="p">[[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]],</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="o">|</span> <span class="n">size</span><span class="p">()</span>
<span class="c1"># returns (1, 3)</span>
<span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">size</span><span class="p">()</span>
<span class="c1"># returns (1, 2, 3)</span>
<span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span> <span class="o">|</span> <span class="n">size</span><span class="p">()</span>
<span class="c1"># returns (2, 3, 5)</span>
<span class="n">size</span><span class="p">()(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<p>There’s also <code class="xref py py-class docutils literal notranslate"><span class="pre">lengths</span></code>, which is sort of a simplified/faster version of
this, but only use it if you are sure that <code class="docutils literal notranslate"><span class="pre">len(it)</span></code> can be called.</p>
<p>If encounter PyTorch tensors or Numpy arrays, then this will just get the shape
instead of actually looping over them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>idx</strong> – if idx is None return (rows, columns). If 0 or 1, then rows or
columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.size.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#size.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.size.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="k1lib.cli.utils.shape">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">shape</span></code><a class="headerlink" href="#k1lib.cli.utils.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#k1lib.cli.utils.size" title="k1lib.cli.utils.size"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.utils.size</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.item">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">item</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">amt:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">fill=&lt;object</span> <span class="pre">object&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.item" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.item.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">amt:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">fill=&lt;object</span> <span class="pre">object&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#item.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.item.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first row.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 0</span>
<span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">|</span> <span class="n">item</span><span class="p">()</span>
<span class="c1"># returns torch.Size([5])</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">item</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># returns 3</span>
<span class="p">[]</span> <span class="o">|</span> <span class="n">item</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amt</strong> – how many times do you want to call item() back to back?</p></li>
<li><p><strong>fill</strong> – if iterator length is 0, return this</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.item.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#item.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.item.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.iden">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">iden</span></code><a class="reference internal" href="../_modules/k1lib/cli/utils.html#iden"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.iden" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.iden.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#iden.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.iden.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields whatever the input is. Useful for multiple streams.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns range(5)</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">iden</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.iden.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#iden.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.iden.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.join">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">join</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.join.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#join.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.join.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges all strings into 1, with <cite>delim</cite> in the middle. Basically
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.join" title="(in Python v3.10)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.join()</span></code></a>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns &#39;2\na&#39;</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.join.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#join.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.join.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.wrapList">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">wrapList</span></code><a class="reference internal" href="../_modules/k1lib/cli/utils.html#wrapList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.wrapList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.wrapList.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#wrapList.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.wrapList.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps inputs inside a list. There’s a more advanced cli tool
built from this, which is <a class="reference internal" href="#k1lib.cli.structural.unsqueeze" title="k1lib.cli.structural.unsqueeze"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unsqueeze()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.wrapList.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#wrapList.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.wrapList.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.equals">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">equals</span></code><a class="reference internal" href="../_modules/k1lib/cli/utils.html#equals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.equals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.equals.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#equals.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.equals.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if all incoming columns/streams are identical</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.equals.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streams</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#equals.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.equals.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.reverse">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">reverse</span></code><a class="reference internal" href="../_modules/k1lib/cli/utils.html#reverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.reverse.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#reverse.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.reverse.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverses incoming list.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [3, 5, 2]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">reverse</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.reverse.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#reverse.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.reverse.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.ignore">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">ignore</span></code><a class="reference internal" href="../_modules/k1lib/cli/utils.html#ignore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.ignore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.ignore.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#ignore.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.ignore.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Just loops through everything, ignoring the output.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># will just return an iterator, and not print anything</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="c1"># will prints &quot;2\n3&quot;</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">|</span> <span class="n">ignore</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.ignore.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#ignore.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.ignore.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.rateLimit">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">rateLimit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#rateLimit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.rateLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.rateLimit.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#rateLimit.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.rateLimit.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Limits the execution flow rate upon a condition.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">semaphore</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">def</span> <span class="nf">heavyAsyncOperation</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">semaphore</span><span class="p">,</span> <span class="n">s</span>
    <span class="n">semaphore</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span> <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">semaphore</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">return</span> <span class="n">i</span><span class="o">**</span><span class="mi">2</span>

<span class="c1"># returns (20,), takes 1s to run</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">applyTh</span><span class="p">(</span><span class="n">heavyAsyncOperation</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
<span class="c1"># returns (20,), takes 4s to run (20/5 = 4)</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">rateLimit</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">semaphore</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">applyTh</span><span class="p">(</span><span class="n">heavyAsyncOperation</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">()</span>
</pre></div>
</div>
<p>The first test case is not rate-limited, so it will run all 20 threads at the
same time, and all of them will finish after 1 second.</p>
<p>The second test case is rate-limited, so that there can only be 5 concurrently
executing threads because of the semaphore count check. Therefore this takes
around 4 seconds to run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – checking function. Should return true if execution is allowed</p></li>
<li><p><strong>delay</strong> – delay in seconds between calling <code class="docutils literal notranslate"><span class="pre">f()</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.rateLimit.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#rateLimit.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.rateLimit.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.rateLimit.cpu">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">cpu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxUtilization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#rateLimit.cpu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.rateLimit.cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Limits flow rate when cpu utilization is more than a specified
percentage amount. Needs to install the package <code class="docutils literal notranslate"><span class="pre">psutil</span></code> to actually work.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [0, 1, 4, 9, 16]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="n">rateLimit</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.timeLimit">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">timeLimit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#timeLimit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.timeLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.timeLimit.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#timeLimit.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.timeLimit.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Caps the flow after a specified amount of time has
passed. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns 20, or roughly close to that</span>
<span class="n">repeatF</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="o">|</span> <span class="n">timeLimit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">shape</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.timeLimit.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#timeLimit.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.timeLimit.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.utils.tab">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">tab</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'</span>&#160;&#160;&#160; <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#tab"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.tab" title="Permalink to this definition">¶</a></dt>
<dd><p>Indents incoming string iterator.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out indented 0 to 9</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">tab</span><span class="p">()</span> <span class="o">|</span> <span class="n">headOut</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.utils.indent">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">indent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'</span>&#160;&#160;&#160; <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.cli.utils.indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Indents incoming string iterator.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prints out indented 0 to 9</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">tab</span><span class="p">()</span> <span class="o">|</span> <span class="n">headOut</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.clipboard">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">clipboard</span></code><a class="reference internal" href="../_modules/k1lib/cli/utils.html#clipboard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.clipboard.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#clipboard.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.clipboard.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the input to clipboard.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># copies &quot;abc&quot; into the clipboard. Just use Ctrl+V to paste as usual</span>
<span class="s2">&quot;abc&quot;</span> <span class="o">|</span> <span class="n">clipboard</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.clipboard.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#clipboard.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.clipboard.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.utils.headerIdx">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">headerIdx</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#headerIdx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.headerIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Cuts out first line, put an index column next to it, and prints it
out. Useful when you want to know what your column’s index is to cut it
out. Also sets the context variable “header”, in case you need it later.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [[0, &#39;a&#39;], [1, &#39;b&#39;], [2, &#39;c&#39;]]</span>
<span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">headerIdx</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.deref">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">deref</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxDepth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">igT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#deref"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.deref" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.deref.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxDepth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">igT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#deref.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.deref.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively converts any iterator into a list. Only <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>,
<a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Number" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numbers.Number</span></code></a> and <a class="reference external" href="https://pytorch.org/docs/master/generated/torch.nn.Module.html#torch.nn.Module" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code></a> are not converted. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns something like &quot;&lt;range_iterator at 0x7fa8c52ca870&gt;&quot;</span>
<span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="c1"># returns [0, 1, 2, 3, 4]</span>
<span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
<span class="c1"># returns [2, 3], yieldSentinel stops things early</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">yieldSentinel</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also specify a <code class="docutils literal notranslate"><span class="pre">maxDepth</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns something like &quot;&lt;list_iterator at 0x7f810cf0fdc0&gt;&quot;</span>
<span class="nb">iter</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># returns [range(3)]</span>
<span class="nb">iter</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># returns [[0, 1, 2]]</span>
<span class="nb">iter</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span> <span class="o">|</span> <span class="n">deref</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>There are a few classes/types that are considered atomic, and <a class="reference internal" href="#k1lib.cli.utils.deref" title="k1lib.cli.utils.deref"><code class="xref py py-class docutils literal notranslate"><span class="pre">deref</span></code></a>
will never try to iterate over it. If you wish to change it, do something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">atomic</span><span class="o">.</span><span class="n">deref</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>maxDepth</strong> – maximum depth to dereference. Starts at 0 for not doing anything
at all</p></li>
<li><p><strong>igT</strong> – short for “ignore tensor”. If True, then don’t loop over <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>
and <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> internals</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.deref.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#deref.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.deref.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.deref.__invert__">
<code class="sig-name descname"><span class="pre">__invert__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><span class="pre">k1lib.cli.init.BaseCli</span></a><a class="reference internal" href="../_modules/k1lib/cli/utils.html#deref.__invert__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.deref.__invert__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCli</span></code></a> that makes
everything an iterator. Not entirely sure when this comes in handy, but it’s
there.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.bindec">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">bindec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cats</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#bindec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.bindec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.bindec.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cats</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#bindec.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.bindec.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary decodes the input.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [&#39;a&#39;, &#39;c&#39;]</span>
<span class="mi">5</span> <span class="o">|</span> <span class="n">bindec</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">)</span>
<span class="c1"># returns &#39;a,c&#39;</span>
<span class="mi">5</span> <span class="o">|</span> <span class="n">bindec</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cats</strong> – categories</p></li>
<li><p><strong>f</strong> – transformation function of the selected elements. Defaulted to <code class="xref py py-class docutils literal notranslate"><span class="pre">toList</span></code>, but others like <a class="reference internal" href="#k1lib.cli.utils.join" title="k1lib.cli.utils.join"><code class="xref py py-class docutils literal notranslate"><span class="pre">join</span></code></a> is useful too</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.bindec.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#bindec.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.bindec.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.smooth">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">smooth</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">consecutives</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#smooth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.smooth.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">consecutives</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#smooth.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.smooth.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothes out the input stream.
Literally just a shortcut for:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">batched</span><span class="p">(</span><span class="n">consecutives</span><span class="p">)</span> <span class="o">|</span> <span class="n">toMean</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns [4.5, 14.5, 24.5]</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">|</span> <span class="n">smooth</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<p>Smoothing over <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.13.0a0+gited7464f ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> will
be much faster, and produce high dimensional results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns torch.Tensor with shape (2, 3, 4)</span>
<span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">smooth</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>The default consecutive value is in <code class="docutils literal notranslate"><span class="pre">settings.cli.smooth</span></code>. This
is useful if you are smoothing over multiple lists at the same
time, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># can change a single smooth value temporarily here, and all sequences will be smoothed in the same way</span>
<span class="k">with</span> <span class="n">settings</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">smooth</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">|</span> <span class="n">apply</span><span class="p">(</span><span class="n">op</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span> <span class="o">|</span> <span class="n">smooth</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">(),</span> <span class="n">y</span> <span class="o">|</span> <span class="n">smooth</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">())</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>consecutives</strong> – if not defined, then used the value inside <code class="docutils literal notranslate"><span class="pre">settings.cli.smooth</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.smooth.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#smooth.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.smooth.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.utils.disassemble">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">disassemble</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#disassemble"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.disassemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Disassembles anything piped into it.
Normal usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span>
<span class="c1"># both of these print out disassembled info</span>
<span class="n">f</span> <span class="o">|</span> <span class="n">disassemble</span><span class="p">()</span>
<span class="n">disassemble</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="c1"># you can pass in lambdas</span>
<span class="n">disassemble</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1"># or even raw code</span>
<span class="s2">&quot;lambda x: x + 3&quot;</span> <span class="o">|</span> <span class="n">disassemble</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="k1lib.cli.utils.tree">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">tree</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">fL=10,</span> <span class="pre">dL=10,</span> <span class="pre">depth=inf,</span> <span class="pre">ff:</span> <span class="pre">Callable[[str],</span> <span class="pre">bool]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">df:</span> <span class="pre">Callable[[str],</span> <span class="pre">bool]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#tree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively gets all files and folders. Output format might be a bit
strange, so this is mainly for visualization. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;.&quot;</span> <span class="o">|</span> <span class="n">tree</span><span class="p">()</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fL</strong> – max number of file per directory included in output</p></li>
<li><p><strong>dL</strong> – max number of child directories per directory included in output</p></li>
<li><p><strong>depth</strong> – explore depth</p></li>
<li><p><strong>ff</strong> – optional file filter function</p></li>
<li><p><strong>df</strong> – optional directory filter function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="k1lib.cli.utils.lookup">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.cli.utils.</span></code><code class="sig-name descname"><span class="pre">lookup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.cli.init.BaseCli" title="k1lib.cli.init.BaseCli"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.cli.init.BaseCli</span></code></a></p>
<dl class="py method">
<dt id="k1lib.cli.utils.lookup.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#lookup.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.lookup.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up items from a dictionary/object. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="mi">52</span><span class="p">}</span>
<span class="c1"># returns [3, 5, 52, 52, 3]</span>
<span class="s2">&quot;abcca&quot;</span> <span class="o">|</span> <span class="n">lookup</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>

<span class="c1"># returns [[0, 3], [1, 5], [2, 52], [3, 52], [4, 3]]</span>
<span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s2">&quot;abcca&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()</span> <span class="o">|</span> <span class="n">lookup</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">deref</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – any object that can be sliced with the inputs</p></li>
<li><p><strong>col</strong> – if None, lookup on each row, else lookup a specific
column only</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.cli.utils.lookup.__ror__">
<code class="sig-name descname"><span class="pre">__ror__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/utils.html#lookup.__ror__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.utils.lookup.__ror__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.cli.others">
<span id="others-module"></span><h2>others module<a class="headerlink" href="#module-k1lib.cli.others" title="Permalink to this headline">¶</a></h2>
<p>This is for pretty random clis that’s scattered everywhere.</p>
<dl class="py function">
<dt id="k1lib.cli.others.crissCross">
<code class="sig-prename descclassname"><span class="pre">k1lib.cli.others.</span></code><code class="sig-name descname"><span class="pre">crissCross</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/cli/others.html#crissCross"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.cli.others.crissCross" title="Permalink to this definition">¶</a></dt>
<dd><p>Like the monkey-patched function <code class="xref py py-meth docutils literal notranslate"><span class="pre">torch.crissCross()</span></code>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># returns another Tensor</span>
<span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span> <span class="o">|</span> <span class="n">crissCross</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="elsewhere-in-the-library">
<h2>Elsewhere in the library<a class="headerlink" href="#elsewhere-in-the-library" title="Permalink to this headline">¶</a></h2>
<p>There might still be more cli tools scattered around the library. These are pretty
rare, quite dynamic and most likely a cool extra feature, not a core functionality,
so not worth it/can’t mention it here. Anyway, execute this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cli</span><span class="o">.</span><span class="n">scatteredClis</span><span class="p">()</span>
</pre></div>
</div>
<p>to get a list of them.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="streams.html" class="btn btn-neutral float-right" title="Streams tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../base.html" class="btn btn-neutral float-left" title="Base module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Quang Ho.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>