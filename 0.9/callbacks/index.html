

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>k1lib.callbacks module &mdash; k1lib  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="lossFunctions module" href="lossFunctions.html" />
    <link rel="prev" title="Streams tutorial" href="../cli/streams.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> k1lib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../base.html">Base module</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">k1lib.cli module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">k1lib.callbacks module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lossFunctions.html">lossFunctions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="profilers.html">profilers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.callbacks">callbacks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.confusionMatrix">confusionMatrix module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.core">core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.hookModule">hookModule module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.hookParam">hookParam module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.limits">limits module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.landscape">landscape module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.loss_accuracy">loss_accuracy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.paramFinder">paramFinder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.profiler">profiler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.progress">progress module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.recorder">recorder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-k1lib.callbacks.shorts">shorts module</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kdata.html">k1lib.kdata module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eqn.html">k1lib.eqn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fmt.html">k1lib.fmt module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphEqn.html">k1lib.graphEqn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imports.html">k1lib.imports module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mo.html">k1lib.mo module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../knn.html">k1lib.knn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html">k1lib.schedule module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../selector.html">k1lib.selector module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viz.html">k1lib.viz module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../monkey.html">Monkey patched classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelogs.html">Changelogs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">k1lib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>k1lib.callbacks module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/callbacks/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-k1lib.callbacks"></span><div class="section" id="k1lib-callbacks-module">
<h1>k1lib.callbacks module<a class="headerlink" href="#k1lib-callbacks-module" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="lossFunctions.html">lossFunctions module</a></li>
<li class="toctree-l1"><a class="reference internal" href="profilers.html">profilers module</a></li>
</ul>
</div>
<div class="section" id="module-k1lib.callbacks.callbacks">
<span id="callbacks-module"></span><h2>callbacks module<a class="headerlink" href="#module-k1lib.callbacks.callbacks" title="Permalink to this headline">¶</a></h2>
<p>Bare example of how this module works:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">k1lib</span>

<span class="k">class</span> <span class="nc">CbA</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Callback</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initialState</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">def</span> <span class="nf">startBatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;startBatch - CbA&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">startPass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;startPass - CbA&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">CbB</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Callback</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">startBatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;startBatch - CbB&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">endLoss</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;endLoss - CbB&quot;</span><span class="p">)</span>

<span class="c1"># initialization</span>
<span class="n">cbs</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Callbacks</span><span class="p">()</span>
<span class="n">cbs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbA</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbB</span><span class="p">())</span>
<span class="n">model</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">xb</span><span class="p">:</span> <span class="n">xb</span> <span class="o">+</span> <span class="mi">3</span>
<span class="n">lossF</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">y</span><span class="p">,</span> <span class="n">yb</span><span class="p">:</span> <span class="n">y</span> <span class="o">-</span> <span class="n">yb</span>

<span class="c1"># training loop</span>
<span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;startBatch&quot;</span><span class="p">);</span> <span class="n">xb</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span> <span class="n">yb</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;startPass&quot;</span><span class="p">);</span> <span class="n">y</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">xb</span><span class="p">);</span> <span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;endPass&quot;</span><span class="p">)</span>
<span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;startLoss&quot;</span><span class="p">);</span> <span class="n">loss</span> <span class="o">=</span> <span class="n">lossF</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">yb</span><span class="p">);</span> <span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;endLoss&quot;</span><span class="p">)</span>
<span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;endBatch&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cbs</span><span class="o">.</span><span class="n">CbA</span><span class="p">)</span> <span class="c1"># can reference the Callback object directly</span>
</pre></div>
</div>
<p>So, point is, you can define lots of <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callback</span></code></a> classes that
defines a number of checkpoint functions, like <code class="docutils literal notranslate"><span class="pre">startBatch</span></code>. Then,
you can create a <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks" title="k1lib.callbacks.callbacks.Callbacks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callbacks</span></code></a> object that includes Callback
objects. When you do <code class="docutils literal notranslate"><span class="pre">cbs(&quot;checkpoint&quot;)</span></code>, this will execute
<code class="docutils literal notranslate"><span class="pre">cb.checkpoint()</span></code> of all the Callback objects.</p>
<p>Pretty much everything here is built upon this. The core training loop
has nothing to do with ML stuff. In fact, it’s just a bunch of
<code class="docutils literal notranslate"><span class="pre">cbs(&quot;...&quot;)</span></code> statements. Everything meaningful about the training
loop comes from different Callback classes. Advantage of this is that you
can tack on wildly different functions, have them play nicely with each
other, and remove entire complex functionalities by commenting out a
single line.</p>
<dl class="py attribute">
<dt id="k1lib.callbacks.callbacks.Cbs">
<code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.callbacks.</span></code><code class="sig-name descname"><span class="pre">Cbs</span></code><a class="headerlink" href="#k1lib.callbacks.callbacks.Cbs" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="../base.html#k1lib.Object" title="k1lib.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a> of all available callbacks. Automatically exposed, so
you can do this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">k1lib.imports</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">cbs</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Callbacks</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Cbs</span><span class="o">.</span><span class="n">Beep</span><span class="p">())</span>
<span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;endRun&quot;</span><span class="p">)</span> <span class="c1"># plays a beep sound</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.callbacks.Callback">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.callbacks.</span></code><code class="sig-name descname"><span class="pre">Callback</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Represents a callback. Define specific functions
inside to intercept certain parts of the training
loop. Can access <a class="reference internal" href="../base.html#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Learner</span></code></a> like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">l</span><span class="o">.</span><span class="n">xb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">l</span><span class="o">.</span><span class="n">xb</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span>
</pre></div>
</div>
<p>This takes x batch of learner, unsqueeze it at
the 0 position, then sets the x batch again.</p>
<p>Normally, you will define a subclass of this and
define specific intercept functions, but if you
want to create a throwaway callback, then do this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Callback</span><span class="p">()</span><span class="o">.</span><span class="n">withCheckpoint</span><span class="p">(</span><span class="s2">&quot;startRun&quot;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;start running&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>You can use <a class="reference internal" href="#k1lib.callbacks.callbacks.Cbs" title="k1lib.callbacks.callbacks.Cbs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Cbs</span></code></a> (automatically exposed) for
a list of default Callback classes, for any particular needs.</p>
<p><strong>order</strong></p>
<p>You can also use <cite>.order</cite> to set the order of execution of the callback.
The higher, the later it gets executed. Value suggestions:</p>
<ul class="simple">
<li><p>7: pre-default runs, like LossLandscape</p></li>
<li><p>10: default runs, like DontTrainValid</p></li>
<li><p>13: custom mods, like ModifyBatch</p></li>
<li><p>15: pre-recording mod</p></li>
<li><p>17: recording mods, like Profiler.memory</p></li>
<li><p>20: default recordings, like Loss</p></li>
<li><p>23: post-default recordings, like ParamFinder</p></li>
<li><p>25: guards, like TimeLimit, CancelOnExplosion</p></li>
</ul>
<p>Just leave as default (10) if you don’t know what values to choose.</p>
<p><strong>dependsOn</strong></p>
<p>If you’re going to extend this class, you can also specify dependencies
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CbC</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Callback</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dependsOn</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Loss&quot;</span><span class="p">,</span> <span class="s2">&quot;Accuracy&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>This is so that if somewhere, <code class="docutils literal notranslate"><span class="pre">Loss</span></code> callback class is temporarily
suspended, then CbC will be suspended also, therefore avoiding errors.</p>
<p><strong>Suspension</strong></p>
<p>If your Callback is mainly dormant, then you can do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CbD</span><span class="p">(</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Callback</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suspended</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">def</span> <span class="nf">startBatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># these types of methods will only execute</span>
        <span class="c1"># if ``self.suspended = False``</span>
        <span class="k">pass</span>
    <span class="k">def</span> <span class="nf">analyze</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suspended</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># do something that sometimes call ``startBatch``</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suspended</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">cbs</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Callbacks</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbD</span><span class="p">())</span>
<span class="c1"># dormant phase:</span>
<span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;startBatch&quot;</span><span class="p">)</span> <span class="c1"># does not execute CbD.startBatch()</span>
<span class="c1"># active phase</span>
<span class="n">cbs</span><span class="o">.</span><span class="n">CbB</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span> <span class="c1"># does execute CbD.startBatch()</span>
</pre></div>
</div>
<p>So yeah, you can easily make every checkpoint active/dormant by changing
a single variable, how convenient. See over <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks.suspend" title="k1lib.callbacks.callbacks.Callbacks.suspend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Callbacks.suspend()</span></code></a>
for more.</p>
<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callback.suspend">
<code class="sig-name descname"><span class="pre">suspend</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callback.suspend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callback.suspend" title="Permalink to this definition">¶</a></dt>
<dd><p>Checkpoint, called when the Callback is temporarily suspended. Overridable</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callback.restore">
<code class="sig-name descname"><span class="pre">restore</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callback.restore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callback.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Checkpoint, called when the Callback is back from suspension. Overridable</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callback.withCheckpoint">
<code class="sig-name descname"><span class="pre">withCheckpoint</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><span class="pre">k1lib.callbacks.callbacks.Callback</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callback.withCheckpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callback.withCheckpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickly set a checkpoint, for simple, inline-able functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>checkpoint</strong> – checkpoints like “startRun”</p></li>
<li><p><strong>f</strong> – function that takes in the Callback itself</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callback.detach">
<code class="sig-name descname"><span class="pre">detach</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callback.detach"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callback.detach" title="Permalink to this definition">¶</a></dt>
<dd><p>Detaches from the parent <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks" title="k1lib.callbacks.callbacks.Callbacks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callbacks</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callback.pause">
<code class="sig-name descname"><span class="pre">pause</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.callbacks.Callback.pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Pauses the callback’s main functionality for a while. This is a bit different
from <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks.suspend" title="k1lib.callbacks.callbacks.Callbacks.suspend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Callbacks.suspend()</span></code></a>, in that <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks.suspend" title="k1lib.callbacks.callbacks.Callbacks.suspend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Callbacks.suspend()</span></code></a> will not call any
cb’s checkpoints at all. However, pausing it will only set an internal variable <code class="docutils literal notranslate"><span class="pre">paused</span></code>,
but all the checkpoints will be called normally. <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callback</span></code></a> objects can then
choose to turn off some checkpoints if deemed appropriate.</p>
<p>This is kinda a niche functionality, and very few built-in <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callback</span></code></a> s actually
use this.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.callbacks.Timings">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.callbacks.</span></code><code class="sig-name descname"><span class="pre">Timings</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Timings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Timings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>List of checkpoint timings. Not intended to be instantiated by the end user.
Used within <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks" title="k1lib.callbacks.callbacks.Callbacks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callbacks</span></code></a>, accessible via
<a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks.timings" title="k1lib.callbacks.callbacks.Callbacks.timings"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Callbacks.timings</span></code></a> to record time taken to execute a single
checkpoint. This is useful for profiling stuff.</p>
<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Timings.state">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">state</span></code><a class="headerlink" href="#k1lib.callbacks.callbacks.Timings.state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Timings.checkpoints">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">checkpoints</span></code><a class="headerlink" href="#k1lib.callbacks.callbacks.Timings.checkpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>List of all checkpoints encountered</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Timings.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Timings.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Timings.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot all checkpoints’ execution times</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Timings.clear">
<code class="sig-name descname"><span class="pre">clear</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Timings.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Timings.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears all timing data</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.callbacks.Callbacks">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.callbacks.</span></code><code class="sig-name descname"><span class="pre">Callbacks</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.timings">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">timings</span></code><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.timings" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <a class="reference internal" href="#k1lib.callbacks.callbacks.Timings" title="k1lib.callbacks.callbacks.Timings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timings</span></code></a> object</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.l">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">l</span></code><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.l" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="../base.html#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Learner</span></code></a> object. Will be set automatically when
you set <a class="reference internal" href="../base.html#k1lib.Learner.cbs" title="k1lib.Learner.cbs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">k1lib.Learner.cbs</span></code></a> to this <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks" title="k1lib.callbacks.callbacks.Callbacks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callbacks</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.cbs">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cbs</span></code><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.cbs" title="Permalink to this definition">¶</a></dt>
<dd><p>List of <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callback</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><span class="pre">k1lib.callbacks.callbacks.Callback</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a callback to the collection.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.__contains__">
<code class="sig-name descname"><span class="pre">__contains__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.__contains__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.__contains__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.remove">
<code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a callback from the collection.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.removePrefix">
<code class="sig-name descname"><span class="pre">removePrefix</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.removePrefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.removePrefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes any callback with the specified prefix</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.__call__">
<code class="sig-name descname"><span class="pre">__call__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">checkpoints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls a number of checkpoints one after another.
Returns True if any of the checkpoints return anything at all</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.__getitem__">
<code class="sig-name descname"><span class="pre">__getitem__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><span class="pre">k1lib.callbacks.callbacks.Callback</span></a><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.__iter__">
<code class="sig-name descname"><span class="pre">__iter__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><span class="pre">k1lib.callbacks.callbacks.Callback</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.__iter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.__iter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.__len__">
<code class="sig-name descname"><span class="pre">__len__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.__len__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.withBasics">
<code class="sig-name descname"><span class="pre">withBasics</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.withBasics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.withBasics" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a bunch of very basic Callbacks that’s needed for everything. Also
includes Callbacks that are not necessary, but don’t slow things down</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.withQOL">
<code class="sig-name descname"><span class="pre">withQOL</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.withQOL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.withQOL" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds quality of life Callbacks.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.withAdvanced">
<code class="sig-name descname"><span class="pre">withAdvanced</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/callbacks.html#Callbacks.withAdvanced"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.withAdvanced" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds advanced Callbacks that do fancy stuff, but may slow things
down if not configured specifically.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.checkpointGraph">
<code class="sig-name descname"><span class="pre">checkpointGraph</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">highlightCb</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><span class="pre">k1lib.callbacks.callbacks.Callback</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.checkpointGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Graphs what checkpoints follows what checkpoints. Has to run at least once
first. Requires graphviz package though. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cbs</span> <span class="o">=</span> <span class="n">Callbacks</span><span class="p">()</span>
<span class="n">cbs</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="n">cbs</span><span class="o">.</span><span class="n">checkpointGraph</span><span class="p">()</span> <span class="c1"># returns graph object. Will display image if using notebooks</span>
</pre></div>
</div>
<img alt="../_images/checkpointGraph.png" src="../_images/checkpointGraph.png" />
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>highlightCb</strong> – if available, will highlight the checkpoints the callback
uses. Can be name/class-name/class/self of callback.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.context">
<code class="sig-name descname"><span class="pre">context</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">AbstractContextManager</span><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Add context.</p>
<p>Works like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cbs</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Callbacks</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbA</span><span class="p">())</span>
<span class="c1"># CbA is available</span>
<span class="k">with</span> <span class="n">cbs</span><span class="o">.</span><span class="n">context</span><span class="p">():</span>
    <span class="n">cbs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbB</span><span class="p">())</span>
    <span class="c1"># CbA and CbB available</span>
    <span class="n">cbs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbC</span><span class="p">())</span>
    <span class="c1"># all 3 are available</span>
<span class="c1"># only CbA is available</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.suspend">
<code class="sig-name descname"><span class="pre">suspend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">cbNames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">AbstractContextManager</span><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.suspend" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates suspension context for specified Callbacks. Matches callbacks with
their name. Works like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cbs</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Callbacks</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbA</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbB</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">CbC</span><span class="p">())</span>
<span class="k">with</span> <span class="n">cbs</span><span class="o">.</span><span class="n">suspend</span><span class="p">(</span><span class="s2">&quot;CbA&quot;</span><span class="p">,</span> <span class="s2">&quot;CbC&quot;</span><span class="p">):</span>
    <span class="k">pass</span> <span class="c1"># inside here, only CbB will be active, and its checkpoints executed</span>
<span class="c1"># CbA, CbB and CbC are all active</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks.suspendClasses" title="k1lib.callbacks.callbacks.Callbacks.suspendClasses"><code class="xref py py-meth docutils literal notranslate"><span class="pre">suspendClasses()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.suspendClasses">
<code class="sig-name descname"><span class="pre">suspendClasses</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">classNames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">AbstractContextManager</span><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.suspendClasses" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks.suspend" title="k1lib.callbacks.callbacks.Callbacks.suspend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">suspend()</span></code></a>, but matches callbacks’ class names to the given list,
instead of matching names. Meaning:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cbs</span><span class="o">.</span><span class="n">k1lib</span><span class="o">.</span><span class="n">Callbacks</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Cbs</span><span class="o">.</span><span class="n">Loss</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Cbs</span><span class="o">.</span><span class="n">Loss</span><span class="p">())</span>
<span class="c1"># cbs now has 2 callbacks &quot;Loss&quot; and &quot;Loss0&quot;</span>
<span class="k">with</span> <span class="n">cbs</span><span class="o">.</span><span class="n">suspendClasses</span><span class="p">(</span><span class="s2">&quot;Loss&quot;</span><span class="p">):</span>
    <span class="k">pass</span> <span class="c1"># now both of them are suspended</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.suspendEval">
<code class="sig-name descname"><span class="pre">suspendEval</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">more</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">less</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">AbstractContextManager</span><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.suspendEval" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#k1lib.callbacks.callbacks.Callbacks.suspendClasses" title="k1lib.callbacks.callbacks.Callbacks.suspendClasses"><code class="xref py py-meth docutils literal notranslate"><span class="pre">suspendClasses()</span></code></a>, but suspend some default classes typical
used for evaluation callbacks. Just convenience method really. Currently includes:</p>
<ul class="simple">
<li><p>HookModule, HookParam, ProgressBar</p></li>
<li><p>ParamScheduler, Loss, Accuracy, Autosave</p></li>
<li><p>ConfusionMatrix</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>more</strong> – include more classes to be suspended</p></li>
<li><p><strong>less</strong> – exclude classes supposed to be suspended by default</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.callbacks.Callbacks.withParamScheduler">
<code class="sig-name descname"><span class="pre">withParamScheduler</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">css</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">schedules</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.callbacks.Callbacks.withParamScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedules a param in parts of the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>css</strong> – the selected parts of the network to schedule</p></li>
<li><p><strong>schedules</strong> – (obvious)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.confusionMatrix">
<span id="confusionmatrix-module"></span><h2>confusionMatrix module<a class="headerlink" href="#module-k1lib.callbacks.confusionMatrix" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.confusionMatrix.ConfusionMatrix">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.confusionMatrix.</span></code><code class="sig-name descname"><span class="pre">ConfusionMatrix</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/confusionMatrix.html#ConfusionMatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.confusionMatrix.ConfusionMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<dl class="py method">
<dt id="k1lib.callbacks.confusionMatrix.ConfusionMatrix.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/confusionMatrix.html#ConfusionMatrix.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.confusionMatrix.ConfusionMatrix.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Records what categories the network is confused the most. Expected
variable <code class="docutils literal notranslate"><span class="pre">preds</span></code> to be set in <a class="reference internal" href="../base.html#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Learner</span></code></a> before checkpoint <code class="docutils literal notranslate"><span class="pre">endLoss</span></code>.
This is automatically included when you add a <a class="reference internal" href="lossFunctions.html#k1lib.callbacks.lossFunctions.accuracy.AccF" title="k1lib.callbacks.lossFunctions.accuracy.AccF"><code class="xref py py-class docutils literal notranslate"><span class="pre">AccF</span></code></a>,
or when it’s added automatically when using <a class="reference internal" href="lossFunctions.html#k1lib.callbacks.lossFunctions.shorts.LossNLLCross" title="k1lib.callbacks.lossFunctions.shorts.LossNLLCross"><code class="xref py py-class docutils literal notranslate"><span class="pre">LossNLLCross</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>categories</strong> – optional list of category names</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="k1lib.callbacks.confusionMatrix.ConfusionMatrix.categories">
<code class="sig-name descname"><span class="pre">categories</span></code><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#k1lib.callbacks.confusionMatrix.ConfusionMatrix.categories" title="Permalink to this definition">¶</a></dt>
<dd><p>String categories for displaying the matrix. You can set this
so that it displays what you want, in case this Callback is included
automatically.</p>
</dd></dl>

<dl class="py attribute">
<dt id="k1lib.callbacks.confusionMatrix.ConfusionMatrix.matrix">
<code class="sig-name descname"><span class="pre">matrix</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a></em><a class="headerlink" href="#k1lib.callbacks.confusionMatrix.ConfusionMatrix.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>The recorded confusion matrix.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.confusionMatrix.ConfusionMatrix.goodMatrix">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">goodMatrix</span></code><a class="headerlink" href="#k1lib.callbacks.confusionMatrix.ConfusionMatrix.goodMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears all inf, nans and whatnot from the matrix, then returns it.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.confusionMatrix.ConfusionMatrix.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/confusionMatrix.html#ConfusionMatrix.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.confusionMatrix.ConfusionMatrix.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots everything</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.core">
<span id="core-module"></span><h2>core module<a class="headerlink" href="#module-k1lib.callbacks.core" title="Permalink to this headline">¶</a></h2>
<p>This is for core callbacks, that defines how everything is going to go</p>
<dl class="py class">
<dt id="k1lib.callbacks.core.CoreNormal">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.core.</span></code><code class="sig-name descname"><span class="pre">CoreNormal</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/core.html#CoreNormal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.core.CoreNormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Just a normal, typical feed forward pass</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.core.CoreRNN">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.core.</span></code><code class="sig-name descname"><span class="pre">CoreRNN</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/core.html#CoreRNN"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.core.CoreRNN" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>RNN forward pass. Expected model to have the <code class="docutils literal notranslate"><span class="pre">initHidden(bs)</span> <span class="pre">-&gt;</span> <span class="pre">torch.Tensor</span></code>
method.</p>
</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.hookModule">
<span id="hookmodule-module"></span><h2>hookModule module<a class="headerlink" href="#module-k1lib.callbacks.hookModule" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.hookModule.HookModule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.hookModule.</span></code><code class="sig-name descname"><span class="pre">HookModule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">persistent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/hookModule.html#HookModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Hooks into selected modules in the network, and
execute functions like .mean(), .std(). This is fairly
complicated, and I highly recommend displaying this
callback in a cell for more info</p>
<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">persistent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/hookModule.html#HookModule.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>persistent</strong> – whether to save results across
runs. If false, then can execute <cite>.reset()</cite> to
reset everything</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.reset">
<code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/hookModule.html#HookModule.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Intended to be called by end user only, to reset
everything if choose to persist results across runs.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.suspend">
<code class="sig-name descname"><span class="pre">suspend</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/hookModule.html#HookModule.suspend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.suspend" title="Permalink to this definition">¶</a></dt>
<dd><p>Checkpoint, called when the Callback is temporarily suspended. Overridable</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.restore">
<code class="sig-name descname"><span class="pre">restore</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/hookModule.html#HookModule.restore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Checkpoint, called when the Callback is back from suspension. Overridable</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.clearHooks">
<code class="sig-name descname"><span class="pre">clearHooks</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.clearHooks" title="Permalink to this definition">¶</a></dt>
<dd><p>Hooks into selected modules in the network, and
execute functions like .mean(), .std(). This is fairly
complicated, and I highly recommend displaying this
callback in a cell for more info</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.css">
<code class="sig-name descname"><span class="pre">css</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">css</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.css" title="Permalink to this definition">¶</a></dt>
<dd><p>Hooks into selected modules in the network, and
execute functions like .mean(), .std(). This is fairly
complicated, and I highly recommend displaying this
callback in a cell for more info</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fields</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots every simple (1 number saved/pass/module) fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> – list of fields to plot. If none, then
will automatically find all simple fields</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.withBackwardHook">
<code class="sig-name descname"><span class="pre">withBackwardHook</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">k1lib.callbacks.hookModule.Data</span><span class="p"><span class="pre">,</span> </span><span class="pre">torch.nn.modules.module.Module</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.withBackwardHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a hook to the backward pass. See <a class="reference internal" href="#k1lib.callbacks.hookModule.HookModule.withHook" title="k1lib.callbacks.hookModule.HookModule.withHook"><code class="xref py py-func docutils literal notranslate"><span class="pre">withHook()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.withForwardHook">
<code class="sig-name descname"><span class="pre">withForwardHook</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">k1lib.callbacks.hookModule.Data</span><span class="p"><span class="pre">,</span> </span><span class="pre">torch.nn.modules.module.Module</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.withForwardHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a hook to the forward pass. See <a class="reference internal" href="#k1lib.callbacks.hookModule.HookModule.withHook" title="k1lib.callbacks.hookModule.HookModule.withHook"><code class="xref py py-func docutils literal notranslate"><span class="pre">withHook()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.withHook">
<code class="sig-name descname"><span class="pre">withHook</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">k1lib.callbacks.hookModule.Data</span><span class="p"><span class="pre">,</span> </span><span class="pre">torch.nn.modules.module.Module</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.withHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a hook to both the forward and backward pass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hook</strong> – <p>this function is expected to take in these parameters: <strong>(data, module, inp, out)</strong></p>
<dl class="field-list">
<dt class="field-odd">data</dt>
<dd class="field-odd"><p>the injected dependency for you to store stuff.
Initially, <cite>data.max</cite> is an empty list, and you can
append to it directly, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">append</span><span class="p">()</span> <span class="c1"># okay</span>
</pre></div>
</div>
<p>Later on, you can do things like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HookModule</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">forward</span><span class="o">.</span><span class="n">max</span>
</pre></div>
</div>
<p>and get the data you saved from the hook.</p>
</dd>
<dt class="field-even">module</dt>
<dd class="field-even"><p>the module this function hooks into. Please
refer to <code class="xref py py-func docutils literal notranslate"><span class="pre">torch.nn.Module.register_forward_hook()</span></code> to
know more.</p>
</dd>
<dt class="field-odd">inp</dt>
<dd class="field-odd"><p>input (or grad of input) to the module</p>
</dd>
<dt class="field-even">out</dt>
<dd class="field-even"><p>output (or grad of output) to the module</p>
</dd>
</dl>
</p></li>
<li><p><strong>name</strong> – custom name for the function for nice displaying</p></li>
</ul>
</dd>
</dl>
<p>See also: m.withForwardHook(), m.withBackwardHook()</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.withMaxRecorder">
<code class="sig-name descname"><span class="pre">withMaxRecorder</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.withMaxRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Records max</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.withMeanRecorder">
<code class="sig-name descname"><span class="pre">withMeanRecorder</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.withMeanRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Records mean</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.withMinRecorder">
<code class="sig-name descname"><span class="pre">withMinRecorder</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.withMinRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Records min</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookModule.HookModule.withStdRecorder">
<code class="sig-name descname"><span class="pre">withStdRecorder</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookModule.HookModule.withStdRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Records standard deviation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.hookParam">
<span id="hookparam-module"></span><h2>hookParam module<a class="headerlink" href="#module-k1lib.callbacks.hookParam" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.hookParam.HookParam">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.hookParam.</span></code><code class="sig-name descname"><span class="pre">HookParam</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/hookParam.html#HookParam"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.hookParam.HookParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Records means and stds of all parameters</p>
<dl class="py method">
<dt id="k1lib.callbacks.hookParam.HookParam.css">
<code class="sig-name descname"><span class="pre">css</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">css</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/hookParam.html#HookParam.css"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.hookParam.HookParam.css" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new HookParam object with selected modules. May be useful
for displaying a subset of the recorded data</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.hookParam.HookParam.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.hookParam.HookParam.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Records means and stds of all parameters</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.limits">
<span id="limits-module"></span><h2>limits module<a class="headerlink" href="#module-k1lib.callbacks.limits" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.limits.BatchLimit">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">BatchLimit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#BatchLimit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.BatchLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Cancels the epoch after executed certain number of batches</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.limits.EpochLimit">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">EpochLimit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#EpochLimit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.EpochLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Cancels the run after executed certain number of epochs</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.limits.TimeLimit">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">TimeLimit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#TimeLimit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.TimeLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Cancels the run after a certain number of seconds have passed</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.limits.CancelOnExplosion">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">CancelOnExplosion</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1000000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#CancelOnExplosion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.CancelOnExplosion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Cancels the run if any of the parameters are larger than a certain limit</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.limits.CancelOnLowLoss">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">CancelOnLowLoss</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochMode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#CancelOnLowLoss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.CancelOnLowLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<dl class="py method">
<dt id="k1lib.callbacks.limits.CancelOnLowLoss.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochMode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#CancelOnLowLoss.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.CancelOnLowLoss.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels the run if loss is lower than amount specified.
Original class: <a class="reference internal" href="#k1lib.callbacks.limits.CancelOnLowLoss" title="k1lib.callbacks.limits.CancelOnLowLoss"><code class="xref py py-class docutils literal notranslate"><span class="pre">CancelOnLowLoss</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>epochMode</strong> – False if use batch loss, True if use valid epoch loss</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.limits.CancelOnHighAccuracy">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">CancelOnHighAccuracy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#CancelOnHighAccuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.CancelOnHighAccuracy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Cancels the run if accuracy is higher than the amount specified</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.limits.DontTrain">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">DontTrain</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#DontTrain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.DontTrain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Don’t allow the network to train at all</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.limits.GradientClipping">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">GradientClipping</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#GradientClipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.GradientClipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Clips gradient to a specific max value</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.limits.GradientClippingNorm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.limits.</span></code><code class="sig-name descname"><span class="pre">GradientClippingNorm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_norm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">each</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/limits.html#GradientClippingNorm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.limits.GradientClippingNorm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Clips gradient to a specific max_norm value. Can choose to lump
all params together or do each separately.</p>
<p>See also: <a class="reference internal" href="#k1lib.callbacks.limits.GradientClipping" title="k1lib.callbacks.limits.GradientClipping"><code class="xref py py-class docutils literal notranslate"><span class="pre">GradientClipping</span></code></a> callback.</p>
</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.landscape">
<span id="landscape-module"></span><h2>landscape module<a class="headerlink" href="#module-k1lib.callbacks.landscape" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.landscape.Landscape">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.landscape.</span></code><code class="sig-name descname"><span class="pre">Landscape</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">propertyF</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">k1lib._learner.Learner</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/landscape.html#Landscape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.landscape.Landscape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<dl class="py method">
<dt id="k1lib.callbacks.landscape.Landscape.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">propertyF</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">k1lib._learner.Learner</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/landscape.html#Landscape.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.landscape.Landscape.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the landscape of the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>propertyF</strong> – a function that takes in <a class="reference internal" href="../base.html#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Learner</span></code></a> and outputs the
desired float property</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Remember to detach anything you get from <a class="reference internal" href="../base.html#k1lib.Learner" title="k1lib.Learner"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.Learner</span></code></a> in your
function, or else you’re gonna cause a huge memory leak.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.landscape.Landscape.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/landscape.html#Landscape.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.landscape.Landscape.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the landscapes and show plots</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.loss_accuracy">
<span id="loss-accuracy-module"></span><h2>loss_accuracy module<a class="headerlink" href="#module-k1lib.callbacks.loss_accuracy" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.loss_accuracy.Loss">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.loss_accuracy.</span></code><code class="sig-name descname"><span class="pre">Loss</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/loss_accuracy.html#Loss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.loss_accuracy.Loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Records losses after each batch.</p>
<dl class="py method">
<dt id="k1lib.callbacks.loss_accuracy.Loss.Landscape">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">Landscape</span></code><a class="headerlink" href="#k1lib.callbacks.loss_accuracy.Loss.Landscape" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets loss-landscape-plotting Callback</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.loss_accuracy.Loss.detach">
<code class="sig-name descname"><span class="pre">detach</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/loss_accuracy.html#Loss.detach"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.loss_accuracy.Loss.detach" title="Permalink to this definition">¶</a></dt>
<dd><p>Detaches from the parent <code class="xref py py-class docutils literal notranslate"><span class="pre">Callbacks</span></code></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.loss_accuracy.Accuracy">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.loss_accuracy.</span></code><code class="sig-name descname"><span class="pre">Accuracy</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/loss_accuracy.html#Accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.loss_accuracy.Accuracy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<dl class="py method">
<dt id="k1lib.callbacks.loss_accuracy.Accuracy.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/loss_accuracy.html#Accuracy.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.loss_accuracy.Accuracy.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Records accuracies after each batch.</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.loss_accuracy.Accuracy.Landscape">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">Landscape</span></code><a class="headerlink" href="#k1lib.callbacks.loss_accuracy.Accuracy.Landscape" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets accuracy-landscape-plotting Callback</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.paramFinder">
<span id="paramfinder-module"></span><h2>paramFinder module<a class="headerlink" href="#module-k1lib.callbacks.paramFinder" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.paramFinder.ParamFinder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.paramFinder.</span></code><code class="sig-name descname"><span class="pre">ParamFinder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/paramFinder.html#ParamFinder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.paramFinder.ParamFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<dl class="py method">
<dt id="k1lib.callbacks.paramFinder.ParamFinder.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/paramFinder.html#ParamFinder.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.paramFinder.ParamFinder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically finds out the right value for a specific parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tolerance</strong> – how much higher should the loss be to be considered a failure?</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.paramFinder.ParamFinder.suggestedValue">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">suggestedValue</span></code><a class="headerlink" href="#k1lib.callbacks.paramFinder.ParamFinder.suggestedValue" title="Permalink to this definition">¶</a></dt>
<dd><p>The suggested param value. Has to <a class="reference internal" href="#k1lib.callbacks.paramFinder.ParamFinder.run" title="k1lib.callbacks.paramFinder.ParamFinder.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> first, before
this value exists</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.paramFinder.ParamFinder.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#k1lib.callbacks.paramFinder.ParamFinder.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots loss at different param scales. Automatically <a class="reference internal" href="#k1lib.callbacks.paramFinder.ParamFinder.run" title="k1lib.callbacks.paramFinder.ParamFinder.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>
if hasn’t, returns a <a class="reference internal" href="../viz.html#k1lib.viz.SliceablePlot" title="k1lib.viz.SliceablePlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.viz.SliceablePlot</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> – Arguments to pass through to <a class="reference internal" href="#k1lib.callbacks.paramFinder.ParamFinder.run" title="k1lib.callbacks.paramFinder.ParamFinder.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> if a run is
required. Just for convenience sake</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.paramFinder.ParamFinder.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'lr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><a class="headerlink" href="#k1lib.callbacks.paramFinder.ParamFinder.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the optimin param value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>samples</strong> – how many samples to test between <span class="math notranslate nohighlight">\(10^{-6}\)</span> to <span class="math notranslate nohighlight">\(10^2\)</span></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the suggested param value</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.profiler">
<span id="profiler-module"></span><h2>profiler module<a class="headerlink" href="#module-k1lib.callbacks.profiler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.profiler.Profiler">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.profiler.</span></code><code class="sig-name descname"><span class="pre">Profiler</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/profiler.html#Profiler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.profiler.Profiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Profiles memory, time, and computational complexity of the network. See over
<a class="reference internal" href="profilers.html#module-k1lib.callbacks.profilers" title="k1lib.callbacks.profilers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">k1lib.callbacks.profilers</span></code></a> for more details on each of these profilers</p>
<dl class="py method">
<dt id="k1lib.callbacks.profiler.Profiler.clear">
<code class="sig-name descname"><span class="pre">clear</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/profiler.html#Profiler.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.profiler.Profiler.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears every child profilers</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.profiler.Profiler.memory">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">memory</span></code><a class="headerlink" href="#k1lib.callbacks.profiler.Profiler.memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the memory profiler</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.profiler.Profiler.computation">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">computation</span></code><a class="headerlink" href="#k1lib.callbacks.profiler.Profiler.computation" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the computation profiler</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.profiler.Profiler.time">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">time</span></code><a class="headerlink" href="#k1lib.callbacks.profiler.Profiler.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the time profiler</p>
</dd></dl>

<dl class="py method">
<dt id="k1lib.callbacks.profiler.Profiler.io">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">io</span></code><a class="headerlink" href="#k1lib.callbacks.profiler.Profiler.io" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the IO profiler</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.progress">
<span id="progress-module"></span><h2>progress module<a class="headerlink" href="#module-k1lib.callbacks.progress" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.progress.ProgressBar">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.progress.</span></code><code class="sig-name descname"><span class="pre">ProgressBar</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/progress.html#ProgressBar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.progress.ProgressBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Displays the current progress, epoch and batch while running.</p>
</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.recorder">
<span id="recorder-module"></span><h2>recorder module<a class="headerlink" href="#module-k1lib.callbacks.recorder" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.recorder.Recorder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.recorder.</span></code><code class="sig-name descname"><span class="pre">Recorder</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/recorder.html#Recorder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.recorder.Recorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Records xb, yb and y from a short run. No training involved.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Learner</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
<span class="n">l</span><span class="o">.</span><span class="n">cbs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Cbs</span><span class="o">.</span><span class="n">Recorder</span><span class="p">())</span>
<span class="n">xbs</span><span class="p">,</span> <span class="n">ybs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">Recorder</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">xbs</span> <span class="c1"># list of x batches passed in</span>
<span class="n">ybs</span> <span class="c1"># list of y batches passed in, &quot;the correct label&quot;</span>
<span class="n">ys</span> <span class="c1">#  list of network&#39;s output</span>
</pre></div>
</div>
<p>If you have extra metadata in your dataloader, then the recorder will return
(xb, yb, metab, ys) instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># creating a new dataloader that yields (xb, yb, metadata)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
<span class="n">dl</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="n">meta</span><span class="p">]</span> <span class="o">|</span> <span class="n">transpose</span><span class="p">()</span> <span class="o">|</span> <span class="n">randomize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="o">|</span> <span class="n">repeatFrom</span><span class="p">()</span> <span class="o">|</span> <span class="n">batched</span><span class="p">()</span>    <span class="o">|</span> <span class="p">(</span><span class="n">transpose</span><span class="p">()</span> <span class="o">|</span> <span class="p">(</span><span class="n">toTensor</span><span class="p">()</span> <span class="o">+</span> <span class="n">toTensor</span><span class="p">()</span> <span class="o">+</span> <span class="n">toTensor</span><span class="p">()))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="o">|</span> <span class="n">stagger</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="n">l</span> <span class="o">=</span> <span class="n">k1lib</span><span class="o">.</span><span class="n">Learner</span><span class="o">.</span><span class="n">sample</span><span class="p">();</span> <span class="n">l</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">dl</span><span class="p">,</span> <span class="p">[]]</span>
<span class="n">l</span><span class="o">.</span><span class="n">cbs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Cbs</span><span class="o">.</span><span class="n">Recorder</span><span class="p">())</span>
<span class="n">xbs</span><span class="p">,</span> <span class="n">ybs</span><span class="p">,</span> <span class="n">metabs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">Recorder</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="k1lib.callbacks.recorder.Recorder.record">
<code class="sig-name descname"><span class="pre">record</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batches</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.11.0a0+git96a56d1 ))"><span class="pre">torch.Tensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/k1lib/callbacks/recorder.html#Recorder.record"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.recorder.Recorder.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns recorded xBatch, yBatch and answer y</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-k1lib.callbacks.shorts">
<span id="shorts-module"></span><h2>shorts module<a class="headerlink" href="#module-k1lib.callbacks.shorts" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="k1lib.callbacks.shorts.Autosave">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">Autosave</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#Autosave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.Autosave" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Autosaves 3 versions of the network to disk</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.DontTrainValid">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">DontTrainValid</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#DontTrainValid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.DontTrainValid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>If is not training, then don’t run m.backward() and opt.step().
The core training loop in k1lib.Learner don’t specifically do this,
cause there may be some weird cases where you want to also train valid.</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.InspectLoss">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">InspectLoss</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#InspectLoss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.InspectLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Expected <cite>f</cite> to take in 1 float.</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.ModifyLoss">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">ModifyLoss</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#ModifyLoss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.ModifyLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Expected <cite>f</cite> to take in 1 float and return 1 float.</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.Cpu">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">Cpu</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#Cpu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.Cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Moves batch and model to CPU</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.Cuda">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">Cuda</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#Cuda"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.Cuda" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Moves batch and model to the default GPU</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.DType">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">DType</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#DType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.DType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Moves batch and model to a specified data type</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.InspectBatch">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">InspectBatch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">callable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#InspectBatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.InspectBatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Expected <cite>f</cite> to take in 2 tensors.</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.ModifyBatch">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">ModifyBatch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#ModifyBatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.ModifyBatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Modifies xb and yb on the fly. Expected <cite>f</cite>
to take in 2 tensors and return 2 tensors.</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.InspectOutput">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">InspectOutput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#InspectOutput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.InspectOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Expected <cite>f</cite> to take in 1 tensor.</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.ModifyOutput">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">ModifyOutput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#ModifyOutput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.ModifyOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Modifies output on the fly. Expected <cite>f</cite> to take
in 1 tensor and return 1 tensor</p>
</dd></dl>

<dl class="py class">
<dt id="k1lib.callbacks.shorts.Beep">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">k1lib.callbacks.shorts.</span></code><code class="sig-name descname"><span class="pre">Beep</span></code><a class="reference internal" href="../_modules/k1lib/callbacks/shorts.html#Beep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#k1lib.callbacks.shorts.Beep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#k1lib.callbacks.callbacks.Callback" title="k1lib.callbacks.callbacks.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">k1lib.callbacks.callbacks.Callback</span></code></a></p>
<p>Plays a beep sound when the run is over</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="lossFunctions.html" class="btn btn-neutral float-right" title="lossFunctions module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../cli/streams.html" class="btn btn-neutral float-left" title="Streams tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Quang Ho.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>